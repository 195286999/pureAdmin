import{a1 as Km,d as Bi,av as Em,r as uo,o as Zm,b as zt,h as ji,e as on,f as lo,g as gn,L as Jm,Y as Qm,J as xm,S as qm,k as Wo,j as Vo,ar as Sm,ay as eb,_ as ud,ax as tb,Z as jC,a8 as CC,i as rd,a0 as ld,l as rb,ak as RC,al as IC}from"./index.dc8f07af.js";import{u as _C}from"./hooks.3a8aff72.js";import{r as BC}from"./vue.runtime.esm-bundler.9b428b3a.js";const LC=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],zC={flowElementList:LC};var Ke={exports:{}};(function(m,v){(function(c,i){m.exports=i()})(window,function(){return function(u){var c={};function i(s){if(c[s])return c[s].exports;var f=c[s]={i:s,l:!1,exports:{}};return u[s].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(s,f,g){i.o(s,f)||Object.defineProperty(s,f,{enumerable:!0,get:g})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,f){if(f&1&&(s=i(s)),f&8||f&4&&typeof s=="object"&&s&&s.__esModule)return s;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:s}),f&2&&typeof s!="string")for(var b in s)i.d(g,b,function(x){return s[x]}.bind(null,b));return g},i.n=function(s){var f=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(f,"a",f),f},i.o=function(s,f){return Object.prototype.hasOwnProperty.call(s,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(s,f){i.d(c,"a",function(){return D}),i.d(c,"b",function(){return oi}),i.d(c,"c",function(){return sn}),i.d(c,"d",function(){return sr}),i.d(c,"e",function(){return Ue}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return zi}),i.d(c,"h",function(){return Vn}),i.d(c,"i",function(){return nt}),i.d(c,"j",function(){return Sr}),i.d(c,"k",function(){return Ur}),i.d(c,"l",function(){return Dr}),i.d(c,"m",function(){return xr}),i.d(c,"n",function(){return hs}),i.d(c,"o",function(){return le}),i.d(c,"p",function(){return Os}),i.d(c,"q",function(){return ni}),i.d(c,"r",function(){return ys}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Zi}),i.d(c,"u",function(){return fs}),i.d(c,"v",function(){return gs}),i.d(c,"w",function(){return ms}),i.d(c,"x",function(){return Sn}),i.d(c,"y",function(){return Cr}),i.d(c,"z",function(){return $t}),i.d(c,"A",function(){return yr}),i.d(c,"B",function(){return Pn}),i.d(c,"C",function(){return bt}),i.d(c,"D",function(){return Es}),i.d(c,"E",function(){return ri}),i.d(c,"F",function(){return ds}),i.d(c,"G",function(){return ss}),i.d(c,"H",function(){return Xi}),i.d(c,"I",function(){return Ps}),i.d(c,"J",function(){return Pr}),i.d(c,"K",function(){return te}),i.d(c,"L",function(){return bs}),i.d(c,"M",function(){return Mn});var g="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function S(){return++ke.mobxGuid}function P(d){throw N(!1,d),"X"}function N(d,h){if(!d)throw new Error("[mobx] "+(h||g))}function A(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var R=function(){};function I(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function L(d){return d!==null&&typeof d=="object"}function G(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function U(d){if(q(d)||$t(d))return d;if(Array.isArray(d))return new Map(d);if(G(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function Y(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ue(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function ae(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function ee(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(j){return L(j)&&j[O]===!0}}function q(d){return d instanceof Map}function se(d){return d instanceof Set}function z(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(j){Object.getOwnPropertyDescriptor(d,j).enumerable&&h.add(j)}),Array.from(h)}function W(d){return d&&d.toString?d.toString():new String(d).toString()}function T(d){return d===null?null:typeof d=="object"?""+d:d}var M=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,D=Symbol("mobx administration"),X=function(){function d(h){h===void 0&&(h="Atom@"+S()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=rt.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return ki(this)},d.prototype.reportChanged=function(){Mt(),ts(this),hr()},d.prototype.toString=function(){return this.name},d}(),Z=ee("Atom",X);function le(d,h,O){h===void 0&&(h=R),O===void 0&&(O=R);var j=new X(d);return h!==R&&ps(j,h),O!==R&&ri(j,O),j}function be(d,h){return d===h}function me(d,h){return bo(d,h)}function ge(d,h){return bo(d,h,1)}function Ee(d,h){return Object.is(d,h)}var Oe={identity:be,structural:me,default:Ee,shallow:ge};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ae=function(d,h){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,j){O.__proto__=j}||function(O,j){for(var H in j)j.hasOwnProperty(H)&&(O[H]=j[H])},Ae(d,h)};function ze(d,h){Ae(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ye=function(){return Ye=Object.assign||function(h){for(var O,j=1,H=arguments.length;j<H;j++){O=arguments[j];for(var K in O)Object.prototype.hasOwnProperty.call(O,K)&&(h[K]=O[K])}return h},Ye.apply(this,arguments)};function Re(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Se(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var j=O.call(d),H,K=[],pe;try{for(;(h===void 0||h-- >0)&&!(H=j.next()).done;)K.push(H.value)}catch(Me){pe={error:Me}}finally{try{H&&!H.done&&(O=j.return)&&O.call(j)}finally{if(pe)throw pe.error}}return K}function Ie(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Se(arguments[h]));return d}var _e=Symbol("mobx did run lazy initializers"),_=Symbol("mobx pending decorators"),F={},V={};function fe(d,h){var O=h?F:V;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return ve(this),this[d]},set:function(j){ve(this),this[d]=j}})}function ve(d){var h,O;if(d[_e]!==!0){var j=d[_];if(j){Y(d,_e,!0);var H=Ie(Object.getOwnPropertySymbols(j),Object.keys(j));try{for(var K=Re(H),pe=K.next();!pe.done;pe=K.next()){var Me=pe.value,$e=j[Me];$e.propertyCreator(d,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(ft){h={error:ft}}finally{try{pe&&!pe.done&&(O=K.return)&&O.call(K)}finally{if(h)throw h.error}}}}}function de(d,h){return function(){var j,H=function(pe,Me,$e,ft){if(ft===!0)return h(pe,Me,$e,pe,j),null;if(!Object.prototype.hasOwnProperty.call(pe,_)){var ct=pe[_];Y(pe,_,Ye({},ct))}return pe[_][Me]={prop:Me,propertyCreator:h,descriptor:$e,decoratorTarget:pe,decoratorArguments:j},fe(Me,d)};return Be(arguments)?(j=b,H.apply(null,arguments)):(j=Array.prototype.slice.call(arguments),H)}}function Be(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function Je(d,h,O){return Sn(d)?d:Array.isArray(d)?bt.array(d,{name:O}):G(d)?bt.object(d,void 0,{name:O}):q(d)?bt.map(d,{name:O}):se(d)?bt.set(d,{name:O}):d}function Xe(d,h,O){return d==null||yr(d)||Cr(d)||$t(d)||fr(d)?d:Array.isArray(d)?bt.array(d,{name:O,deep:!1}):G(d)?bt.object(d,void 0,{name:O,deep:!1}):q(d)?bt.map(d,{name:O,deep:!1}):se(d)?bt.set(d,{name:O,deep:!1}):P(!1)}function We(d){return d}function ye(d,h,O){return bo(d,h)?h:d}function it(d){N(d);var h=de(!0,function(j,H,K,pe,Me){var $e=K?K.initializer?K.initializer.call(j):K.value:void 0;ii(j).addObservableProp(H,$e,d)}),O=(typeof s<"u"&&s.env,h);return O.enhancer=d,O}var qe={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(qe);function Fe(d){return d==null?qe:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=it(Je),xt=it(Xe),lt=it(We),mt=it(ye);function ne(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?We:Je}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(Sn(d))return d;var j=G(d)?bt.object(d,h,O):Array.isArray(d)?bt.array(d,h):q(d)?bt.map(d,h):se(d)?bt.set(d,h):d;if(j!==d)return j;P(!1)}var Pt={box:function(d,h){arguments.length>2&&Wt("box");var O=Fe(h);return new ln(d,ne(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Wt("array");var O=Fe(h);return Ds(d,ne(O),O.name)},map:function(d,h){arguments.length>2&&Wt("map");var O=Fe(h);return new oi(d,ne(O),O.name)},set:function(d,h){arguments.length>2&&Wt("set");var O=Fe(h);return new aa(d,ne(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Wt("object");var j=Fe(O);if(j.proxy===!1)return ni({},d,h,j);var H=Vi(j),K=ni({},void 0,void 0,j),pe=An(K);return Ki(pe,d,h,H),pe},ref:lt,shallow:xt,deep:Qe,struct:mt},bt=Ct;Object.keys(Pt).forEach(function(d){return bt[d]=Pt[d]});function Wt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var pr=de(!1,function(d,h,O,j,H){var K=O.get,pe=O.set,Me=H[0]||{};ii(d).addComputedProp(d,h,Ye({get:K,set:pe,context:d},Me))}),Zt=pr({equals:Oe.structural}),xr=function(h,O,j){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return pr.apply(null,arguments);var H=typeof O=="object"?O:{};return H.get=h,H.set=typeof O=="function"?O:H.set,H.name=H.name||h.name||"",new bn(H)};xr.struct=Zt;var rt;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(rt||(rt={}));var Tt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Tt||(Tt={}));var nr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof nr}function Ve(d){switch(d.dependenciesState){case rt.UP_TO_DATE:return!1;case rt.NOT_TRACKING:case rt.STALE:return!0;case rt.POSSIBLY_STALE:{for(var h=De(!0),O=re(),j=d.observing,H=j.length,K=0;K<H;K++){var pe=j[K];if(On(pe)){if(ke.disableErrorBoundaries)pe.get();else try{pe.get()}catch{return we(O),Ue(h),!0}if(d.dependenciesState===rt.STALE)return we(O),Ue(h),!0}}return vt(d),we(O),Ue(h),!1}}}function nt(){return ke.trackingDerivation!==null}function tt(d){var h=d.observers.size>0;ke.computationDepth>0&&h&&P(!1),!ke.allowStateChanges&&(h||ke.enforceActions==="strict")&&P(!1)}function st(d,h,O){var j=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++ke.runId;var H=ke.trackingDerivation;ke.trackingDerivation=d;var K;if(ke.disableErrorBoundaries===!0)K=h.call(O);else try{K=h.call(O)}catch(pe){K=new nr(pe)}return ke.trackingDerivation=H,k(d),Ue(j),K}function k(d){for(var h=d.observing,O=d.observing=d.newObserving,j=rt.UP_TO_DATE,H=0,K=d.unboundDepsCount,pe=0;pe<K;pe++){var Me=O[pe];Me.diffValue===0&&(Me.diffValue=1,H!==pe&&(O[H]=Me),H++),Me.dependenciesState>j&&(j=Me.dependenciesState)}for(O.length=H,d.newObserving=null,K=h.length;K--;){var Me=h[K];Me.diffValue===0&&$r(Me,d),Me.diffValue=0}for(;H--;){var Me=O[H];Me.diffValue===1&&(Me.diffValue=0,es(Me,d))}j!==rt.UP_TO_DATE&&(d.dependenciesState=j,d.onBecomeStale())}function J(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)$r(h[O],d);d.dependenciesState=rt.NOT_TRACKING}function te(d){var h=re();try{return d()}finally{we(h)}}function re(){var d=ke.trackingDerivation;return ke.trackingDerivation=null,d}function we(d){ke.trackingDerivation=d}function De(d){var h=ke.allowStateReads;return ke.allowStateReads=d,h}function Ue(d){ke.allowStateReads=d}function vt(d){if(d.dependenciesState!==rt.UP_TO_DATE){d.dependenciesState=rt.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=rt.UP_TO_DATE}}var Jt=0,Qt=1,Gn=Object.getOwnPropertyDescriptor(function(){},"name");Gn&&Gn.configurable;function kr(d,h,O){var j=function(){return Li(d,h,O||this,arguments)};return j.isMobxAction=!0,j}function Li(d,h,O,j){var H=Sr();try{return h.apply(O,j)}catch(K){throw H.error=K,K}finally{zi(H)}}function Sr(d,h,O){var j=Rt(),H=0,K=re();Mt();var pe=mn(!0),Me=De(!0),$e={prevDerivation:K,prevAllowStateChanges:pe,prevAllowStateReads:Me,notifySpy:j,startTime:H,actionId:Qt++,parentActionId:Jt};return Jt=$e.actionId,$e}function zi(d){Jt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Jt=d.parentActionId,d.error!==void 0&&(ke.suppressReactionErrors=!0),kn(d.prevAllowStateChanges),Ue(d.prevAllowStateReads),hr(),we(d.prevDerivation),d.notifySpy,ke.suppressReactionErrors=!1}function sr(d,h){var O=mn(d),j;try{j=h()}finally{kn(O)}return j}function mn(d){var h=ke.allowStateChanges;return ke.allowStateChanges=d,h}function kn(d){ke.allowStateChanges=d}var ln=function(d){ze(h,d);function h(O,j,H,K,pe){H===void 0&&(H="ObservableValue@"+S()),K===void 0&&(K=!0),pe===void 0&&(pe=Oe.default);var Me=d.call(this,H)||this;return Me.enhancer=j,Me.name=H,Me.equals=pe,Me.hasUnreportedChange=!1,Me.value=j(O,void 0,H),K&&Rt(),Me}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var j=this.value;if(O=this.prepareNewValue(O),O!==ke.UNCHANGED){var H=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(tt(this),Tr(this)){var j=Mr(this,{object:this,type:"update",newValue:O});if(!j)return ke.UNCHANGED;O=j.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?ke.UNCHANGED:O},h.prototype.setNewValue=function(O){var j=this.value;this.value=O,this.reportChanged(),vr(this)&&qt(this,{type:"update",object:this,newValue:O,oldValue:j})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Yn(this,O)},h.prototype.observe=function(O,j){return j&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Wn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return T(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(X),$n=ee("ObservableValue",ln),bn=function(){function d(h){this.dependenciesState=rt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=rt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new nr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Tt.NONE,N(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+S(),h.set&&(this.setter=kr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Oe.structural:Oe.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){ns(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),ke.inBatch===0&&this.observers.size===0&&!this.keepAlive?Ve(this)&&(this.warnAboutUntrackedRead(),Mt(),this.value=this.computeValue(!1),hr()):(ki(this),Ve(this)&&this.trackAndCompute()&&rs(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){N(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else N(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===rt.NOT_TRACKING,j=this.computeValue(!0),H=O||je(h)||je(j)||!this.equals(h,j);return H&&(this.value=j),H},d.prototype.computeValue=function(h){this.isComputing=!0,ke.computationDepth++;var O;if(h)O=st(this,this.derivation,this.scope);else if(ke.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(j){O=new nr(j)}return ke.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},d.prototype.observe=function(h,O){var j=this,H=!0,K=void 0;return Dr(function(){var pe=j.get();if(!H||O){var Me=re();h({type:"update",object:j,newValue:pe,oldValue:K}),we(Me)}H=!1,K=pe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return T(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),On=ee("ComputedValue",bn),fo=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),ql={};function co(){return typeof window<"u"?window:typeof f<"u"?f:typeof self<"u"?self:ql}var po=!0,Fi=!1,ke=function(){var d=co();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(po=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new fo().version&&(po=!1),po?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new fo):(setTimeout(function(){Fi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new fo)}();function Hi(){(ke.pendingReactions.length||ke.inBatch||ke.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Fi=!0,po&&(--co().__mobxInstanceCount===0&&(co().__mobxGlobals=void 0),ke=new fo)}function es(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function $r(d,h){d.observers.delete(h),d.observers.size===0&&Gi(d)}function Gi(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,ke.pendingUnobservations.push(d))}function Mt(){ke.inBatch++}function hr(){if(--ke.inBatch===0){Ui();for(var d=ke.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof bn&&O.suspend())}ke.pendingUnobservations=[]}}function ki(d){var h=ke.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&ke.inBatch>0&&Gi(d),!1)}function ts(d){d.lowestObserverState!==rt.STALE&&(d.lowestObserverState=rt.STALE,d.observers.forEach(function(h){h.dependenciesState===rt.UP_TO_DATE&&(h.isTracing!==Tt.NONE&&ho(h,d),h.onBecomeStale()),h.dependenciesState=rt.STALE}))}function rs(d){d.lowestObserverState!==rt.STALE&&(d.lowestObserverState=rt.STALE,d.observers.forEach(function(h){h.dependenciesState===rt.POSSIBLY_STALE?h.dependenciesState=rt.STALE:h.dependenciesState===rt.UP_TO_DATE&&(d.lowestObserverState=rt.UP_TO_DATE)}))}function ns(d){d.lowestObserverState===rt.UP_TO_DATE&&(d.lowestObserverState=rt.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===rt.UP_TO_DATE&&(h.dependenciesState=rt.POSSIBLY_STALE,h.isTracing!==Tt.NONE&&ho(h,d),h.onBecomeStale())}))}function ho(d,h){if(console.log("[mobx.trace] '"+d.name+"' is invalidated due to a change in: '"+h.name+"'"),d.isTracing===Tt.BREAK){var O=[];$i(Zi(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof bn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function $i(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(j){return $i(j,h,O+1)})}var sn=function(){function d(h,O,j,H){h===void 0&&(h="Reaction@"+S()),H===void 0&&(H=!1),this.name=h,this.onInvalidate=O,this.errorHandler=j,this.requiresObservable=H,this.observing=[],this.newObserving=[],this.dependenciesState=rt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Tt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ke.pendingReactions.push(this),Ui())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(Mt(),this._isScheduled=!1,Ve(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}hr()}},d.prototype.track=function(h){if(!this.isDisposed){Mt(),this._isRunning=!0;var O=st(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),je(O)&&this.reportExceptionInDerivation(O.cause),hr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(ke.disableErrorBoundaries)throw h;var j="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ke.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(j,h),ke.globalReactionErrorHandlers.forEach(function(H){return H(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Mt(),J(this),hr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[D]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),Ts(this,h)},d}(),qo=100,ei=function(d){return d()};function Ui(){ke.inBatch>0||ke.isRunningReactions||ei(os)}function os(){ke.isRunningReactions=!0;for(var d=ke.pendingReactions,h=0;d.length>0;){++h===qo&&(console.error("Reaction doesn't converge to a stable state after "+qo+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),j=0,H=O.length;j<H;j++)O[j].runReaction()}ke.isRunningReactions=!1}var vo=ee("Reaction",sn);function is(d){var h=ei;ei=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function pd(d){}function hd(d){}function vd(d){}function Xi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function as(){P(!1)}function Yi(d){return function(h,O,j){if(j){if(j.value)return{value:kr(d,j.value),enumerable:!1,configurable:!0,writable:!0};var H=j.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return kr(d,H.call(this))}}}return us(d).apply(this,arguments)}}function us(d){return function(h,O,j){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(H){Y(this,O,Ur(d,H))}})}}function ls(d,h,O,j){return j===!0?(ti(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return ti(this,h,O.value||O.initializer.call(this)),this[h]},set:as}:{enumerable:!1,configurable:!0,set:function(H){ti(this,h,H)},get:function(){}}}var Ur=function(h,O,j,H){if(arguments.length===1&&typeof h=="function")return kr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return kr(h,O);if(arguments.length===1&&typeof h=="string")return Yi(h);if(H===!0)Y(h,O,kr(h.name||O,j.value,this));else return Yi(O).apply(null,arguments)};Ur.bound=ls;function ss(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",j=typeof d=="function"?d:h;return Li(O,j,this,void 0)}function fs(d){return typeof d=="function"&&d.isMobxAction===!0}function ti(d,h,O){Y(d,h,kr(h,O.bind(d)))}function Dr(d,h){h===void 0&&(h=x);var O=h&&h.name||d.name||"Autorun@"+S(),j=!h.scheduler&&!h.delay,H;if(j)H=new sn(O,function(){this.track(Me)},h.onError,h.requiresObservable);else{var K=En(h),pe=!1;H=new sn(O,function(){pe||(pe=!0,K(function(){pe=!1,H.isDisposed||H.track(Me)}))},h.onError,h.requiresObservable)}function Me(){d(H)}return H.schedule(),H.getDisposer()}var cs=function(d){return d()};function En(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:cs}function ds(d,h,O){O===void 0&&(O=x);var j=O.name||"Reaction@"+S(),H=Ur(j,O.onError?Un(O.onError,h):h),K=!O.scheduler&&!O.delay,pe=En(O),Me=!0,$e=!1,ft,ct=O.compareStructural?Oe.structural:O.equals||Oe.default,Ot=new sn(j,function(){Me||K?St():$e||($e=!0,pe(St))},O.onError,O.requiresObservable);function St(){if($e=!1,!Ot.isDisposed){var _t=!1;Ot.track(function(){var Ut=d(Ot);_t=Me||!ct(ft,Ut),ft=Ut}),Me&&O.fireImmediately&&H(ft,Ot),!Me&&_t===!0&&H(ft,Ot),Me&&(Me=!1)}}return Ot.schedule(),Ot.getDisposer()}function Un(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function ps(d,h,O){return Wi("onBecomeObserved",d,h,O)}function ri(d,h,O){return Wi("onBecomeUnobserved",d,h,O)}function Wi(d,h,O,j){var H=typeof j=="function"?wr(h,O):wr(h),K=typeof j=="function"?j:O,pe=d+"Listeners";H[pe]?H[pe].add(K):H[pe]=new Set([K]);var Me=H[d];return typeof Me!="function"?P(!1):function(){var $e=H[pe];$e&&($e.delete(K),$e.size===0&&delete H[pe])}}function hs(d){var h=d.enforceActions,O=d.computedRequiresReaction,j=d.computedConfigurable,H=d.disableErrorBoundaries,K=d.reactionScheduler,pe=d.reactionRequiresObservable,Me=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Hi(),h!==void 0){var $e=void 0;switch(h){case!0:case"observed":$e=!0;break;case!1:case"never":$e=!1;break;case"strict":case"always":$e="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}ke.enforceActions=$e,ke.allowStateChanges=!($e===!0||$e==="strict")}O!==void 0&&(ke.computedRequiresReaction=!!O),pe!==void 0&&(ke.reactionRequiresObservable=!!pe),Me!==void 0&&(ke.observableRequiresReaction=!!Me,ke.allowStateReads=!ke.observableRequiresReaction),j!==void 0&&(ke.computedConfigurable=!!j),H!==void 0&&(H===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),ke.disableErrorBoundaries=!!H),K&&is(K)}function ni(d,h,O,j){j=Fe(j);var H=Vi(j);return ve(d),ii(d,j.name,H.enhancer),h&&Ki(d,h,O,H),d}function Vi(d){return d.defaultDecorator||(d.deep===!1?lt:Qe)}function Ki(d,h,O,j){var H,K,pe,Me;Mt();try{var Me=M(h);try{for(var $e=Re(Me),ft=$e.next();!ft.done;ft=$e.next()){var pe=ft.value,ct=Object.getOwnPropertyDescriptor(h,pe),Ot=O&&pe in O?O[pe]:ct.get?pr:j,St=Ot(d,pe,ct,!0);St&&Object.defineProperty(d,pe,St)}}catch(Ut){H={error:Ut}}finally{try{ft&&!ft.done&&(K=$e.return)&&K.call($e)}finally{if(H)throw H.error}}}finally{hr()}}function Zi(d,h){return Ji(wr(d,h))}function Ji(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=I(d.observing).map(Ji)),h}var vs=0;function Qi(){this.message="FLOW_CANCELLED"}Qi.prototype=Object.create(Error.prototype);function ys(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,j=arguments,H=++vs,K=Ur(h+" - runid: "+H+" - init",d).apply(O,j),pe,Me=void 0,$e=new Promise(function(ft,ct){var Ot=0;pe=ct;function St(wt){Me=void 0;var gr;try{gr=Ur(h+" - runid: "+H+" - yield "+Ot++,K.next).call(K,wt)}catch(Nn){return ct(Nn)}Ut(gr)}function _t(wt){Me=void 0;var gr;try{gr=Ur(h+" - runid: "+H+" - yield "+Ot++,K.throw).call(K,wt)}catch(Nn){return ct(Nn)}Ut(gr)}function Ut(wt){if(wt&&typeof wt.then=="function"){wt.then(Ut,ct);return}return wt.done?ft(wt.value):(Me=Promise.resolve(wt.value),Me.then(St,_t))}St(void 0)});return $e.cancel=Ur(h+" - runid: "+H+" - cancel",function(){try{Me&&qi(Me);var ft=K.return(void 0),ct=Promise.resolve(ft.value);ct.then(R,R),qi(ct),pe(new Qi)}catch(Ot){pe(Ot)}}),$e}}function qi(d){typeof d.cancel=="function"&&d.cancel()}function ea(d,h){if(d==null)return!1;if(h!==void 0){if(yr(d)===!1||!d[D].values.has(h))return!1;var O=wr(d,h);return On(O)}return On(d)}function gs(d){return arguments.length>1?P(!1):ea(d)}function ms(d,h){return typeof h!="string"?P(!1):ea(d,h)}function xn(d,h){return d==null?!1:h!==void 0?yr(d)?d[D].values.has(h):!1:yr(d)||!!d[D]||Z(d)||vo(d)||On(d)}function Sn(d){return arguments.length!==1&&P(!1),xn(d)}function Pn(d){return yr(d)?d[D].getKeys():$t(d)||fr(d)?Array.from(d.keys()):Cr(d)?d.map(function(h,O){return O}):P(!1)}function bs(d){return yr(d)?Pn(d).map(function(h){return d[h]}):$t(d)?Pn(d).map(function(h){return d.get(h)}):fr(d)?Array.from(d.values()):Cr(d)?d.slice():P(!1)}function Os(d){return yr(d)?Pn(d).map(function(h){return[h,d[h]]}):$t(d)?Pn(d).map(function(h){return[h,d.get(h)]}):fr(d)?Array.from(d.entries()):Cr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function ta(d,h,O){if(arguments.length===2&&!fr(d)){Mt();var j=h;try{for(var H in j)ta(d,H,j[H])}finally{hr()}return}if(yr(d)){var K=d[D],pe=K.values.get(h);pe?K.write(h,O):K.addObservableProp(h,O,K.defaultEnhancer)}else if($t(d))d.set(h,O);else if(fr(d))d.add(h);else if(Cr(d))typeof h!="number"&&(h=parseInt(h,10)),N(h>=0,"Not a valid index: '"+h+"'"),Mt(),h>=d.length&&(d.length=h+1),d[h]=O,hr();else return P(!1)}function Es(d,h,O,j){return typeof O=="function"?xs(d,h,O,j):yo(d,h,O)}function yo(d,h,O){return Vn(d).observe(h,O)}function xs(d,h,O,j){return Vn(d,h).observe(O,j)}var Ss={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Tn(d,h,O,j){return j.detectCycles&&d.set(h,O),O}function Xr(d,h,O){if(!h.recurseEverything&&!Sn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if($n(d))return Xr(d.get(),h,O);Sn(d)&&Pn(d);var j=h.detectCycles===!0;if(j&&d!==null&&O.has(d))return O.get(d);if(Cr(d)||Array.isArray(d)){var H=Tn(O,d,[],h),K=d.map(function(_t){return Xr(_t,h,O)});H.length=K.length;for(var pe=0,Me=K.length;pe<Me;pe++)H[pe]=K[pe];return H}if(fr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var $e=Tn(O,d,new Set,h);return d.forEach(function(_t){$e.add(Xr(_t,h,O))}),$e}else{var ft=Tn(O,d,[],h);return d.forEach(function(_t){ft.push(Xr(_t,h,O))}),ft}if($t(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var ct=Tn(O,d,new Map,h);return d.forEach(function(_t,Ut){ct.set(Ut,Xr(_t,h,O))}),ct}else{var Ot=Tn(O,d,{},h);return d.forEach(function(_t,Ut){Ot[Ut]=Xr(_t,h,O)}),Ot}var St=Tn(O,d,{},h);return z(d).forEach(function(_t){St[_t]=Xr(d[_t],h,O)}),St}function Ps(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=Ss),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Xr(d,h,O)}function Ts(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var j=Ms(d);if(!j)return P(!1);j.isTracing===Tt.NONE&&console.log("[mobx.trace] '"+j.name+"' tracing enabled"),j.isTracing=O?Tt.BREAK:Tt.LOG}function Ms(d){switch(d.length){case 0:return ke.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Pr(d,h){h===void 0&&(h=void 0),Mt();try{return d.apply(h)}finally{hr()}}function Mn(d,h,O){return arguments.length===1||h&&typeof h=="object"?ws(d,h):Xn(d,h,O||{})}function Xn(d,h,O){var j;typeof O.timeout=="number"&&(j=setTimeout(function(){if(!K[D].isDisposed){K();var pe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(pe);else throw pe}},O.timeout)),O.name=O.name||"When@"+S();var H=kr(O.name+"-effect",h),K=Dr(function(pe){d()&&(pe.dispose(),j&&clearTimeout(j),H())},O);return K}function ws(d,h){var O,j=new Promise(function(H,K){var pe=Xn(d,H,Ye(Ye({},h),{onError:K}));O=function(){pe(),K("WHEN_CANCELLED")}});return j.cancel=O,j}function go(d){return d[D]}function mo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var wn={has:function(d,h){if(h===D||h==="constructor"||h===_e)return!0;var O=go(d);return mo(h)?O.has(h):h in d},get:function(d,h){if(h===D||h==="constructor"||h===_e)return d[h];var O=go(d),j=O.values.get(h);if(j instanceof X){var H=j.get();return H===void 0&&O.has(h),H}return mo(h)&&O.has(h),d[h]},set:function(d,h,O){return mo(h)?(ta(d,h,O),!0):!1},deleteProperty:function(d,h){if(!mo(h))return!1;var O=go(d);return O.remove(h),!0},ownKeys:function(d){var h=go(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function An(d){var h=new Proxy(d,wn);return d[D].proxy=h,h}function Tr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Yn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),A(function(){var j=O.indexOf(h);j!==-1&&O.splice(j,1)})}function Mr(d,h){var O=re();try{for(var j=Ie(d.interceptors||[]),H=0,K=j.length;H<K&&(h=j[H](h),N(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);H++);return h}finally{we(O)}}function vr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Wn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),A(function(){var j=O.indexOf(h);j!==-1&&O.splice(j,1)})}function qt(d,h){var O=re(),j=d.changeListeners;if(!!j){j=j.slice();for(var H=0,K=j.length;H<K;H++)j[H](h);we(O)}}var As=1e4,Ns={get:function(d,h){return h===D?d[D]:h==="length"?d[D].getArrayLength():typeof h=="number"?jr.get.call(d,h):typeof h=="string"&&!isNaN(h)?jr.get.call(d,parseInt(h)):jr.hasOwnProperty(h)?jr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[D].setArrayLength(O),typeof h=="number"&&jr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:jr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function Ds(d,h,O,j){O===void 0&&(O="ObservableArray@"+S()),j===void 0&&(j=!1);var H=new ra(O,h,j);ue(H.values,D,H);var K=new Proxy(H.values,Ns);if(H.proxy=K,d&&d.length){var pe=mn(!0);H.spliceWithArray(0,0,d),kn(pe)}return K}var ra=function(){function d(h,O,j){this.owned=j,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new X(h||"ObservableArray@"+S()),this.enhancer=function(H,K){return O(H,K,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Yn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Wn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var j=new Array(h-O),H=0;H<h-O;H++)j[H]=void 0;this.spliceWithArray(O,0,j)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,j){var H=this;tt(this.atom);var K=this.values.length;if(h===void 0?h=0:h>K?h=K:h<0&&(h=Math.max(0,K+h)),arguments.length===1?O=K-h:O==null?O=0:O=Math.max(0,Math.min(O,K-h)),j===void 0&&(j=b),Tr(this)){var pe=Mr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:j});if(!pe)return b;O=pe.removedCount,j=pe.added}j=j.length===0?j:j.map(function($e){return H.enhancer($e,void 0)});var Me=this.spliceItemsIntoValues(h,O,j);return(O!==0||j.length!==0)&&this.notifyArraySplice(h,j,Me),this.dehanceValues(Me)},d.prototype.spliceItemsIntoValues=function(h,O,j){var H;if(j.length<As)return(H=this.values).splice.apply(H,Ie([h,O],j));var K=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(j,this.values.slice(h+O)),K},d.prototype.notifyArrayChildUpdate=function(h,O,j){var H=!this.owned&&Rt(),K=vr(this),pe=K||H?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:j}:null;this.atom.reportChanged(),K&&qt(this,pe)},d.prototype.notifyArraySplice=function(h,O,j){var H=!this.owned&&Rt(),K=vr(this),pe=K||H?{object:this.proxy,type:"splice",index:h,removed:j,added:O,removedCount:j.length,addedCount:O.length}:null;this.atom.reportChanged(),K&&qt(this,pe)},d}(),jr={intercept:function(d){return this[D].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[D];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[D];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],j=2;j<arguments.length;j++)O[j-2]=arguments[j];var H=this[D];switch(arguments.length){case 0:return[];case 1:return H.spliceWithArray(d);case 2:return H.spliceWithArray(d,h)}return H.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var j=this[D];return j.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[D];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[D].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[D];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[D],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[D];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[D],j=O.values;if(d<j.length){tt(O.atom);var H=j[d];if(Tr(O)){var K=Mr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!K)return;h=K.newValue}h=O.enhancer(h,H);var pe=h!==H;pe&&(j[d]=h,O.notifyArrayChildUpdate(d,h,H))}else if(d===j.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+j.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(){var h=this[D];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(h,O){var j=this,H=this[D];H.atom.reportObserved();var K=H.dehanceValues(H.values);return K[d](function(pe,Me){return h.call(O,pe,Me,j)},O)})}),["reduce","reduceRight"].forEach(function(d){jr[d]=function(){var h=this,O=this[D];O.atom.reportObserved();var j=arguments[0];return arguments[0]=function(H,K,pe){return K=O.dehanceValue(K),j(H,K,pe,h)},O.values[d].apply(O.values,arguments)}});var js=ee("ObservableArrayAdministration",ra);function Cr(d){return L(d)&&js(d[D])}var na,oa={},oi=function(){function d(h,O,j){if(O===void 0&&(O=Je),j===void 0&&(j="ObservableMap@"+S()),this.enhancer=O,this.name=j,this[na]=oa,this._keysAtom=le(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!ke.trackingDerivation)return this._has(h);var j=this._hasMap.get(h);if(!j){var H=j=new ln(this._has(h),We,this.name+"."+W(h)+"?",!1);this._hasMap.set(h,H),ri(H,function(){return O._hasMap.delete(h)})}return j.get()},d.prototype.set=function(h,O){var j=this._has(h);if(Tr(this)){var H=Mr(this,{type:j?"update":"add",object:this,newValue:O,name:h});if(!H)return this;O=H.newValue}return j?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(tt(this._keysAtom),Tr(this)){var j=Mr(this,{type:"delete",object:this,name:h});if(!j)return!1}if(this._has(h)){var H=Rt(),K=vr(this),j=K||H?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Pr(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Me=O._data.get(h);Me.setNewValue(void 0),O._data.delete(h)}),K&&qt(this,j),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var j=this._hasMap.get(h);j&&j.setNewValue(O)},d.prototype._updateValue=function(h,O){var j=this._data.get(h);if(O=j.prepareNewValue(O),O!==ke.UNCHANGED){var H=Rt(),K=vr(this),pe=K||H?{type:"update",object:this,oldValue:j.value,name:h,newValue:O}:null;j.setNewValue(O),K&&qt(this,pe)}},d.prototype._addValue=function(h,O){var j=this;tt(this._keysAtom),Pr(function(){var Me=new ln(O,j.enhancer,j.name+"."+W(h),!1);j._data.set(h,Me),O=Me.value,j._updateHasMapEntry(h,!0),j._keysAtom.reportChanged()});var H=Rt(),K=vr(this),pe=K||H?{type:"add",object:this,name:h,newValue:O}:null;K&&qt(this,pe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return Oo({next:function(){var j=O.next(),H=j.done,K=j.value;return{done:H,value:H?void 0:h.get(K)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return Oo({next:function(){var j=O.next(),H=j.done,K=j.value;return{done:H,value:H?void 0:[K,h.get(K)]}}})},d.prototype[na=D,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var j,H;try{for(var K=Re(this),pe=K.next();!pe.done;pe=K.next()){var Me=Se(pe.value,2),$e=Me[0],ft=Me[1];h.call(O,ft,$e,this)}}catch(ct){j={error:ct}}finally{try{pe&&!pe.done&&(H=K.return)&&H.call(K)}finally{if(j)throw j.error}}},d.prototype.merge=function(h){var O=this;return $t(h)&&(h=h.toJS()),Pr(function(){var j=mn(!0);try{G(h)?z(h).forEach(function(H){return O.set(H,h[H])}):Array.isArray(h)?h.forEach(function(H){var K=Se(H,2),pe=K[0],Me=K[1];return O.set(pe,Me)}):q(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(H,K){return O.set(K,H)})):h!=null&&P("Cannot initialize map from "+h)}finally{kn(j)}}),this},d.prototype.clear=function(){var h=this;Pr(function(){te(function(){var O,j;try{for(var H=Re(h.keys()),K=H.next();!K.done;K=H.next()){var pe=K.value;h.delete(pe)}}catch(Me){O={error:Me}}finally{try{K&&!K.done&&(j=H.return)&&j.call(H)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Pr(function(){var j,H,K,pe,Me=U(h),$e=new Map,ft=!1;try{for(var ct=Re(O._data.keys()),Ot=ct.next();!Ot.done;Ot=ct.next()){var St=Ot.value;if(!Me.has(St)){var _t=O.delete(St);if(_t)ft=!0;else{var Ut=O._data.get(St);$e.set(St,Ut)}}}}catch(fn){j={error:fn}}finally{try{Ot&&!Ot.done&&(H=ct.return)&&H.call(ct)}finally{if(j)throw j.error}}try{for(var wt=Re(Me.entries()),gr=wt.next();!gr.done;gr=wt.next()){var Nn=Se(gr.value,2),St=Nn[0],Ut=Nn[1],ha=O._data.has(St);if(O.set(St,Ut),O._data.has(St)){var va=O._data.get(St);$e.set(St,va),ha||(ft=!0)}}}catch(fn){K={error:fn}}finally{try{gr&&!gr.done&&(pe=wt.return)&&pe.call(wt)}finally{if(K)throw K.error}}if(!ft)if(O._data.size!==$e.size)O._keysAtom.reportChanged();else for(var ya=O._data.keys(),ga=$e.keys(),ui=ya.next(),Dn=ga.next();!ui.done;){if(ui.value!==Dn.value){O._keysAtom.reportChanged();break}ui=ya.next(),Dn=ga.next()}O._data=$e}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,j={};try{for(var H=Re(this),K=H.next();!K.done;K=H.next()){var pe=Se(K.value,2),Me=pe[0],$e=pe[1];j[typeof Me=="symbol"?Me:W(Me)]=$e}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=H.return)&&O.call(H)}finally{if(h)throw h.error}}return j},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return W(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Wn(this,h)},d.prototype.intercept=function(h){return Yn(this,h)},d}(),$t=ee("ObservableMap",oi),ia,Cs={},aa=function(){function d(h,O,j){if(O===void 0&&(O=Je),j===void 0&&(j="ObservableSet@"+S()),this.name=j,this[ia]=Cs,this._data=new Set,this._atom=le(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(H,K){return O(H,K,j)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Pr(function(){te(function(){var O,j;try{for(var H=Re(h._data.values()),K=H.next();!K.done;K=H.next()){var pe=K.value;h.delete(pe)}}catch(Me){O={error:Me}}finally{try{K&&!K.done&&(j=H.return)&&j.call(H)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var j,H;try{for(var K=Re(this),pe=K.next();!pe.done;pe=K.next()){var Me=pe.value;h.call(O,Me,Me,this)}}catch($e){j={error:$e}}finally{try{pe&&!pe.done&&(H=K.return)&&H.call(K)}finally{if(j)throw j.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(tt(this._atom),Tr(this)){var j=Mr(this,{type:"add",object:this,newValue:h});if(!j)return this}if(!this.has(h)){Pr(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var H=Rt(),K=vr(this),j=K||H?{type:"add",object:this,newValue:h}:null;K&&qt(this,j)}return this},d.prototype.delete=function(h){var O=this;if(Tr(this)){var j=Mr(this,{type:"delete",object:this,oldValue:h});if(!j)return!1}if(this.has(h)){var H=Rt(),K=vr(this),j=K||H?{type:"delete",object:this,oldValue:h}:null;return Pr(function(){O._atom.reportChanged(),O._data.delete(h)}),K&&qt(this,j),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),j=Array.from(this.values());return Oo({next:function(){var H=h;return h+=1,H<j.length?{value:[O[H],j[H]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,j=Array.from(this._data.values());return Oo({next:function(){return O<j.length?{value:h.dehanceValue(j[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return fr(h)&&(h=h.toJS()),Pr(function(){var j=mn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(H){return O.add(H)})):se(h)?(O.clear(),h.forEach(function(H){return O.add(H)})):h!=null&&P("Cannot initialize set from "+h)}finally{kn(j)}}),this},d.prototype.observe=function(h,O){return Wn(this,h)},d.prototype.intercept=function(h){return Yn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[ia=D,Symbol.iterator]=function(){return this.values()},d}(),fr=ee("ObservableSet",aa),ua=function(){function d(h,O,j,H){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=j,this.defaultEnhancer=H,this.keysAtom=new X(j+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var j=this.target,H=this.values.get(h);if(H instanceof bn){H.set(O);return}if(Tr(this)){var K=Mr(this,{type:"update",object:this.proxy||j,name:h,newValue:O});if(!K)return;O=K.newValue}if(O=H.prepareNewValue(O),O!==ke.UNCHANGED){var pe=vr(this),Me=Rt(),K=pe||Me?{type:"update",object:this.proxy||j,oldValue:H.value,name:h,newValue:O}:null;H.setNewValue(O),pe&&qt(this,K)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),j=O.get(h);if(j)return j.get();var H=!!this.values.get(h);return j=new ln(H,We,this.name+"."+W(h)+"?",!1),O.set(h,j),j.get()},d.prototype.addObservableProp=function(h,O,j){j===void 0&&(j=this.defaultEnhancer);var H=this.target;if(Tr(this)){var K=Mr(this,{object:this.proxy||H,name:h,type:"add",newValue:O});if(!K)return;O=K.newValue}var pe=new ln(O,j,this.name+"."+W(h),!1);this.values.set(h,pe),O=pe.value,Object.defineProperty(H,h,Rs(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,j){var H=this.target;j.name=j.name||this.name+"."+W(O),this.values.set(O,new bn(j)),(h===H||ae(h,O))&&Object.defineProperty(h,O,Is(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Tr(this)){var j=Mr(this,{object:this.proxy||O,name:h,type:"remove"});if(!j)return}try{Mt();var H=vr(this),K=Rt(),pe=this.values.get(h),Me=pe&&pe.get();if(pe&&pe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var $e=this.pendingKeys.get(h);$e&&$e.set(!1)}delete this.target[h];var j=H||K?{type:"remove",object:this.proxy||O,oldValue:Me,name:h}:null;H&&qt(this,j)}finally{hr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Wn(this,h)},d.prototype.intercept=function(h){return Yn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var j=vr(this),H=Rt(),K=j||H?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(j&&qt(this,K),this.pendingKeys){var pe=this.pendingKeys.get(h);pe&&pe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var j=[];try{for(var H=Re(this.values),K=H.next();!K.done;K=H.next()){var pe=Se(K.value,2),Me=pe[0],$e=pe[1];$e instanceof ln&&j.push(Me)}}catch(ft){h={error:ft}}finally{try{K&&!K.done&&(O=H.return)&&O.call(H)}finally{if(h)throw h.error}}return j},d}();function ii(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=Je),Object.prototype.hasOwnProperty.call(d,D))return d[D];G(d)||(h=(d.constructor.name||"ObservableObject")+"@"+S()),h||(h="ObservableObject@"+S());var j=new ua(d,new Map,W(h),O);return Y(d,D,j),j}var la=Object.create(null),sa=Object.create(null);function Rs(d){return la[d]||(la[d]={configurable:!0,enumerable:!0,get:function(){return this[D].read(d)},set:function(h){this[D].write(d,h)}})}function fa(d){var h=d[D];return h||(ve(d),d[D])}function Is(d){return sa[d]||(sa[d]={configurable:ke.computedConfigurable,enumerable:!1,get:function(){return fa(this).read(d)},set:function(h){fa(this).write(d,h)}})}var _s=ee("ObservableObjectAdministration",ua);function yr(d){return L(d)?(ve(d),_s(d[D])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(Cr(d))return h!==void 0&&P(!1),d[D].atom;if(fr(d))return d[D];if($t(d)){var O=d;if(h===void 0)return O._keysAtom;var j=O._data.get(h)||O._hasMap.get(h);return j||P(!1),j}if(ve(d),h&&!d[D]&&d[h],yr(d)){if(!h)return P(!1);var j=d[D].values.get(h);return j||P(!1),j}if(Z(d)||On(d)||vo(d))return d}else if(typeof d=="function"&&vo(d[D]))return d[D];return P(!1)}function Vn(d,h){if(d||P("Expecting some object"),h!==void 0)return Vn(wr(d,h));if(Z(d)||On(d)||vo(d)||$t(d)||fr(d))return d;if(ve(d),d[D])return d[D];P(!1)}function Bs(d,h){var O;return h!==void 0?O=wr(d,h):yr(d)||$t(d)||fr(d)?O=Vn(d):O=wr(d),O.name}var ca=Object.prototype.toString;function bo(d,h,O){return O===void 0&&(O=-1),Kn(d,h,O)}function Kn(d,h,O,j,H){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var K=typeof d;if(K!=="function"&&K!=="object"&&typeof h!="object")return!1;var pe=ca.call(d);if(pe!==ca.call(h))return!1;switch(pe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=da(d),h=da(h);var Me=pe==="[object Array]";if(!Me){if(typeof d!="object"||typeof h!="object")return!1;var $e=d.constructor,ft=h.constructor;if($e!==ft&&!(typeof $e=="function"&&$e instanceof $e&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),j=j||[],H=H||[];for(var ct=j.length;ct--;)if(j[ct]===d)return H[ct]===h;if(j.push(d),H.push(h),Me){if(ct=d.length,ct!==h.length)return!1;for(;ct--;)if(!Kn(d[ct],h[ct],O-1,j,H))return!1}else{var Ot=Object.keys(d),St=void 0;if(ct=Ot.length,Object.keys(h).length!==ct)return!1;for(;ct--;)if(St=Ot[ct],!(Ls(h,St)&&Kn(d[St],h[St],O-1,j,H)))return!1}return j.pop(),H.pop(),!0}function da(d){return Cr(d)?d.slice():q(d)||$t(d)||se(d)||fr(d)?Array.from(d.entries()):d}function Ls(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function Oo(d){return d[Symbol.iterator]=ai,d}function ai(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var pa=co();typeof s>"u"&&(pa.process={}),pa.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Xi,extras:{getDebugName:Bs},$mobx:D})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return ae}),i.d(c,"b",function(){return ue}),i.d(c,"c",function(){return Ie}),i.d(c,"d",function(){return _e}),i.d(c,"e",function(){return G}),i.d(c,"f",function(){return Y}),i.d(c,"g",function(){return G}),i.d(c,"h",function(){return Se}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return Re}),i.d(c,"k",function(){return M});var s,f,g,b,x,S,P,N={},A=[],R=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(_,F){for(var V in F)_[V]=F[V];return _}function L(_){var F=_.parentNode;F&&F.removeChild(_)}function G(_,F,V){var fe,ve,de,Be={};for(de in F)de=="key"?fe=F[de]:de=="ref"?ve=F[de]:Be[de]=F[de];if(arguments.length>2&&(Be.children=arguments.length>3?s.call(arguments,2):V),typeof _=="function"&&_.defaultProps!=null)for(de in _.defaultProps)Be[de]===void 0&&(Be[de]=_.defaultProps[de]);return U(_,Be,fe,ve,null)}function U(_,F,V,fe,ve){var de={type:_,props:F,key:V,ref:fe,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ve==null?++g:ve};return ve==null&&f.vnode!=null&&f.vnode(de),de}function Y(){return{current:null}}function ue(_){return _.children}function ae(_,F){this.props=_,this.context=F}function ee(_,F){if(F==null)return _.__?ee(_.__,_.__.__k.indexOf(_)+1):null;for(var V;F<_.__k.length;F++)if((V=_.__k[F])!=null&&V.__e!=null)return V.__e;return typeof _.type=="function"?ee(_):null}function q(_){var F,V;if((_=_.__)!=null&&_.__c!=null){for(_.__e=_.__c.base=null,F=0;F<_.__k.length;F++)if((V=_.__k[F])!=null&&V.__e!=null){_.__e=_.__c.base=V.__e;break}return q(_)}}function se(_){(!_.__d&&(_.__d=!0)&&b.push(_)&&!z.__r++||S!==f.debounceRendering)&&((S=f.debounceRendering)||x)(z)}function z(){for(var _;z.__r=b.length;)_=b.sort(function(F,V){return F.__v.__b-V.__v.__b}),b=[],_.some(function(F){var V,fe,ve,de,Be,Je;F.__d&&(Be=(de=(V=F).__v).__e,(Je=V.__P)&&(fe=[],(ve=I({},de)).__v=de.__v+1,ge(Je,de,ve,V.__n,Je.ownerSVGElement!==void 0,de.__h!=null?[Be]:null,fe,Be==null?ee(de):Be,de.__h),Ee(fe,de),de.__e!=Be&&q(de)))})}function W(_,F,V,fe,ve,de,Be,Je,Xe,We){var ye,it,qe,Fe,Qe,xt,lt,mt=fe&&fe.__k||A,ne=mt.length;for(V.__k=[],ye=0;ye<F.length;ye++)if((Fe=V.__k[ye]=(Fe=F[ye])==null||typeof Fe=="boolean"?null:typeof Fe=="string"||typeof Fe=="number"||typeof Fe=="bigint"?U(null,Fe,null,null,Fe):Array.isArray(Fe)?U(ue,{children:Fe},null,null,null):Fe.__b>0?U(Fe.type,Fe.props,Fe.key,null,Fe.__v):Fe)!=null){if(Fe.__=V,Fe.__b=V.__b+1,(qe=mt[ye])===null||qe&&Fe.key==qe.key&&Fe.type===qe.type)mt[ye]=void 0;else for(it=0;it<ne;it++){if((qe=mt[it])&&Fe.key==qe.key&&Fe.type===qe.type){mt[it]=void 0;break}qe=null}ge(_,Fe,qe=qe||N,ve,de,Be,Je,Xe,We),Qe=Fe.__e,(it=Fe.ref)&&qe.ref!=it&&(lt||(lt=[]),qe.ref&&lt.push(qe.ref,null,Fe),lt.push(it,Fe.__c||Qe,Fe)),Qe!=null?(xt==null&&(xt=Qe),typeof Fe.type=="function"&&Fe.__k===qe.__k?Fe.__d=Xe=T(Fe,Xe,_):Xe=D(_,Fe,qe,mt,Qe,Xe),typeof V.type=="function"&&(V.__d=Xe)):Xe&&qe.__e==Xe&&Xe.parentNode!=_&&(Xe=ee(qe))}for(V.__e=xt,ye=ne;ye--;)mt[ye]!=null&&(typeof V.type=="function"&&mt[ye].__e!=null&&mt[ye].__e==V.__d&&(V.__d=ee(fe,ye+1)),ze(mt[ye],mt[ye]));if(lt)for(ye=0;ye<lt.length;ye++)Ae(lt[ye],lt[++ye],lt[++ye])}function T(_,F,V){for(var fe,ve=_.__k,de=0;ve&&de<ve.length;de++)(fe=ve[de])&&(fe.__=_,F=typeof fe.type=="function"?T(fe,F,V):D(V,fe,fe,ve,fe.__e,F));return F}function M(_,F){return F=F||[],_==null||typeof _=="boolean"||(Array.isArray(_)?_.some(function(V){M(V,F)}):F.push(_)),F}function D(_,F,V,fe,ve,de){var Be,Je,Xe;if(F.__d!==void 0)Be=F.__d,F.__d=void 0;else if(V==null||ve!=de||ve.parentNode==null)e:if(de==null||de.parentNode!==_)_.appendChild(ve),Be=null;else{for(Je=de,Xe=0;(Je=Je.nextSibling)&&Xe<fe.length;Xe+=2)if(Je==ve)break e;_.insertBefore(ve,de),Be=de}return Be!==void 0?Be:ve.nextSibling}function X(_,F,V,fe,ve){var de;for(de in V)de==="children"||de==="key"||de in F||le(_,de,null,V[de],fe);for(de in F)ve&&typeof F[de]!="function"||de==="children"||de==="key"||de==="value"||de==="checked"||V[de]===F[de]||le(_,de,F[de],V[de],fe)}function Z(_,F,V){F[0]==="-"?_.setProperty(F,V):_[F]=V==null?"":typeof V!="number"||R.test(F)?V:V+"px"}function le(_,F,V,fe,ve){var de;e:if(F==="style")if(typeof V=="string")_.style.cssText=V;else{if(typeof fe=="string"&&(_.style.cssText=fe=""),fe)for(F in fe)V&&F in V||Z(_.style,F,"");if(V)for(F in V)fe&&V[F]===fe[F]||Z(_.style,F,V[F])}else if(F[0]==="o"&&F[1]==="n")de=F!==(F=F.replace(/Capture$/,"")),F=F.toLowerCase()in _?F.toLowerCase().slice(2):F.slice(2),_.l||(_.l={}),_.l[F+de]=V,V?fe||_.addEventListener(F,de?me:be,de):_.removeEventListener(F,de?me:be,de);else if(F!=="dangerouslySetInnerHTML"){if(ve)F=F.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(F!=="href"&&F!=="list"&&F!=="form"&&F!=="tabIndex"&&F!=="download"&&F in _)try{_[F]=V==null?"":V;break e}catch{}typeof V=="function"||(V!=null&&(V!==!1||F[0]==="a"&&F[1]==="r")?_.setAttribute(F,V):_.removeAttribute(F))}}function be(_){this.l[_.type+!1](f.event?f.event(_):_)}function me(_){this.l[_.type+!0](f.event?f.event(_):_)}function ge(_,F,V,fe,ve,de,Be,Je,Xe){var We,ye,it,qe,Fe,Qe,xt,lt,mt,ne,Ct,Pt=F.type;if(F.constructor!==void 0)return null;V.__h!=null&&(Xe=V.__h,Je=F.__e=V.__e,F.__h=null,de=[Je]),(We=f.__b)&&We(F);try{e:if(typeof Pt=="function"){if(lt=F.props,mt=(We=Pt.contextType)&&fe[We.__c],ne=We?mt?mt.props.value:We.__:fe,V.__c?xt=(ye=F.__c=V.__c).__=ye.__E:("prototype"in Pt&&Pt.prototype.render?F.__c=ye=new Pt(lt,ne):(F.__c=ye=new ae(lt,ne),ye.constructor=Pt,ye.render=Ye),mt&&mt.sub(ye),ye.props=lt,ye.state||(ye.state={}),ye.context=ne,ye.__n=fe,it=ye.__d=!0,ye.__h=[]),ye.__s==null&&(ye.__s=ye.state),Pt.getDerivedStateFromProps!=null&&(ye.__s==ye.state&&(ye.__s=I({},ye.__s)),I(ye.__s,Pt.getDerivedStateFromProps(lt,ye.__s))),qe=ye.props,Fe=ye.state,it)Pt.getDerivedStateFromProps==null&&ye.componentWillMount!=null&&ye.componentWillMount(),ye.componentDidMount!=null&&ye.__h.push(ye.componentDidMount);else{if(Pt.getDerivedStateFromProps==null&&lt!==qe&&ye.componentWillReceiveProps!=null&&ye.componentWillReceiveProps(lt,ne),!ye.__e&&ye.shouldComponentUpdate!=null&&ye.shouldComponentUpdate(lt,ye.__s,ne)===!1||F.__v===V.__v){ye.props=lt,ye.state=ye.__s,F.__v!==V.__v&&(ye.__d=!1),ye.__v=F,F.__e=V.__e,F.__k=V.__k,F.__k.forEach(function(bt){bt&&(bt.__=F)}),ye.__h.length&&Be.push(ye);break e}ye.componentWillUpdate!=null&&ye.componentWillUpdate(lt,ye.__s,ne),ye.componentDidUpdate!=null&&ye.__h.push(function(){ye.componentDidUpdate(qe,Fe,Qe)})}ye.context=ne,ye.props=lt,ye.state=ye.__s,(We=f.__r)&&We(F),ye.__d=!1,ye.__v=F,ye.__P=_,We=ye.render(ye.props,ye.state,ye.context),ye.state=ye.__s,ye.getChildContext!=null&&(fe=I(I({},fe),ye.getChildContext())),it||ye.getSnapshotBeforeUpdate==null||(Qe=ye.getSnapshotBeforeUpdate(qe,Fe)),Ct=We!=null&&We.type===ue&&We.key==null?We.props.children:We,W(_,Array.isArray(Ct)?Ct:[Ct],F,V,fe,ve,de,Be,Je,Xe),ye.base=F.__e,F.__h=null,ye.__h.length&&Be.push(ye),xt&&(ye.__E=ye.__=null),ye.__e=!1}else de==null&&F.__v===V.__v?(F.__k=V.__k,F.__e=V.__e):F.__e=Oe(V.__e,F,V,fe,ve,de,Be,Xe);(We=f.diffed)&&We(F)}catch(bt){F.__v=null,(Xe||de!=null)&&(F.__e=Je,F.__h=!!Xe,de[de.indexOf(Je)]=null),f.__e(bt,F,V)}}function Ee(_,F){f.__c&&f.__c(F,_),_.some(function(V){try{_=V.__h,V.__h=[],_.some(function(fe){fe.call(V)})}catch(fe){f.__e(fe,V.__v)}})}function Oe(_,F,V,fe,ve,de,Be,Je){var Xe,We,ye,it=V.props,qe=F.props,Fe=F.type,Qe=0;if(Fe==="svg"&&(ve=!0),de!=null){for(;Qe<de.length;Qe++)if((Xe=de[Qe])&&"setAttribute"in Xe==!!Fe&&(Fe?Xe.localName===Fe:Xe.nodeType===3)){_=Xe,de[Qe]=null;break}}if(_==null){if(Fe===null)return document.createTextNode(qe);_=ve?document.createElementNS("http://www.w3.org/2000/svg",Fe):document.createElement(Fe,qe.is&&qe),de=null,Je=!1}if(Fe===null)it===qe||Je&&_.data===qe||(_.data=qe);else{if(de=de&&s.call(_.childNodes),We=(it=V.props||N).dangerouslySetInnerHTML,ye=qe.dangerouslySetInnerHTML,!Je){if(de!=null)for(it={},Qe=0;Qe<_.attributes.length;Qe++)it[_.attributes[Qe].name]=_.attributes[Qe].value;(ye||We)&&(ye&&(We&&ye.__html==We.__html||ye.__html===_.innerHTML)||(_.innerHTML=ye&&ye.__html||""))}if(X(_,qe,it,ve,Je),ye)F.__k=[];else if(Qe=F.props.children,W(_,Array.isArray(Qe)?Qe:[Qe],F,V,fe,ve&&Fe!=="foreignObject",de,Be,de?de[0]:V.__k&&ee(V,0),Je),de!=null)for(Qe=de.length;Qe--;)de[Qe]!=null&&L(de[Qe]);Je||("value"in qe&&(Qe=qe.value)!==void 0&&(Qe!==it.value||Qe!==_.value||Fe==="progress"&&!Qe)&&le(_,"value",Qe,it.value,!1),"checked"in qe&&(Qe=qe.checked)!==void 0&&Qe!==_.checked&&le(_,"checked",Qe,it.checked,!1))}return _}function Ae(_,F,V){try{typeof _=="function"?_(F):_.current=F}catch(fe){f.__e(fe,V)}}function ze(_,F,V){var fe,ve;if(f.unmount&&f.unmount(_),(fe=_.ref)&&(fe.current&&fe.current!==_.__e||Ae(fe,null,F)),(fe=_.__c)!=null){if(fe.componentWillUnmount)try{fe.componentWillUnmount()}catch(de){f.__e(de,F)}fe.base=fe.__P=null}if(fe=_.__k)for(ve=0;ve<fe.length;ve++)fe[ve]&&ze(fe[ve],F,typeof _.type!="function");V||_.__e==null||L(_.__e),_.__e=_.__d=void 0}function Ye(_,F,V){return this.constructor(_,V)}function Re(_,F,V){var fe,ve,de;f.__&&f.__(_,F),ve=(fe=typeof V=="function")?null:V&&V.__k||F.__k,de=[],ge(F,_=(!fe&&V||F).__k=G(ue,null,[_]),ve||N,N,F.ownerSVGElement!==void 0,!fe&&V?[V]:ve?null:F.firstChild?s.call(F.childNodes):null,de,!fe&&V?V:ve?ve.__e:F.firstChild,fe),Ee(de,_)}function Se(_,F){Re(_,F,Se)}function Ie(_,F,V){var fe,ve,de,Be=I({},_.props);for(de in F)de=="key"?fe=F[de]:de=="ref"?ve=F[de]:Be[de]=F[de];return arguments.length>2&&(Be.children=arguments.length>3?s.call(arguments,2):V),U(_.type,Be,fe||_.key,ve||_.ref,null)}function _e(_,F){var V={__c:F="__cC"+P++,__:_,Consumer:function(fe,ve){return fe.children(ve)},Provider:function(fe){var ve,de;return this.getChildContext||(ve=[],(de={})[F]=this,this.getChildContext=function(){return de},this.shouldComponentUpdate=function(Be){this.props.value!==Be.value&&ve.some(se)},this.sub=function(Be){ve.push(Be);var Je=Be.componentWillUnmount;Be.componentWillUnmount=function(){ve.splice(ve.indexOf(Be),1),Je&&Je.call(Be)}}),fe.children}};return V.Provider.__=V.Consumer.contextType=V}s=A.slice,f={__e:function(_,F){for(var V,fe,ve;F=F.__;)if((V=F.__c)&&!V.__)try{if((fe=V.constructor)&&fe.getDerivedStateFromError!=null&&(V.setState(fe.getDerivedStateFromError(_)),ve=V.__d),V.componentDidCatch!=null&&(V.componentDidCatch(_),ve=V.__d),ve)return V.__E=V}catch(de){_=de}throw _}},g=0,ae.prototype.setState=function(_,F){var V;V=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof _=="function"&&(_=_(I({},V),this.props)),_&&I(V,_),_!=null&&this.__v&&(F&&this.__h.push(F),se(this))},ae.prototype.forceUpdate=function(_){this.__v&&(this.__e=!0,_&&this.__h.push(_),se(this))},ae.prototype.render=ue,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,P=0},function(u,c,i){var s=i(116),f=i(44),g=i(178);s||f(Object.prototype,"toString",g,{unsafe:!0})},function(u,c,i){var s=i(39),f=i(83),g=i(70),b=i(56),x=i(111),S="Array Iterator",P=b.set,N=b.getterFor(S);u.exports=x(Array,"Array",function(A,R){P(this,{type:S,target:s(A),index:0,kind:R})},function(){var A=N(this),R=A.target,I=A.kind,L=A.index++;return!R||L>=R.length?(A.target=void 0,{value:void 0,done:!0}):I=="keys"?{value:L,done:!1}:I=="values"?{value:R[L],done:!1}:{value:[L,R[L]],done:!1}},"values"),g.Arguments=g.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var s=i(7),f=i(147),g=i(148),b=i(3),x=i(57),S=i(27),P=S("iterator"),N=S("toStringTag"),A=b.values,R=function(L,G){if(L){if(L[P]!==A)try{x(L,P,A)}catch{L[P]=A}if(L[N]||x(L,N,G),f[G]){for(var U in b)if(L[U]!==b[U])try{x(L,U,b[U])}catch{L[U]=b[U]}}}};for(var I in f)R(s[I]&&s[I].prototype,I);R(g,"DOMTokenList")},function(u,c,i){var s=i(16),f=i(7),g=i(46),b=i(76),x=i(35),S=i(15),P=i(64),N=i(36),A=i(109),R=i(18),I=i(34),L=i(99),G=i(28),U=i(33),Y=i(58),ue=i(88),ae=i(32),ee=i(38),q=i(39),se=i(87),z=i(40),W=i(71),T=i(54),M=i(66),D=i(72),X=i(139),Z=i(112),le=i(51),be=i(37),me=i(93),ge=i(101),Ee=i(44),Oe=i(84),Ae=i(91),ze=i(69),Ye=i(85),Re=i(27),Se=i(149),Ie=i(150),_e=i(73),_=i(56),F=i(74).forEach,V=Ae("hidden"),fe="Symbol",ve="prototype",de=Re("toPrimitive"),Be=_.set,Je=_.getterFor(fe),Xe=Object[ve],We=f.Symbol,ye=We&&We[ve],it=f.TypeError,qe=f.QObject,Fe=g("JSON","stringify"),Qe=le.f,xt=be.f,lt=X.f,mt=me.f,ne=S([].push),Ct=Oe("symbols"),Pt=Oe("op-symbols"),bt=Oe("string-to-symbol-registry"),Wt=Oe("symbol-to-string-registry"),pr=Oe("wks"),Zt=!qe||!qe[ve]||!qe[ve].findChild,xr=N&&R(function(){return T(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a!=7})?function(te,re,we){var De=Qe(Xe,re);De&&delete Xe[re],xt(te,re,we),De&&te!==Xe&&xt(Xe,re,De)}:xt,rt=function(te,re){var we=Ct[te]=T(ye);return Be(we,{type:fe,tag:te,description:re}),N||(we.description=re),we},Tt=function(re,we,De){re===Xe&&Tt(Pt,we,De),ae(re);var Ue=se(we);return ae(De),I(Ct,Ue)?(De.enumerable?(I(re,V)&&re[V][Ue]&&(re[V][Ue]=!1),De=T(De,{enumerable:W(0,!1)})):(I(re,V)||xt(re,V,W(1,{})),re[V][Ue]=!0),xr(re,Ue,De)):xt(re,Ue,De)},nr=function(re,we){ae(re);var De=q(we),Ue=M(De).concat(st(De));return F(Ue,function(vt){(!N||x(Ve,De,vt))&&Tt(re,vt,De[vt])}),re},je=function(re,we){return we===void 0?T(re):nr(T(re),we)},Ve=function(re){var we=se(re),De=x(mt,this,we);return this===Xe&&I(Ct,we)&&!I(Pt,we)?!1:De||!I(this,we)||!I(Ct,we)||I(this,V)&&this[V][we]?De:!0},nt=function(re,we){var De=q(re),Ue=se(we);if(!(De===Xe&&I(Ct,Ue)&&!I(Pt,Ue))){var vt=Qe(De,Ue);return vt&&I(Ct,Ue)&&!(I(De,V)&&De[V][Ue])&&(vt.enumerable=!0),vt}},tt=function(re){var we=lt(q(re)),De=[];return F(we,function(Ue){!I(Ct,Ue)&&!I(ze,Ue)&&ne(De,Ue)}),De},st=function(re){var we=re===Xe,De=lt(we?Pt:q(re)),Ue=[];return F(De,function(vt){I(Ct,vt)&&(!we||I(Xe,vt))&&ne(Ue,Ct[vt])}),Ue};if(A||(We=function(){if(Y(ye,this))throw it("Symbol is not a constructor");var re=!arguments.length||arguments[0]===void 0?void 0:z(arguments[0]),we=Ye(re),De=function(Ue){this===Xe&&x(De,Pt,Ue),I(this,V)&&I(this[V],we)&&(this[V][we]=!1),xr(this,we,W(1,Ue))};return N&&Zt&&xr(Xe,we,{configurable:!0,set:De}),rt(we,re)},ye=We[ve],Ee(ye,"toString",function(){return Je(this).tag}),Ee(We,"withoutSetter",function(te){return rt(Ye(te),te)}),me.f=Ve,be.f=Tt,le.f=nt,D.f=X.f=tt,Z.f=st,Se.f=function(te){return rt(Re(te),te)},N&&(xt(ye,"description",{configurable:!0,get:function(){return Je(this).description}}),P||Ee(Xe,"propertyIsEnumerable",Ve,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:We}),F(M(pr),function(te){Ie(te)}),s({target:fe,stat:!0,forced:!A},{for:function(te){var re=z(te);if(I(bt,re))return bt[re];var we=We(re);return bt[re]=we,Wt[we]=re,we},keyFor:function(re){if(!ue(re))throw it(re+" is not a symbol");if(I(Wt,re))return Wt[re]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),s({target:"Object",stat:!0,forced:!A,sham:!N},{create:je,defineProperty:Tt,defineProperties:nr,getOwnPropertyDescriptor:nt}),s({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:tt,getOwnPropertySymbols:st}),s({target:"Object",stat:!0,forced:R(function(){Z.f(1)})},{getOwnPropertySymbols:function(re){return Z.f(ee(re))}}),Fe){var k=!A||R(function(){var te=We();return Fe([te])!="[null]"||Fe({a:te})!="{}"||Fe(Object(te))!="{}"});s({target:"JSON",stat:!0,forced:k},{stringify:function(re,we,De){var Ue=ge(arguments),vt=we;if(!(!U(we)&&re===void 0||ue(re)))return L(we)||(we=function(Jt,Qt){if(G(vt)&&(Qt=x(vt,this,Jt,Qt)),!ue(Qt))return Qt}),Ue[1]=we,b(Fe,null,Ue)}})}if(!ye[de]){var J=ye.valueOf;Ee(ye,de,function(te){return x(J,this)})}_e(We,fe),ze[V]=!0},function(u,c,i){var s=i(146).charAt,f=i(40),g=i(56),b=i(111),x="String Iterator",S=g.set,P=g.getterFor(x);b(String,"String",function(N){S(this,{type:x,string:f(N),index:0})},function(){var A=P(this),R=A.string,I=A.index,L;return I>=R.length?{value:void 0,done:!0}:(L=s(R,I),A.index+=L.length,{value:L,done:!1})})},function(u,c,i){(function(s){var f=function(g){return g&&g.Math==Math&&g};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var s=i(16),f=i(36),g=i(7),b=i(15),x=i(34),S=i(28),P=i(58),N=i(40),A=i(37).f,R=i(134),I=g.Symbol,L=I&&I.prototype;if(f&&S(I)&&(!("description"in L)||I().description!==void 0)){var G={},U=function(){var W=arguments.length<1||arguments[0]===void 0?void 0:N(arguments[0]),T=P(L,this)?new I(W):W===void 0?I():I(W);return W===""&&(G[T]=!0),T};R(U,I),U.prototype=L,L.constructor=U;var Y=String(I("test"))=="Symbol(test)",ue=b(L.toString),ae=b(L.valueOf),ee=/^Symbol\((.*)\)[^)]+$/,q=b("".replace),se=b("".slice);A(L,"description",{configurable:!0,get:function(){var W=ae(this),T=ue(W);if(x(G,W))return"";var M=Y?se(T,7,-1):q(T,ee,"$1");return M===""?void 0:M}}),s({global:!0,forced:!0},{Symbol:U})}},function(u,c,i){var s=i(150);s("iterator")},function(u,c,i){i.d(c,"a",function(){return s.a}),i.d(c,"c",function(){return s.e}),i.d(c,"h",function(){return se}),i.d(c,"i",function(){return Y}),i.d(c,"j",function(){return G}),i.d(c,"b",function(){return Ee}),i.d(c,"e",function(){return Ye}),i.d(c,"f",function(){return Oe}),i.d(c,"g",function(){return Ve});var s=i(1),f,g,b,x=0,S=[],P=s.i.__b,N=s.i.__r,A=s.i.diffed,R=s.i.__c,I=s.i.unmount;function L(k,J){s.i.__h&&s.i.__h(g,k,x||J),x=0;var te=g.__H||(g.__H={__:[],__h:[]});return k>=te.__.length&&te.__.push({}),te.__[k]}function G(k){return x=1,U(be,k)}function U(k,J,te){var re=L(f++,2);return re.t=k,re.__c||(re.__=[te?te(J):be(void 0,J),function(we){var De=re.t(re.__[0],we);re.__[0]!==De&&(re.__=[De,re.__[1]],re.__c.setState({}))}],re.__c=g),re.__}function Y(k,J){var te=L(f++,3);!s.i.__s&&le(te.__H,J)&&(te.__=k,te.__H=J,g.__H.__h.push(te))}function ue(k,J){var te=L(f++,4);!s.i.__s&&le(te.__H,J)&&(te.__=k,te.__H=J,g.__h.push(te))}function ae(k){return x=5,q(function(){return{current:k}},[])}function ee(k,J,te){x=6,ue(function(){typeof k=="function"?k(J()):k&&(k.current=J())},te==null?te:te.concat(k))}function q(k,J){var te=L(f++,7);return le(te.__H,J)&&(te.__=k(),te.__H=J,te.__h=k),te.__}function se(k,J){return x=8,q(function(){return k},J)}function z(k){var J=g.context[k.__c],te=L(f++,9);return te.c=k,J?(te.__==null&&(te.__=!0,J.sub(g)),J.props.value):k.__}function W(k,J){s.i.useDebugValue&&s.i.useDebugValue(J?J(k):k)}function T(){var k;for(S.sort(function(J,te){return J.__v.__b-te.__v.__b});k=S.pop();)if(k.__P)try{k.__H.__h.forEach(X),k.__H.__h.forEach(Z),k.__H.__h=[]}catch(J){k.__H.__h=[],s.i.__e(J,k.__v)}}s.i.__b=function(k){g=null,P&&P(k)},s.i.__r=function(k){N&&N(k),f=0;var J=(g=k.__c).__H;J&&(J.__h.forEach(X),J.__h.forEach(Z),J.__h=[])},s.i.diffed=function(k){A&&A(k);var J=k.__c;J&&J.__H&&J.__H.__h.length&&(S.push(J)!==1&&b===s.i.requestAnimationFrame||((b=s.i.requestAnimationFrame)||D)(T)),g=null},s.i.__c=function(k,J){J.some(function(te){try{te.__h.forEach(X),te.__h=te.__h.filter(function(re){return!re.__||Z(re)})}catch(re){J.some(function(we){we.__h&&(we.__h=[])}),J=[],s.i.__e(re,te.__v)}}),R&&R(k,J)},s.i.unmount=function(k){I&&I(k);var J,te=k.__c;te&&te.__H&&(te.__H.__.forEach(function(re){try{X(re)}catch(we){J=we}}),J&&s.i.__e(J,te.__v))};var M=typeof requestAnimationFrame=="function";function D(k){var J,te=function(){clearTimeout(re),M&&cancelAnimationFrame(J),setTimeout(k)},re=setTimeout(te,100);M&&(J=requestAnimationFrame(te))}function X(k){var J=g,te=k.__c;typeof te=="function"&&(k.__c=void 0,te()),g=J}function Z(k){var J=g;k.__c=k.__(),g=J}function le(k,J){return!k||k.length!==J.length||J.some(function(te,re){return te!==k[re]})}function be(k,J){return typeof J=="function"?J(k):J}function me(k,J){for(var te in J)k[te]=J[te];return k}function ge(k,J){for(var te in k)if(te!=="__source"&&!(te in J))return!0;for(var re in J)if(re!=="__source"&&k[re]!==J[re])return!0;return!1}function Ee(k){this.props=k}function Oe(k,J){function te(we){var De=this.props.ref,Ue=De==we.ref;return!Ue&&De&&(De.call?De(null):De.current=null),J?!J(this.props,we)||!Ue:ge(this.props,we)}function re(we){return this.shouldComponentUpdate=te,Object(s.e)(k,we)}return re.displayName="Memo("+(k.displayName||k.name)+")",re.prototype.isReactComponent=!0,re.__f=!0,re}(Ee.prototype=new s.a).isPureReactComponent=!0,Ee.prototype.shouldComponentUpdate=function(k,J){return ge(this.props,k)||ge(this.state,J)};var Ae=s.i.__b;s.i.__b=function(k){k.type&&k.type.__f&&k.ref&&(k.props.ref=k.ref,k.ref=null),Ae&&Ae(k)};var ze=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ye(k){function J(te,re){var we=me({},te);return delete we.ref,k(we,!(re=te.ref||re)||typeof re=="object"&&!("current"in re)?null:re)}return J.$$typeof=ze,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(k.displayName||k.name)+")",J}var Re=function(k,J){return k==null?null:Object(s.k)(Object(s.k)(k).map(J))},Se={map:Re,forEach:Re,count:function(k){return k?Object(s.k)(k).length:0},only:function(k){var J=Object(s.k)(k);if(J.length!==1)throw"Children.only";return J[0]},toArray:s.k},Ie=s.i.__e;s.i.__e=function(k,J,te){if(k.then){for(var re,we=J;we=we.__;)if((re=we.__c)&&re.__c)return J.__e==null&&(J.__e=te.__e,J.__k=te.__k),re.__c(k,J)}Ie(k,J,te)};var _e=s.i.unmount;function _(k,J,te){return k&&(k.__c&&k.__c.__H&&(k.__c.__H.__.forEach(function(re){typeof re.__c=="function"&&re.__c()}),k.__c.__H=null),(k=me({},k)).__c!=null&&(k.__c.__P===te&&(k.__c.__P=J),k.__c=null),k.__k=k.__k&&k.__k.map(function(re){return _(re,J,te)})),k}function F(k,J,te){return k&&(k.__v=null,k.__k=k.__k&&k.__k.map(function(re){return F(re,J,te)}),k.__c&&k.__c.__P===J&&(k.__e&&te.insertBefore(k.__e,k.__d),k.__c.__e=!0,k.__c.__P=te)),k}function V(){this.__u=0,this.t=null,this.__b=null}function fe(k){var J=k.__.__c;return J&&J.__e&&J.__e(k)}function ve(k){var J,te,re;function we(De){if(J||(J=k()).then(function(Ue){te=Ue.default||Ue},function(Ue){re=Ue}),re)throw re;if(!te)throw J;return Object(s.e)(te,De)}return we.displayName="Lazy",we.__f=!0,we}function de(){this.u=null,this.o=null}s.i.unmount=function(k){var J=k.__c;J&&J.__R&&J.__R(),J&&k.__h===!0&&(k.type=null),_e&&_e(k)},(V.prototype=new s.a).__c=function(k,J){var te=J.__c,re=this;re.t==null&&(re.t=[]),re.t.push(te);var we=fe(re.__v),De=!1,Ue=function(){De||(De=!0,te.__R=null,we?we(vt):vt())};te.__R=Ue;var vt=function(){if(!--re.__u){if(re.state.__e){var Qt=re.state.__e;re.__v.__k[0]=F(Qt,Qt.__c.__P,Qt.__c.__O)}var Gn;for(re.setState({__e:re.__b=null});Gn=re.t.pop();)Gn.forceUpdate()}},Jt=J.__h===!0;re.__u++||Jt||re.setState({__e:re.__b=re.__v.__k[0]}),k.then(Ue,Ue)},V.prototype.componentWillUnmount=function(){this.t=[]},V.prototype.render=function(k,J){if(this.__b){if(this.__v.__k){var te=document.createElement("div"),re=this.__v.__k[0].__c;this.__v.__k[0]=_(this.__b,te,re.__O=re.__P)}this.__b=null}var we=J.__e&&Object(s.e)(s.b,null,k.fallback);return we&&(we.__h=null),[Object(s.e)(s.b,null,J.__e?null:k.children),we]};var Be=function(k,J,te){if(++te[1]===te[0]&&k.o.delete(J),k.props.revealOrder&&(k.props.revealOrder[0]!=="t"||!k.o.size))for(te=k.u;te;){for(;te.length>3;)te.pop()();if(te[1]<te[0])break;k.u=te=te[2]}};function Je(k){return this.getChildContext=function(){return k.context},k.children}function Xe(k){var J=this,te=k.i;J.componentWillUnmount=function(){Object(s.j)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==te&&J.componentWillUnmount(),k.__v?(J.l||(J.i=te,J.l={nodeType:1,parentNode:te,childNodes:[],appendChild:function(re){this.childNodes.push(re),J.i.appendChild(re)},insertBefore:function(re,we){this.childNodes.push(re),J.i.appendChild(re)},removeChild:function(re){this.childNodes.splice(this.childNodes.indexOf(re)>>>1,1),J.i.removeChild(re)}}),Object(s.j)(Object(s.e)(Je,{context:J.context},k.__v),J.l)):J.l&&J.componentWillUnmount()}function We(k,J){return Object(s.e)(Xe,{__v:k,i:J})}(de.prototype=new s.a).__e=function(k){var J=this,te=fe(J.__v),re=J.o.get(k);return re[0]++,function(we){var De=function(){J.props.revealOrder?(re.push(we),Be(J,k,re)):we()};te?te(De):De()}},de.prototype.render=function(k){this.u=null,this.o=new Map;var J=Object(s.k)(k.children);k.revealOrder&&k.revealOrder[0]==="b"&&J.reverse();for(var te=J.length;te--;)this.o.set(J[te],this.u=[1,0,this.u]);return k.children},de.prototype.componentDidUpdate=de.prototype.componentDidMount=function(){var k=this;this.o.forEach(function(J,te){Be(k,te,J)})};var ye=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,it=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qe=typeof document<"u",Fe=function(k){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(k)};function Qe(k,J,te){return J.__k==null&&(J.textContent=""),Object(s.j)(k,J),typeof te=="function"&&te(),k?k.__c:null}function xt(k,J,te){return Object(s.h)(k,J),typeof te=="function"&&te(),k?k.__c:null}s.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(k){Object.defineProperty(s.a.prototype,k,{configurable:!0,get:function(){return this["UNSAFE_"+k]},set:function(J){Object.defineProperty(this,k,{configurable:!0,writable:!0,value:J})}})});var lt=s.i.event;function mt(){}function ne(){return this.cancelBubble}function Ct(){return this.defaultPrevented}s.i.event=function(k){return lt&&(k=lt(k)),k.persist=mt,k.isPropagationStopped=ne,k.isDefaultPrevented=Ct,k.nativeEvent=k};var Pt,bt={configurable:!0,get:function(){return this.class}},Wt=s.i.vnode;s.i.vnode=function(k){var J=k.type,te=k.props,re=te;if(typeof J=="string"){var we=J.indexOf("-")===-1;for(var De in re={},te){var Ue=te[De];qe&&De==="children"&&J==="noscript"||De==="value"&&"defaultValue"in te&&Ue==null||(De==="defaultValue"&&"value"in te&&te.value==null?De="value":De==="download"&&Ue===!0?Ue="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+J)&&!Fe(te.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():we&&it.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ue===null&&(Ue=void 0),re[De]=Ue)}J=="select"&&re.multiple&&Array.isArray(re.value)&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.value.indexOf(vt.props.value)!=-1})),J=="select"&&re.defaultValue!=null&&(re.value=Object(s.k)(te.children).forEach(function(vt){vt.props.selected=re.multiple?re.defaultValue.indexOf(vt.props.value)!=-1:re.defaultValue==vt.props.value})),k.props=re,te.class!=te.className&&(bt.enumerable="className"in te,te.className!=null&&(re.class=te.className),Object.defineProperty(re,"className",bt))}k.$$typeof=ye,Wt&&Wt(k)};var pr=s.i.__r;s.i.__r=function(k){pr&&pr(k),Pt=k.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(k){return Pt.__n[k.__c].props.value}}}};function xr(k){return s.e.bind(null,k)}function rt(k){return!!k&&k.$$typeof===ye}function Tt(k){return rt(k)?s.c.apply(null,arguments):k}function nr(k){return!!k.__k&&(Object(s.j)(null,k),!0)}function je(k){return k&&(k.base||k.nodeType===1&&k)||null}var Ve=function(k,J){return k(J)},nt=function(k,J){return k(J)},tt=s.b,st={useState:G,useReducer:U,useEffect:Y,useLayoutEffect:ue,useRef:ae,useImperativeHandle:ee,useMemo:q,useCallback:se,useContext:z,useDebugValue:W,version:"17.0.2",Children:Se,render:Qe,hydrate:xt,unmountComponentAtNode:nr,createPortal:We,createElement:s.e,createContext:s.d,createFactory:xr,cloneElement:Tt,createRef:s.f,Fragment:s.b,isValidElement:rt,findDOMNode:je,Component:s.a,PureComponent:Ee,memo:Oe,forwardRef:Ye,flushSync:nt,unstable_batchedUpdates:Ve,StrictMode:tt,Suspense:V,SuspenseList:de,lazy:ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};c.d=st},function(u,c,i){var s=i(7),f=i(147),g=i(148),b=i(179),x=i(57),S=function(N){if(N&&N.forEach!==b)try{x(N,"forEach",b)}catch{N.forEach=b}};for(var P in f)f[P]&&S(s[P]&&s[P].prototype);S(g)},function(u,c,i){var s=i(16),f=i(97);s({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var s=i(16),f=i(18),g=i(38),b=i(96),x=i(137),S=f(function(){b(1)});s({target:"Object",stat:!0,forced:S,sham:!x},{getPrototypeOf:function(N){return b(g(N))}})},function(u,c,i){var s=i(16),f=i(46),g=i(76),b=i(199),x=i(157),S=i(32),P=i(33),N=i(54),A=i(18),R=f("Reflect","construct"),I=Object.prototype,L=[].push,G=A(function(){function ue(){}return!(R(function(){},[],ue)instanceof ue)}),U=!A(function(){R(function(){})}),Y=G||U;s({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(ae,ee){x(ae),S(ee);var q=arguments.length<3?ae:x(arguments[2]);if(U&&!G)return R(ae,ee,q);if(ae==q){switch(ee.length){case 0:return new ae;case 1:return new ae(ee[0]);case 2:return new ae(ee[0],ee[1]);case 3:return new ae(ee[0],ee[1],ee[2]);case 4:return new ae(ee[0],ee[1],ee[2],ee[3])}var se=[null];return g(L,se,ee),new(g(b,ae,se))}var z=q.prototype,W=N(P(z)?z:I),T=g(ae,W,ee);return P(T)?T:W}})},function(u,c){var i=Function.prototype,s=i.bind,f=i.call,g=s&&s.bind(f);u.exports=s?function(b){return b&&g(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var s=i(7),f=i(51).f,g=i(57),b=i(44),x=i(108),S=i(134),P=i(95);u.exports=function(N,A){var R=N.target,I=N.global,L=N.stat,G,U,Y,ue,ae,ee;if(I?U=s:L?U=s[R]||x(R,{}):U=(s[R]||{}).prototype,U)for(Y in A){if(ae=A[Y],N.noTargetGet?(ee=f(U,Y),ue=ee&&ee.value):ue=U[Y],G=P(I?Y:R+(L?".":"#")+Y,N.forced),!G&&ue!==void 0){if(typeof ae==typeof ue)continue;S(ae,ue)}(N.sham||ue&&ue.sham)&&g(ae,"sham",!0),b(U,Y,ae,N)}}},function(u,c,i){var s=i(16),f=i(7),g=i(99),b=i(100),x=i(33),S=i(67),P=i(43),N=i(39),A=i(61),R=i(27),I=i(75),L=i(101),G=I("slice"),U=R("species"),Y=f.Array,ue=Math.max;s({target:"Array",proto:!0,forced:!G},{slice:function(ee,q){var se=N(this),z=P(se),W=S(ee,z),T=S(q===void 0?z:q,z),M,D,X;if(g(se)&&(M=se.constructor,b(M)&&(M===Y||g(M.prototype))?M=void 0:x(M)&&(M=M[U],M===null&&(M=void 0)),M===Y||M===void 0))return L(se,W,T);for(D=new(M===void 0?Y:M)(ue(T-W,0)),X=0;W<T;W++,X++)W in se&&A(D,X,se[W]);return D.length=X,D}})},function(u,c){u.exports=function(i){try{return!!i()}catch{return!0}}},function(u,c,i){var s=i(16),f=i(102);s({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var s=i(16),f=i(38),g=i(66),b=i(18),x=b(function(){g(1)});s({target:"Object",stat:!0,forced:x},{keys:function(P){return g(f(P))}})},function(u,c,i){var s=i(16),f=i(18),g=i(39),b=i(51).f,x=i(36),S=f(function(){b(1)}),P=!x||S;s({target:"Object",stat:!0,forced:P,sham:!x},{getOwnPropertyDescriptor:function(A,R){return b(g(A),R)}})},function(u,c,i){var s=i(16),f=i(74).filter,g=i(75),b=g("filter");s({target:"Array",proto:!0,forced:!b},{filter:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(16),f=i(36),g=i(135),b=i(39),x=i(51),S=i(61);s({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(N){for(var A=b(N),R=x.f,I=g(A),L={},G=0,U,Y;I.length>G;)Y=R(A,U=I[G++]),Y!==void 0&&S(L,U,Y);return L}})},function(u,c,i){var s=i(36),f=i(94).EXISTS,g=i(15),b=i(37).f,x=Function.prototype,S=g(x.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,N=g(P.exec),A="name";s&&!f&&b(x,A,{configurable:!0,get:function(){try{return N(P,S(this))[1]}catch{return""}}})},function(u,c,i){var s=i(16),f=i(182),g=i(118),b=!g(function(x){Array.from(x)});s({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var s=i(7),f=i(84),g=i(34),b=i(85),x=i(109),S=i(128),P=f("wks"),N=s.Symbol,A=N&&N.for,R=S?N:N&&N.withoutSetter||b;u.exports=function(I){if(!g(P,I)||!(x||typeof P[I]=="string")){var L="Symbol."+I;x&&g(N,I)?P[I]=N[I]:S&&A?P[I]=A(L):P[I]=R(L)}return P[I]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var s=i(16),f=i(7),g=i(18),b=i(99),x=i(33),S=i(38),P=i(43),N=i(61),A=i(119),R=i(75),I=i(27),L=i(65),G=I("isConcatSpreadable"),U=9007199254740991,Y="Maximum allowed index exceeded",ue=f.TypeError,ae=L>=51||!g(function(){var z=[];return z[G]=!1,z.concat()[0]!==z}),ee=R("concat"),q=function(z){if(!x(z))return!1;var W=z[G];return W!==void 0?!!W:b(z)},se=!ae||!ee;s({target:"Array",proto:!0,forced:se},{concat:function(W){var T=S(this),M=A(T,0),D=0,X,Z,le,be,me;for(X=-1,le=arguments.length;X<le;X++)if(me=X===-1?T:arguments[X],q(me)){if(be=P(me),D+be>U)throw ue(Y);for(Z=0;Z<be;Z++,D++)Z in me&&N(M,D,me[Z])}else{if(D>=U)throw ue(Y);N(M,D++,me)}return M.length=D,M}})},function(u,c,i){var s=i(16),f=i(198);s({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var s=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,g=s.a||f||Function("return this")();c.a=g},function(u,c,i){var s=i(7),f=i(33),g=s.String,b=s.TypeError;u.exports=function(x){if(f(x))return x;throw b(g(x)+" is not an object")}},function(u,c,i){var s=i(28);u.exports=function(f){return typeof f=="object"?f!==null:s(f)}},function(u,c,i){var s=i(15),f=i(38),g=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,S){return g(f(x),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var s=i(7),f=i(36),g=i(129),b=i(32),x=i(87),S=s.TypeError,P=Object.defineProperty;c.f=f?P:function(A,R,I){if(b(A),R=x(R),b(I),g)try{return P(A,R,I)}catch{}if("get"in I||"set"in I)throw S("Accessors not supported");return"value"in I&&(A[R]=I.value),A}},function(u,c,i){var s=i(7),f=i(45),g=s.Object;u.exports=function(b){return g(f(b))}},function(u,c,i){var s=i(81),f=i(45);u.exports=function(g){return s(f(g))}},function(u,c,i){var s=i(7),f=i(98),g=s.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return g(b)}},function(u,c,i){var s=i(16),f=i(74).map,g=i(75),b=g("map");s({target:"Array",proto:!0,forced:!b},{map:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(s){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return N});var f=i(10),g=function(A,R){var I=typeof Symbol=="function"&&A[Symbol.iterator];if(!I)return A;var L=I.call(A),G,U=[],Y;try{for(;(R===void 0||R-- >0)&&!(G=L.next()).done;)U.push(G.value)}catch(ue){Y={error:ue}}finally{try{G&&!G.done&&(I=L.return)&&I.call(L)}finally{if(Y)throw Y.error}}return U};function b(){var A=g(Object(f.j)(0),2),R=A[1],I=Object(f.h)(function(){R(function(L){return L+1})},[]);return I}function x(A){if(!A||typeof A!="object")return!1;var R=Object.getPrototypeOf(A);return!R||R===Object.prototype}function S(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var P={};function N(){return typeof window<"u"?window:typeof s<"u"?s:typeof self<"u"?self:P}}).call(this,i(82))},function(u,c,i){var s=i(90);u.exports=function(f){return s(f.length)}},function(u,c,i){var s=i(7),f=i(28),g=i(34),b=i(57),x=i(108),S=i(92),P=i(56),N=i(94).CONFIGURABLE,A=P.get,R=P.enforce,I=String(String).split("String");(u.exports=function(L,G,U,Y){var ue=Y?!!Y.unsafe:!1,ae=Y?!!Y.enumerable:!1,ee=Y?!!Y.noTargetGet:!1,q=Y&&Y.name!==void 0?Y.name:G,se;if(f(U)&&(String(q).slice(0,7)==="Symbol("&&(q="["+String(q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!g(U,"name")||N&&U.name!==q)&&b(U,"name",q),se=R(U),se.source||(se.source=I.join(typeof q=="string"?q:""))),L===s){ae?L[G]=U:x(G,U);return}else ue?!ee&&L[G]&&(ae=!0):delete L[G];ae?L[G]=U:b(L,G,U)})(Function.prototype,"toString",function(){return f(this)&&A(this).source||S(this)})},function(u,c,i){var s=i(7),f=s.TypeError;u.exports=function(g){if(g==null)throw f("Can't call method on "+g);return g}},function(u,c,i){var s=i(7),f=i(28),g=function(b){return f(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?g(s[b]):s[b]&&s[b][x]}},function(u,c,i){var s=i(16),f=i(35),g=i(33),b=i(32),x=i(200),S=i(51),P=i(96);function N(A,R){var I=arguments.length<3?A:arguments[2],L,G;if(b(A)===I)return A[R];if(L=S.f(A,R),L)return x(L)?L.value:L.get===void 0?void 0:f(L.get,I);if(g(G=P(A)))return N(G,R,I)}s({target:"Reflect",stat:!0},{get:N})},function(u,c,i){(function(s){var f=i(31),g=i(165),b=v&&!v.nodeType&&v,x=b&&typeof s=="object"&&s&&!s.nodeType&&s,S=x&&x.exports===b,P=S?f.a.Buffer:void 0,N=P?P.isBuffer:void 0,A=N||g.a;c.a=A}).call(this,i(121)(u))},function(u,c,i){(function(s){var f=i(105),g=v&&!v.nodeType&&v,b=g&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===g,S=x&&f.a.process,P=function(){try{var N=b&&b.require&&b.require("util").types;return N||S&&S.binding&&S.binding("util")}catch{}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var s=i(15),f=s({}.toString),g=s("".slice);u.exports=function(b){return g(f(b),8,-1)}},function(u,c,i){var s=i(36),f=i(35),g=i(93),b=i(71),x=i(39),S=i(87),P=i(34),N=i(129),A=Object.getOwnPropertyDescriptor;c.f=s?A:function(I,L){if(I=x(I),L=S(L),N)try{return A(I,L)}catch{}if(P(I,L))return b(!f(g.f,I,L),I[L])}},function(u,c,i){var s=i(16),f=i(213).entries;s({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var s=i(46);u.exports=s("navigator","userAgent")||""},function(u,c,i){var s=i(32),f=i(168),g=i(110),b=i(69),x=i(133),S=i(86),P=i(91),N=">",A="<",R="prototype",I="script",L=P("IE_PROTO"),G=function(){},U=function(q){return A+I+N+q+A+"/"+I+N},Y=function(q){q.write(U("")),q.close();var se=q.parentWindow.Object;return q=null,se},ue=function(){var q=S("iframe"),se="java"+I+":",z;return q.style.display="none",x.appendChild(q),q.src=String(se),z=q.contentWindow.document,z.open(),z.write(U("document.F=Object")),z.close(),z.F},ae,ee=function(){try{ae=new ActiveXObject("htmlfile")}catch{}ee=typeof document<"u"?document.domain&&ae?Y(ae):ue():Y(ae);for(var q=g.length;q--;)delete ee[R][g[q]];return ee()};b[L]=!0,u.exports=Object.create||function(se,z){var W;return se!==null?(G[R]=s(se),W=new G,G[R]=null,W[L]=se):W=ee(),z===void 0?W:f(W,z)}},function(u,c,i){var s=i(7),f=i(28),g=i(89),b=s.TypeError;u.exports=function(x){if(f(x))return x;throw b(g(x)+" is not a function")}},function(u,c,i){var s=i(170),f=i(7),g=i(15),b=i(33),x=i(57),S=i(34),P=i(107),N=i(91),A=i(69),R="Object already initialized",I=f.TypeError,L=f.WeakMap,G,U,Y,ue=function(T){return Y(T)?U(T):G(T,{})},ae=function(T){return function(M){var D;if(!b(M)||(D=U(M)).type!==T)throw I("Incompatible receiver, "+T+" required");return D}};if(s||P.state){var ee=P.state||(P.state=new L),q=g(ee.get),se=g(ee.has),z=g(ee.set);G=function(T,M){if(se(ee,T))throw new I(R);return M.facade=T,z(ee,T,M),M},U=function(T){return q(ee,T)||{}},Y=function(T){return se(ee,T)}}else{var W=N("state");A[W]=!0,G=function(T,M){if(S(T,W))throw new I(R);return M.facade=T,x(T,W,M),M},U=function(T){return S(T,W)?T[W]:{}},Y=function(T){return S(T,W)}}u.exports={set:G,get:U,has:Y,enforce:ue,getterFor:ae}},function(u,c,i){var s=i(36),f=i(37),g=i(71);u.exports=s?function(b,x,S){return f.f(b,x,g(1,S))}:function(b,x,S){return b[x]=S,b}},function(u,c,i){var s=i(15);u.exports=s({}.isPrototypeOf)},function(u,c,i){var s=i(55);u.exports=function(f,g){var b=f[g];return b==null?void 0:s(b)}},function(u,c,i){var s=i(173),f=i(177);s("Map",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var s=i(87),f=i(37),g=i(71);u.exports=function(b,x,S){var P=s(x);P in b?f.f(b,P,g(0,S)):b[P]=S}},function(u,c,i){var s=i(15),f=i(55),g=s(s.bind);u.exports=function(b,x){return f(b),x===void 0?b:g?g(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var s=i(16),f=i(214),g=i(83);s({target:"Array",proto:!0},{fill:f}),g("fill")},function(u,c){u.exports=!1},function(u,c,i){var s=i(7),f=i(53),g=s.process,b=s.Deno,x=g&&g.versions||b&&b.version,S=x&&x.v8,P,N;S&&(P=S.split("."),N=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!N&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(N=+P[1]))),u.exports=N},function(u,c,i){var s=i(131),f=i(110);u.exports=Object.keys||function(b){return s(b,f)}},function(u,c,i){var s=i(68),f=Math.max,g=Math.min;u.exports=function(b,x){var S=s(b);return S<0?f(S+x,0):g(S,x)}},function(u,c){var i=Math.ceil,s=Math.floor;u.exports=function(f){var g=+f;return g!==g||g===0?0:(g>0?s:i)(g)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},function(u,c,i){var s=i(131),f=i(110),g=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return s(x,g)}},function(u,c,i){var s=i(37).f,f=i(34),g=i(27),b=g("toStringTag");u.exports=function(x,S,P){x&&!f(x=P?x:x.prototype,b)&&s(x,b,{configurable:!0,value:S})}},function(u,c,i){var s=i(62),f=i(15),g=i(81),b=i(38),x=i(43),S=i(119),P=f([].push),N=function(A){var R=A==1,I=A==2,L=A==3,G=A==4,U=A==6,Y=A==7,ue=A==5||U;return function(ae,ee,q,se){for(var z=b(ae),W=g(z),T=s(ee,q),M=x(W),D=0,X=se||S,Z=R?X(ae,M):I||Y?X(ae,0):void 0,le,be;M>D;D++)if((ue||D in W)&&(le=W[D],be=T(le,D,z),A))if(R)Z[D]=be;else if(be)switch(A){case 3:return!0;case 5:return le;case 6:return D;case 2:P(Z,le)}else switch(A){case 4:return!1;case 7:P(Z,le)}return U?-1:L||G?G:Z}};u.exports={forEach:N(0),map:N(1),filter:N(2),some:N(3),every:N(4),find:N(5),findIndex:N(6),filterReject:N(7)}},function(u,c,i){var s=i(18),f=i(27),g=i(65),b=f("species");u.exports=function(x){return g>=51||!s(function(){var S=[],P=S.constructor={};return P[b]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,s=i.apply,f=i.bind,g=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?g.bind(s):function(){return g.apply(s,arguments)})},function(u,c,i){var s=i(16),f=i(15),g=i(81),b=i(39),x=i(120),S=f([].join),P=g!=Object,N=x("join",",");s({target:"Array",proto:!0,forced:P||!N},{join:function(R){return S(b(this),R===void 0?",":R)}})},function(u,c,i){var s=i(76),f=i(35),g=i(15),b=i(122),x=i(154),S=i(32),P=i(45),N=i(156),A=i(123),R=i(90),I=i(40),L=i(59),G=i(113),U=i(124),Y=i(102),ue=i(151),ae=i(18),ee=ue.UNSUPPORTED_Y,q=4294967295,se=Math.min,z=[].push,W=g(/./.exec),T=g(z),M=g("".slice),D=!ae(function(){var X=/(?:)/,Z=X.exec;X.exec=function(){return Z.apply(this,arguments)};var le="ab".split(X);return le.length!==2||le[0]!=="a"||le[1]!=="b"});b("split",function(X,Z,le){var be;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?be=function(me,ge){var Ee=I(P(this)),Oe=ge===void 0?q:ge>>>0;if(Oe===0)return[];if(me===void 0)return[Ee];if(!x(me))return f(Z,Ee,me,Oe);for(var Ae=[],ze=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ye=0,Re=new RegExp(me.source,ze+"g"),Se,Ie,_e;(Se=f(Y,Re,Ee))&&(Ie=Re.lastIndex,!(Ie>Ye&&(T(Ae,M(Ee,Ye,Se.index)),Se.length>1&&Se.index<Ee.length&&s(z,Ae,G(Se,1)),_e=Se[0].length,Ye=Ie,Ae.length>=Oe)));)Re.lastIndex===Se.index&&Re.lastIndex++;return Ye===Ee.length?(_e||!W(Re,""))&&T(Ae,""):T(Ae,M(Ee,Ye)),Ae.length>Oe?G(Ae,0,Oe):Ae}:"0".split(void 0,0).length?be=function(me,ge){return me===void 0&&ge===0?[]:f(Z,this,me,ge)}:be=Z,[function(ge,Ee){var Oe=P(this),Ae=ge==null?void 0:L(ge,X);return Ae?f(Ae,ge,Oe,Ee):f(be,I(Oe),ge,Ee)},function(me,ge){var Ee=S(this),Oe=I(me),Ae=le(be,Ee,Oe,ge,be!==Z);if(Ae.done)return Ae.value;var ze=N(Ee,RegExp),Ye=Ee.unicode,Re=(Ee.ignoreCase?"i":"")+(Ee.multiline?"m":"")+(Ee.unicode?"u":"")+(ee?"g":"y"),Se=new ze(ee?"^(?:"+Ee.source+")":Ee,Re),Ie=ge===void 0?q:ge>>>0;if(Ie===0)return[];if(Oe.length===0)return U(Se,Oe)===null?[Oe]:[];for(var _e=0,_=0,F=[];_<Oe.length;){Se.lastIndex=ee?0:_;var V=U(Se,ee?M(Oe,_):Oe),fe;if(V===null||(fe=se(R(Se.lastIndex+(ee?_:0)),Oe.length))===_e)_=A(Oe,_,Ye);else{if(T(F,M(Oe,_e,_)),F.length===Ie)return F;for(var ve=1;ve<=V.length-1;ve++)if(T(F,V[ve]),F.length===Ie)return F;_=_e=fe}}return T(F,M(Oe,_e)),F}]},!D,ee)},function(u,c,i){var s=i(36),f=i(7),g=i(15),b=i(95),x=i(44),S=i(34),P=i(143),N=i(58),A=i(88),R=i(130),I=i(18),L=i(72).f,G=i(51).f,U=i(37).f,Y=i(196),ue=i(159).trim,ae="Number",ee=f[ae],q=ee.prototype,se=f.TypeError,z=g("".slice),W=g("".charCodeAt),T=function(be){var me=R(be,"number");return typeof me=="bigint"?me:M(me)},M=function(be){var me=R(be,"number"),ge,Ee,Oe,Ae,ze,Ye,Re,Se;if(A(me))throw se("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ue(me),ge=W(me,0),ge===43||ge===45){if(Ee=W(me,2),Ee===88||Ee===120)return NaN}else if(ge===48){switch(W(me,1)){case 66:case 98:Oe=2,Ae=49;break;case 79:case 111:Oe=8,Ae=55;break;default:return+me}for(ze=z(me,2),Ye=ze.length,Re=0;Re<Ye;Re++)if(Se=W(ze,Re),Se<48||Se>Ae)return NaN;return parseInt(ze,Oe)}}return+me};if(b(ae,!ee(" 0o1")||!ee("0b1")||ee("+0x1"))){for(var D=function(me){var ge=arguments.length<1?0:ee(T(me)),Ee=this;return N(q,Ee)&&I(function(){Y(Ee)})?P(Object(ge),Ee,D):ge},X=s?L(ee):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Z=0,le;X.length>Z;Z++)S(ee,le=X[Z])&&!S(D,le)&&U(D,le,G(ee,le));D.prototype=q,q.constructor=D,x(f,ae,D)}},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var s=i(7),f=i(15),g=i(18),b=i(50),x=s.Object,S=f("".split);u.exports=g(function(){return!x("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?S(P,""):x(P)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var s=i(27),f=i(54),g=i(37),b=s("unscopables"),x=Array.prototype;x[b]==null&&g.f(x,b,{configurable:!0,value:f(null)}),u.exports=function(S){x[b][S]=!0}},function(u,c,i){var s=i(64),f=i(107);(u.exports=function(g,b){return f[g]||(f[g]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var s=i(15),f=0,g=Math.random(),b=s(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++f+g,36)}},function(u,c,i){var s=i(7),f=i(33),g=s.document,b=f(g)&&f(g.createElement);u.exports=function(x){return b?g.createElement(x):{}}},function(u,c,i){var s=i(130),f=i(88);u.exports=function(g){var b=s(g,"string");return f(b)?b:b+""}},function(u,c,i){var s=i(7),f=i(46),g=i(28),b=i(58),x=i(128),S=s.Object;u.exports=x?function(P){return typeof P=="symbol"}:function(P){var N=f("Symbol");return g(N)&&b(N.prototype,S(P))}},function(u,c,i){var s=i(7),f=s.String;u.exports=function(g){try{return f(g)}catch{return"Object"}}},function(u,c,i){var s=i(68),f=Math.min;u.exports=function(g){return g>0?f(s(g),9007199254740991):0}},function(u,c,i){var s=i(84),f=i(85),g=s("keys");u.exports=function(b){return g[b]||(g[b]=f(b))}},function(u,c,i){var s=i(15),f=i(28),g=i(107),b=s(Function.toString);f(g.inspectSource)||(g.inspectSource=function(x){return b(x)}),u.exports=g.inspectSource},function(u,c,i){var s={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,g=f&&!s.call({1:2},1);c.f=g?function(x){var S=f(this,x);return!!S&&S.enumerable}:s},function(u,c,i){var s=i(36),f=i(34),g=Function.prototype,b=s&&Object.getOwnPropertyDescriptor,x=f(g,"name"),S=x&&function(){}.name==="something",P=x&&(!s||s&&b(g,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:P}},function(u,c,i){var s=i(18),f=i(28),g=/#|\.prototype\./,b=function(A,R){var I=S[x(A)];return I==N?!0:I==P?!1:f(R)?s(R):!!R},x=b.normalize=function(A){return String(A).replace(g,".").toLowerCase()},S=b.data={},P=b.NATIVE="N",N=b.POLYFILL="P";u.exports=b},function(u,c,i){var s=i(7),f=i(34),g=i(28),b=i(38),x=i(91),S=i(137),P=x("IE_PROTO"),N=s.Object,A=N.prototype;u.exports=S?N.getPrototypeOf:function(R){var I=b(R);if(f(I,P))return I[P];var L=I.constructor;return g(L)&&I instanceof L?L.prototype:I instanceof N?A:null}},function(u,c,i){var s=i(15),f=i(32),g=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},S;try{S=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(x,[]),b=x instanceof Array}catch{}return function(N,A){return f(N),g(A),b?S(N,A):N.__proto__=A,N}}():void 0)},function(u,c,i){var s=i(7),f=i(116),g=i(28),b=i(50),x=i(27),S=x("toStringTag"),P=s.Object,N=b(function(){return arguments}())=="Arguments",A=function(R,I){try{return R[I]}catch{}};u.exports=f?b:function(R){var I,L,G;return R===void 0?"Undefined":R===null?"Null":typeof(L=A(I=P(R),S))=="string"?L:N?b(I):(G=b(I))=="Object"&&g(I.callee)?"Arguments":G}},function(u,c,i){var s=i(50);u.exports=Array.isArray||function(g){return s(g)=="Array"}},function(u,c,i){var s=i(15),f=i(18),g=i(28),b=i(98),x=i(46),S=i(92),P=function(){},N=[],A=x("Reflect","construct"),R=/^\s*(?:class|function)\b/,I=s(R.exec),L=!R.exec(P),G=function(Y){if(!g(Y))return!1;try{return A(P,N,Y),!0}catch{return!1}},U=function(Y){if(!g(Y))return!1;switch(b(Y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return L||!!I(R,S(Y))};u.exports=!A||f(function(){var Y;return G(G.call)||!G(Object)||!G(function(){Y=!0})||Y})?U:G},function(u,c,i){var s=i(15);u.exports=s([].slice)},function(u,c,i){var s=i(35),f=i(15),g=i(40),b=i(184),x=i(151),S=i(84),P=i(54),N=i(56).get,A=i(185),R=i(186),I=S("native-string-replace",String.prototype.replace),L=RegExp.prototype.exec,G=L,U=f("".charAt),Y=f("".indexOf),ue=f("".replace),ae=f("".slice),ee=function(){var W=/a/,T=/b*/g;return s(L,W,"a"),s(L,T,"a"),W.lastIndex!==0||T.lastIndex!==0}(),q=x.BROKEN_CARET,se=/()??/.exec("")[1]!==void 0,z=ee||se||q||A||R;z&&(G=function(T){var M=this,D=N(M),X=g(T),Z=D.raw,le,be,me,ge,Ee,Oe,Ae;if(Z)return Z.lastIndex=M.lastIndex,le=s(G,Z,X),M.lastIndex=Z.lastIndex,le;var ze=D.groups,Ye=q&&M.sticky,Re=s(b,M),Se=M.source,Ie=0,_e=X;if(Ye&&(Re=ue(Re,"y",""),Y(Re,"g")===-1&&(Re+="g"),_e=ae(X,M.lastIndex),M.lastIndex>0&&(!M.multiline||M.multiline&&U(X,M.lastIndex-1)!==`
`)&&(Se="(?: "+Se+")",_e=" "+_e,Ie++),be=new RegExp("^(?:"+Se+")",Re)),se&&(be=new RegExp("^"+Se+"$(?!\\s)",Re)),ee&&(me=M.lastIndex),ge=s(L,Ye?be:M,_e),Ye?ge?(ge.input=ae(ge.input,Ie),ge[0]=ae(ge[0],Ie),ge.index=M.lastIndex,M.lastIndex+=ge[0].length):M.lastIndex=0:ee&&ge&&(M.lastIndex=M.global?ge.index+ge[0].length:me),se&&ge&&ge.length>1&&s(I,ge[0],be,function(){for(Ee=1;Ee<arguments.length-2;Ee++)arguments[Ee]===void 0&&(ge[Ee]=void 0)}),ge&&ze)for(ge.groups=Oe=P(null),Ee=0;Ee<ze.length;Ee++)Ae=ze[Ee],Oe[Ae[0]]=ge[Ae[1]];return ge}),u.exports=G},function(u,c,i){var s=i(16),f=i(7),g=i(67),b=i(68),x=i(43),S=i(38),P=i(119),N=i(61),A=i(75),R=A("splice"),I=f.TypeError,L=Math.max,G=Math.min,U=9007199254740991,Y="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!R},{splice:function(ae,ee){var q=S(this),se=x(q),z=g(ae,se),W=arguments.length,T,M,D,X,Z,le;if(W===0?T=M=0:W===1?(T=0,M=se-z):(T=W-2,M=G(L(b(ee),0),se-z)),se+T-M>U)throw I(Y);for(D=P(q,M),X=0;X<M;X++)Z=z+X,Z in q&&N(D,X,q[Z]);if(D.length=M,T<M){for(X=z;X<se-M;X++)Z=X+M,le=X+T,Z in q?q[le]=q[Z]:delete q[le];for(X=se;X>se-M+T;X--)delete q[X-1]}else if(T>M)for(X=se-M;X>z;X--)Z=X+M-1,le=X+T-1,Z in q?q[le]=q[Z]:delete q[le];for(X=0;X<T;X++)q[X+z]=arguments[X+2];return q.length=se-M+T,D}})},function(u,c,i){var s=i(16),f=i(201),g=i(202);s({target:"String",proto:!0,forced:g("anchor")},{anchor:function(x){return f(this,"a","name",x)}})},function(u,c,i){(function(s){var f=typeof s=="object"&&s&&s.Object===Object&&s;c.a=f}).call(this,i(82))},function(u,c,i){(function(s){var f=i(31),g=v&&!v.nodeType&&v,b=g&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===g,S=x?f.a.Buffer:void 0,P=S?S.allocUnsafe:void 0;function N(A,R){if(R)return A.slice();var I=A.length,L=P?P(I):new A.constructor(I);return A.copy(L),L}c.a=N}).call(this,i(121)(u))},function(u,c,i){var s=i(7),f=i(108),g="__core-js_shared__",b=s[g]||f(g,{});u.exports=b},function(u,c,i){var s=i(7),f=Object.defineProperty;u.exports=function(g,b){try{f(s,g,{value:b,configurable:!0,writable:!0})}catch{s[g]=b}return b}},function(u,c,i){var s=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&s&&s<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var s=i(16),f=i(35),g=i(64),b=i(94),x=i(28),S=i(171),P=i(96),N=i(97),A=i(73),R=i(57),I=i(44),L=i(27),G=i(70),U=i(136),Y=b.PROPER,ue=b.CONFIGURABLE,ae=U.IteratorPrototype,ee=U.BUGGY_SAFARI_ITERATORS,q=L("iterator"),se="keys",z="values",W="entries",T=function(){return this};u.exports=function(M,D,X,Z,le,be,me){S(X,D,Z);var ge=function(_){if(_===le&&Ye)return Ye;if(!ee&&_ in Ae)return Ae[_];switch(_){case se:return function(){return new X(this,_)};case z:return function(){return new X(this,_)};case W:return function(){return new X(this,_)}}return function(){return new X(this)}},Ee=D+" Iterator",Oe=!1,Ae=M.prototype,ze=Ae[q]||Ae["@@iterator"]||le&&Ae[le],Ye=!ee&&ze||ge(le),Re=D=="Array"&&Ae.entries||ze,Se,Ie,_e;if(Re&&(Se=P(Re.call(new M)),Se!==Object.prototype&&Se.next&&(!g&&P(Se)!==ae&&(N?N(Se,ae):x(Se[q])||I(Se,q,T)),A(Se,Ee,!0,!0),g&&(G[Ee]=T))),Y&&le==z&&ze&&ze.name!==z&&(!g&&ue?R(Ae,"name",z):(Oe=!0,Ye=function(){return f(ze,this)})),le)if(Ie={values:ge(z),keys:be?Ye:ge(se),entries:ge(W)},me)for(_e in Ie)(ee||Oe||!(_e in Ae))&&I(Ae,_e,Ie[_e]);else s({target:D,proto:!0,forced:ee||Oe},Ie);return(!g||me)&&Ae[q]!==Ye&&I(Ae,q,Ye,{name:le}),G[D]=Ye,Ie}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var s=i(7),f=i(67),g=i(43),b=i(61),x=s.Array,S=Math.max;u.exports=function(P,N,A){for(var R=g(P),I=f(N,R),L=f(A===void 0?R:A,R),G=x(S(L-I,0)),U=0;I<L;I++,U++)b(G,U,P[I]);return G.length=U,G}},function(u,c,i){var s=i(7),f=i(62),g=i(35),b=i(32),x=i(89),S=i(140),P=i(43),N=i(58),A=i(141),R=i(115),I=i(142),L=s.TypeError,G=function(Y,ue){this.stopped=Y,this.result=ue},U=G.prototype;u.exports=function(Y,ue,ae){var ee=ae&&ae.that,q=!!(ae&&ae.AS_ENTRIES),se=!!(ae&&ae.IS_ITERATOR),z=!!(ae&&ae.INTERRUPTED),W=f(ue,ee),T,M,D,X,Z,le,be,me=function(Ee){return T&&I(T,"normal",Ee),new G(!0,Ee)},ge=function(Ee){return q?(b(Ee),z?W(Ee[0],Ee[1],me):W(Ee[0],Ee[1])):z?W(Ee,me):W(Ee)};if(se)T=Y;else{if(M=R(Y),!M)throw L(x(Y)+" is not iterable");if(S(M)){for(D=0,X=P(Y);X>D;D++)if(Z=ge(Y[D]),Z&&N(U,Z))return Z;return new G(!1)}T=A(Y,M)}for(le=T.next;!(be=g(le,T)).done;){try{Z=ge(be.value)}catch(Ee){I(T,"throw",Ee)}if(typeof Z=="object"&&Z&&N(U,Z))return Z}return new G(!1)}},function(u,c,i){var s=i(98),f=i(59),g=i(70),b=i(27),x=b("iterator");u.exports=function(S){if(S!=null)return f(S,x)||f(S,"@@iterator")||g[s(S)]}},function(u,c,i){var s=i(27),f=s("toStringTag"),g={};g[f]="z",u.exports=String(g)==="[object z]"},function(u,c,i){var s=i(7),f=i(58),g=s.TypeError;u.exports=function(b,x){if(f(x,b))return b;throw g("Incorrect invocation")}},function(u,c,i){var s=i(27),f=s("iterator"),g=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){g=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch{}u.exports=function(S,P){if(!P&&!g)return!1;var N=!1;try{var A={};A[f]=function(){return{next:function(){return{done:N=!0}}}},S(A)}catch{}return N}},function(u,c,i){var s=i(180);u.exports=function(f,g){return new(s(f))(g===0?0:g)}},function(u,c,i){var s=i(18);u.exports=function(f,g){var b=[][f];return!!b&&s(function(){b.call(null,g||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var s=Object.create(i);s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),Object.defineProperty(s,"exports",{enumerable:!0}),s.webpackPolyfill=1}return s}},function(u,c,i){i(19);var s=i(15),f=i(44),g=i(102),b=i(18),x=i(27),S=i(57),P=x("species"),N=RegExp.prototype;u.exports=function(A,R,I,L){var G=x(A),U=!b(function(){var ee={};return ee[G]=function(){return 7},""[A](ee)!=7}),Y=U&&!b(function(){var ee=!1,q=/a/;return A==="split"&&(q={},q.constructor={},q.constructor[P]=function(){return q},q.flags="",q[G]=/./[G]),q.exec=function(){return ee=!0,null},q[G](""),!ee});if(!U||!Y||I){var ue=s(/./[G]),ae=R(G,""[A],function(ee,q,se,z,W){var T=s(ee),M=q.exec;return M===g||M===N.exec?U&&!W?{done:!0,value:ue(q,se,z)}:{done:!0,value:T(se,q,z)}:{done:!1}});f(String.prototype,A,ae[0]),f(N,G,ae[1])}L&&S(N[G],"sham",!0)}},function(u,c,i){var s=i(146).charAt;u.exports=function(f,g,b){return g+(b?s(f,g).length:1)}},function(u,c,i){var s=i(7),f=i(35),g=i(32),b=i(28),x=i(50),S=i(102),P=s.TypeError;u.exports=function(N,A){var R=N.exec;if(b(R)){var I=f(R,N,A);return I!==null&&g(I),I}if(x(N)==="RegExp")return f(S,N,A);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var s=i(76),f=i(35),g=i(15),b=i(122),x=i(18),S=i(32),P=i(28),N=i(68),A=i(90),R=i(40),I=i(45),L=i(123),G=i(59),U=i(197),Y=i(124),ue=i(27),ae=ue("replace"),ee=Math.max,q=Math.min,se=g([].concat),z=g([].push),W=g("".indexOf),T=g("".slice),M=function(le){return le===void 0?le:String(le)},D=function(){return"a".replace(/./,"$0")==="$0"}(),X=function(){return/./[ae]?/./[ae]("a","$0")==="":!1}(),Z=!x(function(){var le=/./;return le.exec=function(){var be=[];return be.groups={a:"7"},be},"".replace(le,"$<a>")!=="7"});b("replace",function(le,be,me){var ge=X?"$":"$0";return[function(Oe,Ae){var ze=I(this),Ye=Oe==null?void 0:G(Oe,ae);return Ye?f(Ye,Oe,ze,Ae):f(be,R(ze),Oe,Ae)},function(Ee,Oe){var Ae=S(this),ze=R(Ee);if(typeof Oe=="string"&&W(Oe,ge)===-1&&W(Oe,"$<")===-1){var Ye=me(be,Ae,ze,Oe);if(Ye.done)return Ye.value}var Re=P(Oe);Re||(Oe=R(Oe));var Se=Ae.global;if(Se){var Ie=Ae.unicode;Ae.lastIndex=0}for(var _e=[];;){var _=Y(Ae,ze);if(_===null||(z(_e,_),!Se))break;var F=R(_[0]);F===""&&(Ae.lastIndex=L(ze,A(Ae.lastIndex),Ie))}for(var V="",fe=0,ve=0;ve<_e.length;ve++){_=_e[ve];for(var de=R(_[0]),Be=ee(q(N(_.index),ze.length),0),Je=[],Xe=1;Xe<_.length;Xe++)z(Je,M(_[Xe]));var We=_.groups;if(Re){var ye=se([de],Je,Be,ze);We!==void 0&&z(ye,We);var it=R(s(Oe,void 0,ye))}else it=U(de,ze,Be,Je,We,Oe);Be>=fe&&(V+=T(ze,fe,Be)+it,fe=Be+de.length)}return V+T(ze,fe)}]},!Z||!D||X)},function(u,c,i){var s=i(50),f=i(7);u.exports=s(f.process)=="process"},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var s=i(109);u.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var s=i(36),f=i(18),g=i(86);u.exports=!s&&!f(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var s=i(7),f=i(35),g=i(33),b=i(88),x=i(59),S=i(169),P=i(27),N=s.TypeError,A=P("toPrimitive");u.exports=function(R,I){if(!g(R)||b(R))return R;var L=x(R,A),G;if(L){if(I===void 0&&(I="default"),G=f(L,R,I),!g(G)||b(G))return G;throw N("Can't convert object to primitive value")}return I===void 0&&(I="number"),S(R,I)}},function(u,c,i){var s=i(15),f=i(34),g=i(39),b=i(132).indexOf,x=i(69),S=s([].push);u.exports=function(P,N){var A=g(P),R=0,I=[],L;for(L in A)!f(x,L)&&f(A,L)&&S(I,L);for(;N.length>R;)f(A,L=N[R++])&&(~b(I,L)||S(I,L));return I}},function(u,c,i){var s=i(39),f=i(67),g=i(43),b=function(x){return function(S,P,N){var A=s(S),R=g(A),I=f(N,R),L;if(x&&P!=P){for(;R>I;)if(L=A[I++],L!=L)return!0}else for(;R>I;I++)if((x||I in A)&&A[I]===P)return x||I||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var s=i(46);u.exports=s("document","documentElement")},function(u,c,i){var s=i(34),f=i(135),g=i(51),b=i(37);u.exports=function(x,S){for(var P=f(S),N=b.f,A=g.f,R=0;R<P.length;R++){var I=P[R];s(x,I)||N(x,I,A(S,I))}}},function(u,c,i){var s=i(46),f=i(15),g=i(72),b=i(112),x=i(32),S=f([].concat);u.exports=s("Reflect","ownKeys")||function(N){var A=g.f(x(N)),R=b.f;return R?S(A,R(N)):A}},function(u,c,i){var s=i(18),f=i(28),g=i(54),b=i(96),x=i(44),S=i(27),P=i(64),N=S("iterator"),A=!1,R,I,L;[].keys&&(L=[].keys(),"next"in L?(I=b(b(L)),I!==Object.prototype&&(R=I)):A=!0);var G=R==null||s(function(){var U={};return R[N].call(U)!==U});G?R={}:P&&(R=g(R)),f(R[N])||x(R,N,function(){return this}),u.exports={IteratorPrototype:R,BUGGY_SAFARI_ITERATORS:A}},function(u,c,i){var s=i(18);u.exports=!s(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var s=i(16),f=i(15),g=i(69),b=i(33),x=i(34),S=i(37).f,P=i(72),N=i(139),A=i(174),R=i(85),I=i(176),L=!1,G=R("meta"),U=0,Y=function(z){S(z,G,{value:{objectID:"O"+U++,weakData:{}}})},ue=function(z,W){if(!b(z))return typeof z=="symbol"?z:(typeof z=="string"?"S":"P")+z;if(!x(z,G)){if(!A(z))return"F";if(!W)return"E";Y(z)}return z[G].objectID},ae=function(z,W){if(!x(z,G)){if(!A(z))return!0;if(!W)return!1;Y(z)}return z[G].weakData},ee=function(z){return I&&L&&A(z)&&!x(z,G)&&Y(z),z},q=function(){se.enable=function(){},L=!0;var z=P.f,W=f([].splice),T={};T[G]=1,z(T).length&&(P.f=function(M){for(var D=z(M),X=0,Z=D.length;X<Z;X++)if(D[X]===G){W(D,X,1);break}return D},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:N.f}))},se=u.exports={enable:q,fastKey:ue,getWeakData:ae,onFreeze:ee};g[G]=!0},function(u,c,i){var s=i(50),f=i(39),g=i(72).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(P){try{return g(P)}catch{return b(x)}};u.exports.f=function(N){return x&&s(N)=="Window"?S(N):g(f(N))}},function(u,c,i){var s=i(27),f=i(70),g=s("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(f.Array===x||b[g]===x)}},function(u,c,i){var s=i(7),f=i(35),g=i(55),b=i(32),x=i(89),S=i(115),P=s.TypeError;u.exports=function(N,A){var R=arguments.length<2?S(N):A;if(g(R))return b(f(R,N));throw P(x(N)+" is not iterable")}},function(u,c,i){var s=i(35),f=i(32),g=i(59);u.exports=function(b,x,S){var P,N;f(b);try{if(P=g(b,"return"),!P){if(x==="throw")throw S;return S}P=s(P,b)}catch(A){N=!0,P=A}if(x==="throw")throw S;if(N)throw P;return f(P),S}},function(u,c,i){var s=i(28),f=i(33),g=i(97);u.exports=function(b,x,S){var P,N;return g&&s(P=x.constructor)&&P!==S&&f(N=P.prototype)&&N!==S.prototype&&g(b,N),b}},function(u,c,i){var s=i(44);u.exports=function(f,g,b){for(var x in g)s(f,x,g[x],b);return f}},function(u,c,i){var s=i(46),f=i(37),g=i(27),b=i(36),x=g("species");u.exports=function(S){var P=s(S),N=f.f;b&&P&&!P[x]&&N(P,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var s=i(15),f=i(68),g=i(40),b=i(45),x=s("".charAt),S=s("".charCodeAt),P=s("".slice),N=function(A){return function(R,I){var L=g(b(R)),G=f(I),U=L.length,Y,ue;return G<0||G>=U?A?"":void 0:(Y=S(L,G),Y<55296||Y>56319||G+1===U||(ue=S(L,G+1))<56320||ue>57343?A?x(L,G):Y:A?P(L,G,G+2):(Y-55296<<10)+(ue-56320)+65536)}};u.exports={codeAt:N(!1),charAt:N(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var s=i(86),f=s("span").classList,g=f&&f.constructor&&f.constructor.prototype;u.exports=g===Object.prototype?void 0:g},function(u,c,i){var s=i(27);c.f=s},function(u,c,i){var s=i(181),f=i(34),g=i(149),b=i(37).f;u.exports=function(x){var S=s.Symbol||(s.Symbol={});f(S,x)||b(S,x,{value:g.f(x)})}},function(u,c,i){var s=i(18),f=i(7),g=f.RegExp,b=s(function(){var P=g("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),x=b||s(function(){return!g("a","y").sticky}),S=b||s(function(){var P=g("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var s=i(16),f=i(132).includes,g=i(83);s({target:"Array",proto:!0},{includes:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),g("includes")},function(u,c,i){var s=i(16),f=i(15),g=i(193),b=i(45),x=i(40),S=i(194),P=f("".indexOf);s({target:"String",proto:!0,forced:!S("includes")},{includes:function(A){return!!~P(x(b(this)),x(g(A)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(33),f=i(50),g=i(27),b=g("match");u.exports=function(x){var S;return s(x)&&((S=x[b])!==void 0?!!S:f(x)=="RegExp")}},function(u,c){var i=u.exports={},s,f;function g(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=g}catch{s=g}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch{f=b}})();function x(Y){if(s===setTimeout)return setTimeout(Y,0);if((s===g||!s)&&setTimeout)return s=setTimeout,setTimeout(Y,0);try{return s(Y,0)}catch{try{return s.call(null,Y,0)}catch{return s.call(this,Y,0)}}}function S(Y){if(f===clearTimeout)return clearTimeout(Y);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(Y);try{return f(Y)}catch{try{return f.call(null,Y)}catch{return f.call(this,Y)}}}var P=[],N=!1,A,R=-1;function I(){!N||!A||(N=!1,A.length?P=A.concat(P):R=-1,P.length&&L())}function L(){if(!N){var Y=x(I);N=!0;for(var ue=P.length;ue;){for(A=P,P=[];++R<ue;)A&&A[R].run();R=-1,ue=P.length}A=null,N=!1,S(Y)}}i.nextTick=function(Y){var ue=new Array(arguments.length-1);if(arguments.length>1)for(var ae=1;ae<arguments.length;ae++)ue[ae-1]=arguments[ae];P.push(new G(Y,ue)),P.length===1&&!N&&x(L)};function G(Y,ue){this.fun=Y,this.array=ue}G.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function U(){}i.on=U,i.addListener=U,i.once=U,i.off=U,i.removeListener=U,i.removeAllListeners=U,i.emit=U,i.prependListener=U,i.prependOnceListener=U,i.listeners=function(Y){return[]},i.binding=function(Y){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(Y){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var s=i(32),f=i(157),g=i(27),b=g("species");u.exports=function(x,S){var P=s(x).constructor,N;return P===void 0||(N=s(P)[b])==null?S:f(N)}},function(u,c,i){var s=i(7),f=i(100),g=i(89),b=s.TypeError;u.exports=function(x){if(f(x))return x;throw b(g(x)+" is not a constructor")}},function(u,c,i){var s=i(16),f=i(159).trim,g=i(195);s({target:"String",proto:!0,forced:g("trim")},{trim:function(){return f(this)}})},function(u,c,i){var s=i(15),f=i(45),g=i(40),b=i(160),x=s("".replace),S="["+b+"]",P=RegExp("^"+S+S+"*"),N=RegExp(S+S+"*$"),A=function(R){return function(I){var L=g(f(I));return R&1&&(L=x(L,P,"")),R&2&&(L=x(L,N,"")),L}};u.exports={start:A(1),end:A(2),trim:A(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var s=i(35),f=i(122),g=i(32),b=i(90),x=i(40),S=i(45),P=i(59),N=i(123),A=i(124);f("match",function(R,I,L){return[function(U){var Y=S(this),ue=U==null?void 0:P(U,R);return ue?s(ue,U,Y):new RegExp(U)[R](x(Y))},function(G){var U=g(this),Y=x(G),ue=L(I,U,Y);if(ue.done)return ue.value;if(!U.global)return A(U,Y);var ae=U.unicode;U.lastIndex=0;for(var ee=[],q=0,se;(se=A(U,Y))!==null;){var z=x(se[0]);ee[q]=z,z===""&&(U.lastIndex=N(Y,b(U.lastIndex),ae)),q++}return q===0?null:ee}]})},function(u,c,i){var s=i(7),f=i(76),g=i(62),b=i(28),x=i(34),S=i(18),P=i(133),N=i(101),A=i(86),R=i(163),I=i(126),L=s.setImmediate,G=s.clearImmediate,U=s.process,Y=s.Dispatch,ue=s.Function,ae=s.MessageChannel,ee=s.String,q=0,se={},z="onreadystatechange",W,T,M,D;try{W=s.location}catch{}var X=function(me){if(x(se,me)){var ge=se[me];delete se[me],ge()}},Z=function(me){return function(){X(me)}},le=function(me){X(me.data)},be=function(me){s.postMessage(ee(me),W.protocol+"//"+W.host)};(!L||!G)&&(L=function(ge){var Ee=N(arguments,1);return se[++q]=function(){f(b(ge)?ge:ue(ge),void 0,Ee)},T(q),q},G=function(ge){delete se[ge]},I?T=function(me){U.nextTick(Z(me))}:Y&&Y.now?T=function(me){Y.now(Z(me))}:ae&&!R?(M=new ae,D=M.port2,M.port1.onmessage=le,T=g(D.postMessage,D)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&W&&W.protocol!=="file:"&&!S(be)?(T=be,s.addEventListener("message",le,!1)):z in A("script")?T=function(me){P.appendChild(A("script"))[z]=function(){P.removeChild(this),X(me)}}:T=function(me){setTimeout(Z(me),0)}),u.exports={set:L,clear:G}},function(u,c,i){var s=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},function(u,c,i){var s=i(55),f=function(g){var b,x;this.promise=new g(function(S,P){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=S,x=P}),this.resolve=s(b),this.reject=s(x)};u.exports.f=function(g){return new f(g)}},function(u,c,i){function s(){return!1}c.a=s},function(u,c,i){(function(s){i.d(c,"a",function(){return q});var f=i(0);function g(z){throw new Error("[mobx-utils] "+z)}function b(z,W){W===void 0&&(W="Illegal state"),z||g(W)}var x=function(z){return z&&z!==Object.prototype&&Object.getOwnPropertyNames(z).concat(x(Object.getPrototypeOf(z))||[])},S=function(z){var W=x(z),T=W.filter(function(M,D){return W.indexOf(M)===D});return T},P=function(z){return S(z).filter(function(W){return W!=="constructor"&&!~W.indexOf("__")})},N="pending",A="fulfilled",R="rejected";function I(z){switch(this.state){case N:return z.pending&&z.pending(this.value);case R:return z.rejected&&z.rejected(this.value);case A:return z.fulfilled?z.fulfilled(this.value):this.value}}function L(z,W){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof z=="function"||typeof z=="object"&&z&&typeof z.then=="function","Please pass a promise or function to fromPromise"),z.isPromiseBasedObservable===!0)return z;typeof z=="function"&&(z=new Promise(z));var T=z;z.then(Object(f.k)("observableFromPromise-resolve",function(D){T.value=D,T.state=A}),Object(f.k)("observableFromPromise-reject",function(D){T.value=D,T.state=R})),T.isPromiseBasedObservable=!0,T.case=I;var M=W&&W.state===A?W.value:void 0;return Object(f.q)(T,{value:M,state:N},{},{deep:!1}),T}(function(z){z.reject=Object(f.k)("fromPromise.reject",function(T){var M=z(Promise.reject(T));return M.state=R,M.value=T,M});function W(T){T===void 0&&(T=void 0);var M=z(Promise.resolve(T));return M.state=A,M.value=T,M}z.resolve=Object(f.k)("fromPromise.resolve",W)})(L||(L={}));var G=function(z,W,T,M){var D=arguments.length,X=D<3?W:M===null?M=Object.getOwnPropertyDescriptor(W,T):M,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(z,W,T,M);else for(var le=z.length-1;le>=0;le--)(Z=z[le])&&(X=(D<3?Z(X):D>3?Z(W,T,X):Z(W,T))||X);return D>3&&X&&Object.defineProperty(W,T,X),X};(function(){function z(W,T){var M=this;Object(f.G)(function(){M.current=T,M.subscription=W.subscribe(M)})}return z.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},z.prototype.next=function(W){this.current=W},z.prototype.complete=function(){this.dispose()},z.prototype.error=function(W){this.current=W,this.dispose()},G([f.C.ref],z.prototype,"current",void 0),G([f.k.bound],z.prototype,"next",null),G([f.k.bound],z.prototype,"complete",null),G([f.k.bound],z.prototype,"error",null),z})();var U=function(){return U=Object.assign||function(z){for(var W,T=1,M=arguments.length;T<M;T++){W=arguments[T];for(var D in W)Object.prototype.hasOwnProperty.call(W,D)&&(z[D]=W[D])}return z},U.apply(this,arguments)},Y=function(z,W,T,M){var D=arguments.length,X=D<3?W:M===null?M=Object.getOwnPropertyDescriptor(W,T):M,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(z,W,T,M);else for(var le=z.length-1;le>=0;le--)(Z=z[le])&&(X=(D<3?Z(X):D>3?Z(W,T,X):Z(W,T))||X);return D>3&&X&&Object.defineProperty(W,T,X),X},ue=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function z(W){var T=this;this.model=W,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(M){return T.localValues.has(M)},b(Object(f.A)(W),"createViewModel expects an observable object"),P(W).forEach(function(M){if(!(M===f.a||M==="__mobxDidRunLazyInitializers")){if(b(ue.indexOf(M)===-1,"The propertyname "+M+" is reserved and cannot be used with viewModels"),Object(f.w)(W,M)){var D=Object(f.h)(W,M).derivation;T.localComputedValues.set(M,Object(f.m)(D.bind(T)))}var X=Object.getOwnPropertyDescriptor(W,M),Z=X?{enumerable:X.enumerable}:{};Object.defineProperty(T,M,U(U({},Z),{configurable:!0,get:function(){return Object(f.w)(W,M)?T.localComputedValues.get(M).get():T.isPropertyDirty(M)?T.localValues.get(M):T.model[M]},set:Object(f.k)(function(le){le!==T.model[M]?T.localValues.set(M,le):T.localValues.delete(M)})}))}})}return Object.defineProperty(z.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),z.prototype.submit=function(){var W=this;Object(f.B)(this.localValues).forEach(function(T){var M=W.localValues.get(T),D=W.model[T];Object(f.y)(D)?D.replace(M):Object(f.z)(D)?(D.clear(),D.merge(M)):Object(f.v)(M)||(W.model[T]=M)}),this.localValues.clear()},z.prototype.reset=function(){this.localValues.clear()},z.prototype.resetProperty=function(W){this.localValues.delete(W)},Y([f.m],z.prototype,"isDirty",null),Y([f.m],z.prototype,"changedValues",null),Y([f.k.bound],z.prototype,"submit",null),Y([f.k.bound],z.prototype,"reset",null),Y([f.k.bound],z.prototype,"resetProperty",null),z})();function ae(z){if(!z)return"ROOT";for(var W=[];z.parent;)W.push(z.path),z=z.parent;return W.reverse().join("/")}function ee(z){return Object(f.A)(z)||Object(f.y)(z)||Object(f.z)(z)}function q(z,W){var T=new WeakMap;function M(le){var be=T.get(le.object);D(le,be),W(le,ae(be),z)}function D(le,be){switch(le.type){case"add":X(le.newValue,be,le.name);break;case"update":Z(le.oldValue),X(le.newValue,be,le.name||""+le.index);break;case"remove":case"delete":Z(le.oldValue);break;case"splice":le.removed.map(Z),le.added.forEach(function(Ee,Oe){return X(Ee,be,""+(le.index+Oe))});for(var me=le.index+le.addedCount;me<le.object.length;me++)if(ee(le.object[me])){var ge=T.get(le.object[me]);ge&&(ge.path=""+me)}break}}function X(le,be,me){if(ee(le)){var ge=T.get(le);if(ge){if(ge.parent!==be||ge.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+ae(be)+"/"+me+"',")+(" but it already exists at '"+ae(ge.parent)+"/"+ge.path+"'"))}else{var Ee={parent:be,path:me,dispose:Object(f.D)(le,M)};T.set(le,Ee),Object(f.p)(le).forEach(function(Oe){var Ae=Oe[0],ze=Oe[1];return X(ze,Ee,Ae)})}}}function Z(le){if(ee(le)){var be=T.get(le);if(!be)return;T.delete(le),be.dispose(),Object(f.L)(le).forEach(Z)}}return X(z,void 0,""),function(){Z(z)}}var se=function(){var z=function(W,T){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var X in D)D.hasOwnProperty(X)&&(M[X]=D[X])},z(W,T)};return function(W,T){z(W,T);function M(){this.constructor=W}W.prototype=T===null?Object.create(T):(M.prototype=T.prototype,new M)}}();(function(z){se(W,z);function W(T,M,D){var X=D===void 0?{}:D,Z=X.name,le=Z===void 0?"ogm"+(Math.random()*1e3|0):Z,be=X.keyToName,me=be===void 0?function(Oe){return""+Oe}:be,ge=z.call(this)||this;ge._keyToName=me,ge._groupBy=M,ge._ogmInfoKey=Symbol("ogmInfo"+le),ge._base=T;for(var Ee=0;Ee<T.length;Ee++)ge._addItem(T[Ee]);return ge._disposeBaseObserver=Object(f.D)(ge._base,function(Oe){if(Oe.type==="splice")Object(f.J)(function(){for(var Ae=0,ze=Oe.removed;Ae<ze.length;Ae++){var Ye=ze[Ae];ge._removeItem(Ye)}for(var Re=0,Se=Oe.added;Re<Se.length;Re++){var Ie=Se[Re];ge._addItem(Ie)}});else if(Oe.type==="update")Object(f.J)(function(){ge._removeItem(Oe.oldValue),ge._addItem(Oe.newValue)});else throw new Error("illegal state")}),ge}return W.prototype.clear=function(){throw new Error("not supported")},W.prototype.delete=function(T){throw new Error("not supported")},W.prototype.set=function(T,M){throw new Error("not supported")},W.prototype.dispose=function(){this._disposeBaseObserver();for(var T=0;T<this._base.length;T++){var M=this._base[T],D=M[this._ogmInfoKey];D.reaction(),delete M[this._ogmInfoKey]}},W.prototype._getGroupArr=function(T){var M=z.prototype.get.call(this,T);return M===void 0&&(M=Object(f.C)([],{name:"GroupArray["+this._keyToName(T)+"]",deep:!1}),z.prototype.set.call(this,T,M)),M},W.prototype._removeFromGroupArr=function(T,M){var D=z.prototype.get.call(this,T);D.length===1?z.prototype.delete.call(this,T):(M===D.length-1||(D[M]=D[D.length-1],D[M][this._ogmInfoKey].groupArrIndex=M),D.length--)},W.prototype._addItem=function(T){var M=this,D=this._groupBy(T),X=this._getGroupArr(D),Z={groupByValue:D,groupArrIndex:X.length,reaction:Object(f.F)(function(){return M._groupBy(T)},function(le,be){var me=T[M._ogmInfoKey];M._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var ge=M._getGroupArr(le),Ee=ge.length;ge.push(T),me.groupByValue=le,me.groupArrIndex=Ee})};Object.defineProperty(T,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Z}),X.push(T)},W.prototype._removeItem=function(T){var M=T[this._ogmInfoKey];this._removeFromGroupArr(M.groupByValue,M.groupArrIndex),M.reaction(),delete T[this._ogmInfoKey]},W})(f.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof s<"u"&&s.nextTick}).call(this,i(155))},function(u,c,i){var s;(function(f,g,b){if(!f)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},N={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A,R=1;R<20;++R)x[111+R]="f"+R;for(R=0;R<=9;++R)x[R+96]=R.toString();function I(M,D,X){if(M.addEventListener){M.addEventListener(D,X,!1);return}M.attachEvent("on"+D,X)}function L(M){if(M.type=="keypress"){var D=String.fromCharCode(M.which);return M.shiftKey||(D=D.toLowerCase()),D}return x[M.which]?x[M.which]:S[M.which]?S[M.which]:String.fromCharCode(M.which).toLowerCase()}function G(M,D){return M.sort().join(",")===D.sort().join(",")}function U(M){var D=[];return M.shiftKey&&D.push("shift"),M.altKey&&D.push("alt"),M.ctrlKey&&D.push("ctrl"),M.metaKey&&D.push("meta"),D}function Y(M){if(M.preventDefault){M.preventDefault();return}M.returnValue=!1}function ue(M){if(M.stopPropagation){M.stopPropagation();return}M.cancelBubble=!0}function ae(M){return M=="shift"||M=="ctrl"||M=="alt"||M=="meta"}function ee(){if(!A){A={};for(var M in x)M>95&&M<112||x.hasOwnProperty(M)&&(A[x[M]]=M)}return A}function q(M,D,X){return X||(X=ee()[M]?"keydown":"keypress"),X=="keypress"&&D.length&&(X="keydown"),X}function se(M){return M==="+"?["+"]:(M=M.replace(/\+{2}/g,"+plus"),M.split("+"))}function z(M,D){var X,Z,le,be=[];for(X=se(M),le=0;le<X.length;++le)Z=X[le],N[Z]&&(Z=N[Z]),D&&D!="keypress"&&P[Z]&&(Z=P[Z],be.push("shift")),ae(Z)&&be.push(Z);return D=q(Z,be,D),{key:Z,modifiers:be,action:D}}function W(M,D){return M===null||M===g?!1:M===D?!0:W(M.parentNode,D)}function T(M){var D=this;if(M=M||g,!(D instanceof T))return new T(M);D.target=M,D._callbacks={},D._directMap={};var X={},Z,le=!1,be=!1,me=!1;function ge(Se){Se=Se||{};var Ie=!1,_e;for(_e in X){if(Se[_e]){Ie=!0;continue}X[_e]=0}Ie||(me=!1)}function Ee(Se,Ie,_e,_,F,V){var fe,ve,de=[],Be=_e.type;if(!D._callbacks[Se])return[];for(Be=="keyup"&&ae(Se)&&(Ie=[Se]),fe=0;fe<D._callbacks[Se].length;++fe)if(ve=D._callbacks[Se][fe],!(!_&&ve.seq&&X[ve.seq]!=ve.level)&&Be==ve.action&&(Be=="keypress"&&!_e.metaKey&&!_e.ctrlKey||G(Ie,ve.modifiers))){var Je=!_&&ve.combo==F,Xe=_&&ve.seq==_&&ve.level==V;(Je||Xe)&&D._callbacks[Se].splice(fe,1),de.push(ve)}return de}function Oe(Se,Ie,_e,_){D.stopCallback(Ie,Ie.target||Ie.srcElement,_e,_)||Se(Ie,_e)===!1&&(Y(Ie),ue(Ie))}D._handleKey=function(Se,Ie,_e){var _=Ee(Se,Ie,_e),F,V={},fe=0,ve=!1;for(F=0;F<_.length;++F)_[F].seq&&(fe=Math.max(fe,_[F].level));for(F=0;F<_.length;++F){if(_[F].seq){if(_[F].level!=fe)continue;ve=!0,V[_[F].seq]=1,Oe(_[F].callback,_e,_[F].combo,_[F].seq);continue}ve||Oe(_[F].callback,_e,_[F].combo)}var de=_e.type=="keypress"&&be;_e.type==me&&!ae(Se)&&!de&&ge(V),be=ve&&_e.type=="keydown"};function Ae(Se){typeof Se.which!="number"&&(Se.which=Se.keyCode);var Ie=L(Se);if(!!Ie){if(Se.type=="keyup"&&le===Ie){le=!1;return}D.handleKey(Ie,U(Se),Se)}}function ze(){clearTimeout(Z),Z=setTimeout(ge,1e3)}function Ye(Se,Ie,_e,_){X[Se]=0;function F(Be){return function(){me=Be,++X[Se],ze()}}function V(Be){Oe(_e,Be,Se),_!=="keyup"&&(le=L(Be)),setTimeout(ge,10)}for(var fe=0;fe<Ie.length;++fe){var ve=fe+1===Ie.length,de=ve?V:F(_||z(Ie[fe+1]).action);Re(Ie[fe],de,_,Se,fe)}}function Re(Se,Ie,_e,_,F){D._directMap[Se+":"+_e]=Ie,Se=Se.replace(/\s+/g," ");var V=Se.split(" "),fe;if(V.length>1){Ye(Se,V,Ie,_e);return}fe=z(Se,_e),D._callbacks[fe.key]=D._callbacks[fe.key]||[],Ee(fe.key,fe.modifiers,{type:fe.action},_,Se,F),D._callbacks[fe.key][_?"unshift":"push"]({callback:Ie,modifiers:fe.modifiers,action:fe.action,seq:_,level:F,combo:Se})}D._bindMultiple=function(Se,Ie,_e){for(var _=0;_<Se.length;++_)Re(Se[_],Ie,_e)},I(M,"keypress",Ae),I(M,"keydown",Ae),I(M,"keyup",Ae)}T.prototype.bind=function(M,D,X){var Z=this;return M=M instanceof Array?M:[M],Z._bindMultiple.call(Z,M,D,X),Z},T.prototype.unbind=function(M,D){var X=this;return X.bind.call(X,M,function(){},D)},T.prototype.trigger=function(M,D){var X=this;return X._directMap[M+":"+D]&&X._directMap[M+":"+D]({},M),X},T.prototype.reset=function(){var M=this;return M._callbacks={},M._directMap={},M},T.prototype.stopCallback=function(M,D){var X=this;if((" "+D.className+" ").indexOf(" mousetrap ")>-1||W(D,X.target))return!1;if("composedPath"in M&&typeof M.composedPath=="function"){var Z=M.composedPath()[0];Z!==M.target&&(D=Z)}return D.tagName=="INPUT"||D.tagName=="SELECT"||D.tagName=="TEXTAREA"||D.isContentEditable},T.prototype.handleKey=function(){var M=this;return M._handleKey.apply(M,arguments)},T.addKeycodes=function(M){for(var D in M)M.hasOwnProperty(D)&&(x[D]=M[D]);A=null},T.init=function(){var M=T(g);for(var D in M)D.charAt(0)!=="_"&&(T[D]=function(X){return function(){return M[X].apply(M,arguments)}}(D))},T.init(),f.Mousetrap=T,u.exports&&(u.exports=T),s=function(){return T}.call(c,i,c,u),s!==b&&(u.exports=s)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,c,i){var s=i(36),f=i(37),g=i(32),b=i(39),x=i(66);u.exports=s?Object.defineProperties:function(P,N){g(P);for(var A=b(N),R=x(N),I=R.length,L=0,G;I>L;)f.f(P,G=R[L++],A[G]);return P}},function(u,c,i){var s=i(7),f=i(35),g=i(28),b=i(33),x=s.TypeError;u.exports=function(S,P){var N,A;if(P==="string"&&g(N=S.toString)&&!b(A=f(N,S))||g(N=S.valueOf)&&!b(A=f(N,S))||P!=="string"&&g(N=S.toString)&&!b(A=f(N,S)))return A;throw x("Can't convert object to primitive value")}},function(u,c,i){var s=i(7),f=i(28),g=i(92),b=s.WeakMap;u.exports=f(b)&&/native code/.test(g(b))},function(u,c,i){var s=i(136).IteratorPrototype,f=i(54),g=i(71),b=i(73),x=i(70),S=function(){return this};u.exports=function(P,N,A,R){var I=N+" Iterator";return P.prototype=f(s,{next:g(+!R,A)}),b(P,I,!1,!0),x[I]=S,P}},function(u,c,i){var s=i(7),f=i(28),g=s.String,b=s.TypeError;u.exports=function(x){if(typeof x=="object"||f(x))return x;throw b("Can't set "+g(x)+" as a prototype")}},function(u,c,i){var s=i(16),f=i(7),g=i(15),b=i(95),x=i(44),S=i(138),P=i(114),N=i(117),A=i(28),R=i(33),I=i(18),L=i(118),G=i(73),U=i(143);u.exports=function(Y,ue,ae){var ee=Y.indexOf("Map")!==-1,q=Y.indexOf("Weak")!==-1,se=ee?"set":"add",z=f[Y],W=z&&z.prototype,T=z,M={},D=function(Ee){var Oe=g(W[Ee]);x(W,Ee,Ee=="add"?function(ze){return Oe(this,ze===0?0:ze),this}:Ee=="delete"?function(Ae){return q&&!R(Ae)?!1:Oe(this,Ae===0?0:Ae)}:Ee=="get"?function(ze){return q&&!R(ze)?void 0:Oe(this,ze===0?0:ze)}:Ee=="has"?function(ze){return q&&!R(ze)?!1:Oe(this,ze===0?0:ze)}:function(ze,Ye){return Oe(this,ze===0?0:ze,Ye),this})},X=b(Y,!A(z)||!(q||W.forEach&&!I(function(){new z().entries().next()})));if(X)T=ae.getConstructor(ue,Y,ee,se),S.enable();else if(b(Y,!0)){var Z=new T,le=Z[se](q?{}:-0,1)!=Z,be=I(function(){Z.has(1)}),me=L(function(Ee){new z(Ee)}),ge=!q&&I(function(){for(var Ee=new z,Oe=5;Oe--;)Ee[se](Oe,Oe);return!Ee.has(-0)});me||(T=ue(function(Ee,Oe){N(Ee,W);var Ae=U(new z,Ee,T);return Oe!=null&&P(Oe,Ae[se],{that:Ae,AS_ENTRIES:ee}),Ae}),T.prototype=W,W.constructor=T),(be||ge)&&(D("delete"),D("has"),ee&&D("get")),(ge||le)&&D(se),q&&W.clear&&delete W.clear}return M[Y]=T,s({global:!0,forced:T!=z},M),G(T,Y),q||ae.setStrong(T,Y,ee),T}},function(u,c,i){var s=i(18),f=i(33),g=i(50),b=i(175),x=Object.isExtensible,S=s(function(){});u.exports=S||b?function(N){return!f(N)||b&&g(N)=="ArrayBuffer"?!1:x?x(N):!0}:x},function(u,c,i){var s=i(18);u.exports=s(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var s=i(37).f,f=i(54),g=i(144),b=i(62),x=i(117),S=i(114),P=i(111),N=i(145),A=i(36),R=i(138).fastKey,I=i(56),L=I.set,G=I.getterFor;u.exports={getConstructor:function(U,Y,ue,ae){var ee=U(function(T,M){x(T,q),L(T,{type:Y,index:f(null),first:void 0,last:void 0,size:0}),A||(T.size=0),M!=null&&S(M,T[ae],{that:T,AS_ENTRIES:ue})}),q=ee.prototype,se=G(Y),z=function(T,M,D){var X=se(T),Z=W(T,M),le,be;return Z?Z.value=D:(X.last=Z={index:be=R(M,!0),key:M,value:D,previous:le=X.last,next:void 0,removed:!1},X.first||(X.first=Z),le&&(le.next=Z),A?X.size++:T.size++,be!=="F"&&(X.index[be]=Z)),T},W=function(T,M){var D=se(T),X=R(M),Z;if(X!=="F")return D.index[X];for(Z=D.first;Z;Z=Z.next)if(Z.key==M)return Z};return g(q,{clear:function(){for(var M=this,D=se(M),X=D.index,Z=D.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=void 0),delete X[Z.index],Z=Z.next;D.first=D.last=void 0,A?D.size=0:M.size=0},delete:function(T){var M=this,D=se(M),X=W(M,T);if(X){var Z=X.next,le=X.previous;delete D.index[X.index],X.removed=!0,le&&(le.next=Z),Z&&(Z.previous=le),D.first==X&&(D.first=Z),D.last==X&&(D.last=le),A?D.size--:M.size--}return!!X},forEach:function(M){for(var D=se(this),X=b(M,arguments.length>1?arguments[1]:void 0),Z;Z=Z?Z.next:D.first;)for(X(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(M){return!!W(this,M)}}),g(q,ue?{get:function(M){var D=W(this,M);return D&&D.value},set:function(M,D){return z(this,M===0?0:M,D)}}:{add:function(M){return z(this,M=M===0?0:M,M)}}),A&&s(q,"size",{get:function(){return se(this).size}}),ee},setStrong:function(U,Y,ue){var ae=Y+" Iterator",ee=G(Y),q=G(ae);P(U,Y,function(se,z){L(this,{type:ae,target:se,state:ee(se),kind:z,last:void 0})},function(){for(var se=q(this),z=se.kind,W=se.last;W&&W.removed;)W=W.previous;return!se.target||!(se.last=W=W?W.next:se.state.first)?(se.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:W.key,done:!1}:z=="values"?{value:W.value,done:!1}:{value:[W.key,W.value],done:!1}},ue?"entries":"values",!ue,!0),N(Y)}}},function(u,c,i){var s=i(116),f=i(98);u.exports=s?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var s=i(74).forEach,f=i(120),g=f("forEach");u.exports=g?[].forEach:function(x){return s(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var s=i(7),f=i(99),g=i(100),b=i(33),x=i(27),S=x("species"),P=s.Array;u.exports=function(N){var A;return f(N)&&(A=N.constructor,g(A)&&(A===P||f(A.prototype))?A=void 0:b(A)&&(A=A[S],A===null&&(A=void 0))),A===void 0?P:A}},function(u,c,i){var s=i(7);u.exports=s},function(u,c,i){var s=i(7),f=i(62),g=i(35),b=i(38),x=i(183),S=i(140),P=i(100),N=i(43),A=i(61),R=i(141),I=i(115),L=s.Array;u.exports=function(U){var Y=b(U),ue=P(this),ae=arguments.length,ee=ae>1?arguments[1]:void 0,q=ee!==void 0;q&&(ee=f(ee,ae>2?arguments[2]:void 0));var se=I(Y),z=0,W,T,M,D,X,Z;if(se&&!(this==L&&S(se)))for(D=R(Y,se),X=D.next,T=ue?new this:[];!(M=g(X,D)).done;z++)Z=q?x(D,ee,[M.value,z],!0):M.value,A(T,z,Z);else for(W=N(Y),T=ue?new this(W):L(W);W>z;z++)Z=q?ee(Y[z],z):Y[z],A(T,z,Z);return T.length=z,T}},function(u,c,i){var s=i(32),f=i(142);u.exports=function(g,b,x,S){try{return S?b(s(x)[0],x[1]):b(x)}catch(P){f(g,"throw",P)}}},function(u,c,i){var s=i(32);u.exports=function(){var f=s(this),g="";return f.global&&(g+="g"),f.ignoreCase&&(g+="i"),f.multiline&&(g+="m"),f.dotAll&&(g+="s"),f.unicode&&(g+="u"),f.sticky&&(g+="y"),g}},function(u,c,i){var s=i(18),f=i(7),g=f.RegExp;u.exports=s(function(){var b=g(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var s=i(18),f=i(7),g=f.RegExp;u.exports=s(function(){var b=g("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var s=i(16),f=i(15),g=i(55),b=i(38),x=i(43),S=i(40),P=i(18),N=i(188),A=i(120),R=i(189),I=i(190),L=i(65),G=i(191),U=[],Y=f(U.sort),ue=f(U.push),ae=P(function(){U.sort(void 0)}),ee=P(function(){U.sort(null)}),q=A("sort"),se=!P(function(){if(L)return L<70;if(!(R&&R>3)){if(I)return!0;if(G)return G<603;var T="",M,D,X,Z;for(M=65;M<76;M++){switch(D=String.fromCharCode(M),M){case 66:case 69:case 70:case 72:X=3;break;case 68:case 71:X=4;break;default:X=2}for(Z=0;Z<47;Z++)U.push({k:D+Z,v:X})}for(U.sort(function(le,be){return be.v-le.v}),Z=0;Z<U.length;Z++)D=U[Z].k.charAt(0),T.charAt(T.length-1)!==D&&(T+=D);return T!=="DGBEFHACIJK"}}),z=ae||!ee||!q||!se,W=function(T){return function(M,D){return D===void 0?-1:M===void 0?1:T!==void 0?+T(M,D)||0:S(M)>S(D)?1:-1}};s({target:"Array",proto:!0,forced:z},{sort:function(M){M!==void 0&&g(M);var D=b(this);if(se)return M===void 0?Y(D):Y(D,M);var X=[],Z=x(D),le,be;for(be=0;be<Z;be++)be in D&&ue(X,D[be]);for(N(X,W(M)),le=X.length,be=0;be<le;)D[be]=X[be++];for(;be<Z;)delete D[be++];return D}})},function(u,c,i){var s=i(113),f=Math.floor,g=function(S,P){var N=S.length,A=f(N/2);return N<8?b(S,P):x(S,g(s(S,0,A),P),g(s(S,A),P),P)},b=function(S,P){for(var N=S.length,A=1,R,I;A<N;){for(I=A,R=S[A];I&&P(S[I-1],R)>0;)S[I]=S[--I];I!==A++&&(S[I]=R)}return S},x=function(S,P,N,A){for(var R=P.length,I=N.length,L=0,G=0;L<R||G<I;)S[L+G]=L<R&&G<I?A(P[L],N[G])<=0?P[L++]:N[G++]:L<R?P[L++]:N[G++];return S};u.exports=g},function(u,c,i){var s=i(53),f=s.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(53);u.exports=/MSIE|Trident/.test(s)},function(u,c,i){var s=i(53),f=s.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var s=i(16),f=i(74).find,g=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),s({target:"Array",proto:!0,forced:x},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),g(b)},function(u,c,i){var s=i(7),f=i(154),g=s.TypeError;u.exports=function(b){if(f(b))throw g("The method doesn't accept regular expressions");return b}},function(u,c,i){var s=i(27),f=s("match");u.exports=function(g){var b=/./;try{"/./"[g](b)}catch{try{return b[f]=!1,"/./"[g](b)}catch{}}return!1}},function(u,c,i){var s=i(94).PROPER,f=i(18),g=i(160),b="\u200B\x85\u180E";u.exports=function(x){return f(function(){return!!g[x]()||b[x]()!==b||s&&g[x].name!==x})}},function(u,c,i){var s=i(15);u.exports=s(1 .valueOf)},function(u,c,i){var s=i(15),f=i(38),g=Math.floor,b=s("".charAt),x=s("".replace),S=s("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,N=/\$([$&'`]|\d{1,2})/g;u.exports=function(A,R,I,L,G,U){var Y=I+A.length,ue=L.length,ae=N;return G!==void 0&&(G=f(G),ae=P),x(U,ae,function(ee,q){var se;switch(b(q,0)){case"$":return"$";case"&":return A;case"`":return S(R,0,I);case"'":return S(R,Y);case"<":se=G[S(q,1,-1)];break;default:var z=+q;if(z===0)return ee;if(z>ue){var W=g(z/10);return W===0?ee:W<=ue?L[W-1]===void 0?b(q,1):L[W-1]+b(q,1):ee}se=L[z-1]}return se===void 0?"":se})}},function(u,c,i){var s=i(36),f=i(15),g=i(35),b=i(18),x=i(66),S=i(112),P=i(93),N=i(38),A=i(81),R=Object.assign,I=Object.defineProperty,L=f([].concat);u.exports=!R||b(function(){if(s&&R({b:1},R(I({},"a",{enumerable:!0,get:function(){I(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var G={},U={},Y=Symbol(),ue="abcdefghijklmnopqrst";return G[Y]=7,ue.split("").forEach(function(ae){U[ae]=ae}),R({},G)[Y]!=7||x(R({},U)).join("")!=ue})?function(U,Y){for(var ue=N(U),ae=arguments.length,ee=1,q=S.f,se=P.f;ae>ee;)for(var z=A(arguments[ee++]),W=q?L(x(z),q(z)):x(z),T=W.length,M=0,D;T>M;)D=W[M++],(!s||g(se,z,D))&&(ue[D]=z[D]);return ue}:R},function(u,c,i){var s=i(7),f=i(15),g=i(55),b=i(33),x=i(34),S=i(101),P=s.Function,N=f([].concat),A=f([].join),R={},I=function(L,G,U){if(!x(R,G)){for(var Y=[],ue=0;ue<G;ue++)Y[ue]="a["+ue+"]";R[G]=P("C,a","return new C("+A(Y,",")+")")}return R[G](L,U)};u.exports=P.bind||function(G){var U=g(this),Y=U.prototype,ue=S(arguments,1),ae=function(){var q=N(ue,S(arguments));return this instanceof ae?I(U,q.length,q):U.apply(G,q)};return b(Y)&&(ae.prototype=Y),ae}},function(u,c,i){var s=i(34);u.exports=function(f){return f!==void 0&&(s(f,"value")||s(f,"writable"))}},function(u,c,i){var s=i(15),f=i(45),g=i(40),b=/"/g,x=s("".replace);u.exports=function(S,P,N,A){var R=g(f(S)),I="<"+P;return N!==""&&(I+=" "+N+'="'+x(g(A),b,"&quot;")+'"'),I+">"+R+"</"+P+">"}},function(u,c,i){var s=i(18);u.exports=function(f){return s(function(){var g=""[f]('"');return g!==g.toLowerCase()||g.split('"').length>3})}},function(u,c,i){var s=i(16),f=Math.hypot,g=Math.abs,b=Math.sqrt,x=!!f&&f(1/0,NaN)!==1/0;s({target:"Math",stat:!0,forced:x},{hypot:function(P,N){for(var A=0,R=0,I=arguments.length,L=0,G,U;R<I;)G=g(arguments[R++]),L<G?(U=L/G,A=A*U*U+1,L=G):G>0?(U=G/L,A+=U*U):A+=G;return L===1/0?1/0:L*b(A)}})},function(u,c,i){var s=i(16),f=i(64),g=i(7),b=i(46),x=i(35),S=i(205),P=i(44),N=i(144),A=i(97),R=i(73),I=i(145),L=i(55),G=i(28),U=i(33),Y=i(117),ue=i(92),ae=i(114),ee=i(118),q=i(156),se=i(162).set,z=i(206),W=i(209),T=i(210),M=i(164),D=i(211),X=i(56),Z=i(95),le=i(27),be=i(212),me=i(126),ge=i(65),Ee=le("species"),Oe="Promise",Ae=X.getterFor(Oe),ze=X.set,Ye=X.getterFor(Oe),Re=S&&S.prototype,Se=S,Ie=Re,_e=g.TypeError,_=g.document,F=g.process,V=M.f,fe=V,ve=!!(_&&_.createEvent&&g.dispatchEvent),de=G(g.PromiseRejectionEvent),Be="unhandledrejection",Je="rejectionhandled",Xe=0,We=1,ye=2,it=1,qe=2,Fe=!1,Qe,xt,lt,mt,ne=Z(Oe,function(){var je=ue(Se),Ve=je!==String(Se);if(!Ve&&ge===66||f&&!Ie.finally)return!0;if(ge>=51&&/native code/.test(je))return!1;var nt=new Se(function(k){k(1)}),tt=function(k){k(function(){},function(){})},st=nt.constructor={};return st[Ee]=tt,Fe=nt.then(function(){})instanceof tt,Fe?!Ve&&be&&!de:!0}),Ct=ne||!ee(function(je){Se.all(je).catch(function(){})}),Pt=function(je){var Ve;return U(je)&&G(Ve=je.then)?Ve:!1},bt=function(je,Ve){if(!je.notified){je.notified=!0;var nt=je.reactions;z(function(){for(var tt=je.value,st=je.state==We,k=0;nt.length>k;){var J=nt[k++],te=st?J.ok:J.fail,re=J.resolve,we=J.reject,De=J.domain,Ue,vt,Jt;try{te?(st||(je.rejection===qe&&xr(je),je.rejection=it),te===!0?Ue=tt:(De&&De.enter(),Ue=te(tt),De&&(De.exit(),Jt=!0)),Ue===J.promise?we(_e("Promise-chain cycle")):(vt=Pt(Ue))?x(vt,Ue,re,we):re(Ue)):we(tt)}catch(Qt){De&&!Jt&&De.exit(),we(Qt)}}je.reactions=[],je.notified=!1,Ve&&!je.rejection&&pr(je)})}},Wt=function(je,Ve,nt){var tt,st;ve?(tt=_.createEvent("Event"),tt.promise=Ve,tt.reason=nt,tt.initEvent(je,!1,!0),g.dispatchEvent(tt)):tt={promise:Ve,reason:nt},!de&&(st=g["on"+je])?st(tt):je===Be&&T("Unhandled promise rejection",nt)},pr=function(je){x(se,g,function(){var Ve=je.facade,nt=je.value,tt=Zt(je),st;if(tt&&(st=D(function(){me?F.emit("unhandledRejection",nt,Ve):Wt(Be,Ve,nt)}),je.rejection=me||Zt(je)?qe:it,st.error))throw st.value})},Zt=function(je){return je.rejection!==it&&!je.parent},xr=function(je){x(se,g,function(){var Ve=je.facade;me?F.emit("rejectionHandled",Ve):Wt(Je,Ve,je.value)})},rt=function(je,Ve,nt){return function(tt){je(Ve,tt,nt)}},Tt=function(je,Ve,nt){je.done||(je.done=!0,nt&&(je=nt),je.value=Ve,je.state=ye,bt(je,!0))},nr=function(je,Ve,nt){if(!je.done){je.done=!0,nt&&(je=nt);try{if(je.facade===Ve)throw _e("Promise can't be resolved itself");var tt=Pt(Ve);tt?z(function(){var st={done:!1};try{x(tt,Ve,rt(nr,st,je),rt(Tt,st,je))}catch(k){Tt(st,k,je)}}):(je.value=Ve,je.state=We,bt(je,!1))}catch(st){Tt({done:!1},st,je)}}};if(ne&&(Se=function(Ve){Y(this,Ie),L(Ve),x(Qe,this);var nt=Ae(this);try{Ve(rt(nr,nt),rt(Tt,nt))}catch(tt){Tt(nt,tt)}},Ie=Se.prototype,Qe=function(Ve){ze(this,{type:Oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Xe,value:void 0})},Qe.prototype=N(Ie,{then:function(Ve,nt){var tt=Ye(this),st=tt.reactions,k=V(q(this,Se));return k.ok=G(Ve)?Ve:!0,k.fail=G(nt)&&nt,k.domain=me?F.domain:void 0,tt.parent=!0,st[st.length]=k,tt.state!=Xe&&bt(tt,!1),k.promise},catch:function(je){return this.then(void 0,je)}}),xt=function(){var je=new Qe,Ve=Ae(je);this.promise=je,this.resolve=rt(nr,Ve),this.reject=rt(Tt,Ve)},M.f=V=function(je){return je===Se||je===lt?new xt(je):fe(je)},!f&&G(S)&&Re!==Object.prototype)){mt=Re.then,Fe||(P(Re,"then",function(Ve,nt){var tt=this;return new Se(function(st,k){x(mt,tt,st,k)}).then(Ve,nt)},{unsafe:!0}),P(Re,"catch",Ie.catch,{unsafe:!0}));try{delete Re.constructor}catch{}A&&A(Re,Ie)}s({global:!0,wrap:!0,forced:ne},{Promise:Se}),R(Se,Oe,!1,!0),I(Oe),lt=b(Oe),s({target:Oe,stat:!0,forced:ne},{reject:function(Ve){var nt=V(this);return x(nt.reject,void 0,Ve),nt.promise}}),s({target:Oe,stat:!0,forced:f||ne},{resolve:function(Ve){return W(f&&this===lt?Se:this,Ve)}}),s({target:Oe,stat:!0,forced:Ct},{all:function(Ve){var nt=this,tt=V(nt),st=tt.resolve,k=tt.reject,J=D(function(){var te=L(nt.resolve),re=[],we=0,De=1;ae(Ve,function(Ue){var vt=we++,Jt=!1;De++,x(te,nt,Ue).then(function(Qt){Jt||(Jt=!0,re[vt]=Qt,--De||st(re))},k)}),--De||st(re)});return J.error&&k(J.value),tt.promise},race:function(Ve){var nt=this,tt=V(nt),st=tt.reject,k=D(function(){var J=L(nt.resolve);ae(Ve,function(te){x(J,nt,te).then(tt.resolve,st)})});return k.error&&st(k.value),tt.promise}})},function(u,c,i){var s=i(7);u.exports=s.Promise},function(u,c,i){var s=i(7),f=i(62),g=i(51).f,b=i(162).set,x=i(163),S=i(207),P=i(208),N=i(126),A=s.MutationObserver||s.WebKitMutationObserver,R=s.document,I=s.process,L=s.Promise,G=g(s,"queueMicrotask"),U=G&&G.value,Y,ue,ae,ee,q,se,z,W;U||(Y=function(){var T,M;for(N&&(T=I.domain)&&T.exit();ue;){M=ue.fn,ue=ue.next;try{M()}catch(D){throw ue?ee():ae=void 0,D}}ae=void 0,T&&T.enter()},!x&&!N&&!P&&A&&R?(q=!0,se=R.createTextNode(""),new A(Y).observe(se,{characterData:!0}),ee=function(){se.data=q=!q}):!S&&L&&L.resolve?(z=L.resolve(void 0),z.constructor=L,W=f(z.then,z),ee=function(){W(Y)}):N?ee=function(){I.nextTick(Y)}:(b=f(b,s),ee=function(){b(Y)})),u.exports=U||function(T){var M={fn:T,next:void 0};ae&&(ae.next=M),ue||(ue=M,ee()),ae=M}},function(u,c,i){var s=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(s)&&f.Pebble!==void 0},function(u,c,i){var s=i(53);u.exports=/web0s(?!.*chrome)/i.test(s)},function(u,c,i){var s=i(32),f=i(33),g=i(164);u.exports=function(b,x){if(s(b),f(x)&&x.constructor===b)return x;var S=g.f(b),P=S.resolve;return P(x),S.promise}},function(u,c,i){var s=i(7);u.exports=function(f,g){var b=s.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,g))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var s=i(36),f=i(15),g=i(66),b=i(39),x=i(93).f,S=f(x),P=f([].push),N=function(A){return function(R){for(var I=b(R),L=g(I),G=L.length,U=0,Y=[],ue;G>U;)ue=L[U++],(!s||S(I,ue))&&P(Y,A?[ue,I[ue]]:I[ue]);return Y}};u.exports={entries:N(!0),values:N(!1)}},function(u,c,i){var s=i(38),f=i(67),g=i(43);u.exports=function(x){for(var S=s(this),P=g(S),N=arguments.length,A=f(N>1?arguments[1]:void 0,P),R=N>2?arguments[2]:void 0,I=R===void 0?P:f(R,P);I>A;)S[A++]=x;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return Gr}),i.d(c,"LogicFlow",function(){return ed}),i.d(c,"h",function(){return ne.g}),i.d(c,"LogicFlowUtil",function(){return s}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return hc}),i.d(c,"CircleNode",function(){return gc}),i.d(c,"PolygonNode",function(){return Oc}),i.d(c,"DiamondNode",function(){return Sc}),i.d(c,"EllipseNode",function(){return Mc}),i.d(c,"TextNode",function(){return Ac}),i.d(c,"HtmlNode",function(){return jc}),i.d(c,"BaseEdge",function(){return Pi}),i.d(c,"LineEdge",function(){return Hc}),i.d(c,"PolylineEdge",function(){return kc}),i.d(c,"BezierEdge",function(){return Uc}),i.d(c,"Arrow",function(){return hj}),i.d(c,"BaseEdgeModel",function(){return pf}),i.d(c,"BezierEdgeModel",function(){return kf}),i.d(c,"LineEdgeModel",function(){return yf}),i.d(c,"PolylineEdgeModel",function(){return bf}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Xf}),i.d(c,"DiamondNodeModel",function(){return Vf}),i.d(c,"EllipseNodeModel",function(){return Zf}),i.d(c,"PolygonNodeModel",function(){return qf}),i.d(c,"RectNodeModel",function(){return rc}),i.d(c,"TextNodeModel",function(){return oc}),i.d(c,"HtmlNodeModel",function(){return ac}),i.d(c,"EditConfigModel",function(){return up}),i.d(c,"GraphModel",function(){return nv}),i.d(c,"SnaplineModel",function(){return ng}),i.d(c,"Keyboard",function(){return dm}),i.d(c,"get",function(){return zv}),i.d(c,"defaults",function(){return Fv});var s={};i.r(s),i.d(s,"createUuid",function(){return qn}),i.d(s,"refreshGraphId",function(){return EP}),i.d(s,"createDrag",function(){return Tf}),i.d(s,"StepDrag",function(){return eo});var f=i(0),g=i(10);if(!g.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function S(e){e()}function P(e){e||(e=S),Object(f.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function N(e){return Object(f.t)(e)}function A(e){var r={cleanAt:Date.now()+R,reaction:e};return r}var R=1e4,I=1e4,L=new Set,G;function U(){G===void 0&&(G=setTimeout(ae,I))}function Y(e){L.add(e),U()}function ue(e){L.delete(e)}function ae(){G=void 0;var e=Date.now();L.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,L.delete(r))}),L.size>0&&U()}var ee=!1,q=[];function se(e){return function(){ee?q.push(e):e()}}function z(e){ee=!0,q=[];try{var r=e();ee=!1;var t=q.length>0?q:void 0;return g.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{ee=!1}}var W={};function T(e){return"observer"+e}function M(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=W);var n=t.useForceUpdate||b.d,o=n(),a=se(o),l=g.d.useRef(null);if(!l.current){var p=new f.c(T(r),function(){y.mounted?a():(p.dispose(),l.current=null)}),y=A(p);l.current=y,Y(l)}var E=l.current.reaction;return g.d.useDebugValue(E,N),g.d.useEffect(function(){return ue(l),l.current?l.current.mounted=!0:(l.current={reaction:new f.c(T(r),function(){a()}),cleanAt:1/0},a()),function(){l.current.reaction.dispose(),l.current=null}},[]),z(function(){var w,C;if(E.track(function(){try{w=e()}catch(B){C=B}}),C)throw C;return w})}var D=function(){return D=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},D.apply(this,arguments)};function X(e,r){var t=D({forwardRef:!1},r),n=e.displayName||e.name,o=function(l,p){return M(function(){return e(l,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(g.f)(Object(g.e)(o)):a=Object(g.f)(o),le(e,a),a.displayName=n,a}var Z={$$typeof:!0,render:!0,compare:!0,type:!0};function le(e,r){Object.keys(e).forEach(function(t){Z[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function be(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:M(n)}be.propTypes={children:me,render:me},be.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",l=typeof e[r]=="function",p=typeof e[a]=="function";return l&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):l||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(g.g);var ge=0;function Ee(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+ge+")";return ge++,r}var Oe={};function Ae(e){return Oe[e]||(Oe[e]=Ee(e)),Oe[e]}function ze(e,r){if(Ye(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ye(e[t[o]],r[t[o]]))return!1;return!0}function Ye(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Re(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Se=Ae("patchMixins"),Ie=Ae("patchedDefinition");function _e(e,r){var t=e[Se]=e[Se]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function _(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var l;return e!=null&&(l=e.apply(this,o)),l}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function F(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];_.call.apply(_,[this,e,r].concat(a))};return t}function V(e,r,t){var n=_e(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Ie])){var a=e[r],l=fe(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,l)}}function fe(e,r,t,n,o){var a,l=F(o,n);return a={},a[Ie]=!0,a.get=function(){return l},a.set=function(y){if(this===e)l=F(y,n);else{var E=fe(this,r,t,n,y);Object.defineProperty(this,r,E)}},a.configurable=!0,a.enumerable=t,a}var ve=f.a||"$mobx",de=Ae("isMobXReactObserver"),Be=Ae("isUnmounted"),Je=Ae("skipRender"),Xe=Ae("isForcingUpdate");function We(e){var r=e.prototype;if(e[de]){var t=ye(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[de]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==g.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=qe;else if(r.shouldComponentUpdate!==qe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Fe(r,"props"),Fe(r,"state");var n=r.render;return r.render=function(){return it.call(this,n)},V(r,"componentWillUnmount",function(){var o;if((o=this.render[ve])===null||o===void 0||o.dispose(),this[Be]=!0,!this.render[ve]){var a=ye(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function it(e){var r=this;Re(this,Je,!1),Re(this,Xe,!1);var t=ye(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[Be]!==!0)){var p=!0;try{Re(r,Xe,!0),r[Je]||g.a.prototype.forceUpdate.call(r),p=!1}finally{Re(r,Xe,!1),p&&a.dispose()}}});a.reactComponent=this,l[ve]=a,this.render=l;function l(){o=!1;var p=void 0,y=void 0;if(a.track(function(){try{y=Object(f.d)(!1,n)}catch(E){p=E}}),p)throw p;return y}return l.call(this)}function qe(e,r){return this.state!==r?!0:!ze(this.props,e)}function Fe(e,r){var t=Ae("reactProp_"+r+"_valueHolder"),n=Ae("reactProp_"+r+"_atomHolder");function o(){return this[n]||Re(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var l=!1;return f.f&&f.e&&(l=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(l),this[t]},set:function(l){!this[Xe]&&!ze(this[t],l)?(Re(this,t,l),Re(this,Je,!0),o.call(this).reportChanged(),Re(this,Je,!1)):Re(this,t,l)}})}var Qe=typeof Symbol=="function"&&Symbol.for,xt=Qe?Symbol.for("react.forward_ref"):typeof g.e=="function"&&Object(g.e)(function(e){return null}).$$typeof,lt=Qe?Symbol.for("react.memo"):typeof g.f=="function"&&Object(g.f)(function(e){return null}).$$typeof;function mt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),lt&&e.$$typeof===lt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(xt&&e.$$typeof===xt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(g.e)(function(){var n=arguments;return Object(g.c)(be,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(g.a,e)?X(e):We(e)}if(!g.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var ne=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var Pt=Ct;function bt(){this.__data__=[],this.size=0}var Wt=bt;function pr(e,r){return e===r||e!==e&&r!==r}var Zt=pr;function xr(e,r){for(var t=e.length;t--;)if(Zt(e[t][0],r))return t;return-1}var rt=xr,Tt=Array.prototype,nr=Tt.splice;function je(e){var r=this.__data__,t=rt(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():nr.call(r,t,1),--this.size,!0}var Ve=je;function nt(e){var r=this.__data__,t=rt(r,e);return t<0?void 0:r[t][1]}var tt=nt;function st(e){return rt(this.__data__,e)>-1}var k=st;function J(e,r){var t=this.__data__,n=rt(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var te=J;function re(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}re.prototype.clear=Wt,re.prototype.delete=Ve,re.prototype.get=tt,re.prototype.has=k,re.prototype.set=te;var we=re;function De(){this.__data__=new we,this.size=0}var Ue=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Jt=vt;function Qt(e){return this.__data__.get(e)}var Gn=Qt;function kr(e){return this.__data__.has(e)}var Li=kr,Sr=i(31),zi=Sr.a.Symbol,sr=zi,mn=Object.prototype,kn=mn.hasOwnProperty,ln=mn.toString,$n=sr?sr.toStringTag:void 0;function bn(e){var r=kn.call(e,$n),t=e[$n];try{e[$n]=void 0;var n=!0}catch{}var o=ln.call(e);return n&&(r?e[$n]=t:delete e[$n]),o}var On=bn,fo=Object.prototype,ql=fo.toString;function co(e){return ql.call(e)}var po=co,Fi="[object Null]",ke="[object Undefined]",Hi=sr?sr.toStringTag:void 0;function es(e){return e==null?e===void 0?ke:Fi:Hi&&Hi in Object(e)?On(e):po(e)}var $r=es;function Gi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Mt=Gi,hr="[object AsyncFunction]",ki="[object Function]",ts="[object GeneratorFunction]",rs="[object Proxy]";function ns(e){if(!Mt(e))return!1;var r=$r(e);return r==ki||r==ts||r==hr||r==rs}var ho=ns,$i=Sr.a["__core-js_shared__"],sn=$i,qo=function(){var e=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ei(e){return!!qo&&qo in e}var Ui=ei,os=Function.prototype,vo=os.toString;function is(e){if(e!=null){try{return vo.call(e)}catch{}try{return e+""}catch{}}return""}var Rt=is,pd=/[\\^$.*+?()[\]{}|]/g,hd=/^\[object .+?Constructor\]$/,vd=Function.prototype,Xi=Object.prototype,as=vd.toString,Yi=Xi.hasOwnProperty,us=RegExp("^"+as.call(Yi).replace(pd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ls(e){if(!Mt(e)||Ui(e))return!1;var r=ho(e)?us:hd;return r.test(Rt(e))}var Ur=ls;function ss(e,r){return e==null?void 0:e[r]}var fs=ss;function ti(e,r){var t=fs(e,r);return Ur(t)?t:void 0}var Dr=ti,cs=Dr(Sr.a,"Map"),En=cs,ds=Dr(Object,"create"),Un=ds;function ps(){this.__data__=Un?Un(null):{},this.size=0}var ri=ps;function Wi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var hs=Wi,ni="__lodash_hash_undefined__",Vi=Object.prototype,Ki=Vi.hasOwnProperty;function Zi(e){var r=this.__data__;if(Un){var t=r[e];return t===ni?void 0:t}return Ki.call(r,e)?r[e]:void 0}var Ji=Zi,vs=Object.prototype,Qi=vs.hasOwnProperty;function ys(e){var r=this.__data__;return Un?r[e]!==void 0:Qi.call(r,e)}var qi=ys,ea="__lodash_hash_undefined__";function gs(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Un&&r===void 0?ea:r,this}var ms=gs;function xn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}xn.prototype.clear=ri,xn.prototype.delete=hs,xn.prototype.get=Ji,xn.prototype.has=qi,xn.prototype.set=ms;var Sn=xn;function Pn(){this.size=0,this.__data__={hash:new Sn,map:new(En||we),string:new Sn}}var bs=Pn;function Os(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ta=Os;function Es(e,r){var t=e.__data__;return ta(r)?t[typeof r=="string"?"string":"hash"]:t.map}var yo=Es;function xs(e){var r=yo(this,e).delete(e);return this.size-=r?1:0,r}var Ss=xs;function Tn(e){return yo(this,e).get(e)}var Xr=Tn;function Ps(e){return yo(this,e).has(e)}var Ts=Ps;function Ms(e,r){var t=yo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Pr=Ms;function Mn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Mn.prototype.clear=bs,Mn.prototype.delete=Ss,Mn.prototype.get=Xr,Mn.prototype.has=Ts,Mn.prototype.set=Pr;var Xn=Mn,ws=200;function go(e,r){var t=this.__data__;if(t instanceof we){var n=t.__data__;if(!En||n.length<ws-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Xn(n)}return t.set(e,r),this.size=t.size,this}var mo=go;function wn(e){var r=this.__data__=new we(e);this.size=r.size}wn.prototype.clear=Ue,wn.prototype.delete=Jt,wn.prototype.get=Gn,wn.prototype.has=Li,wn.prototype.set=mo;var An=wn,Tr="__lodash_hash_undefined__";function Yn(e){return this.__data__.set(e,Tr),this}var Mr=Yn;function vr(e){return this.__data__.has(e)}var Wn=vr;function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Xn;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=Mr,qt.prototype.has=Wn;var As=qt;function Ns(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Ds=Ns;function ra(e,r){return e.has(r)}var jr=ra,js=1,Cr=2;function na(e,r,t,n,o,a){var l=t&js,p=e.length,y=r.length;if(p!=y&&!(l&&y>p))return!1;var E=a.get(e),w=a.get(r);if(E&&w)return E==r&&w==e;var C=-1,B=!0,$=t&Cr?new As:void 0;for(a.set(e,r),a.set(r,e);++C<p;){var Q=e[C],oe=r[C];if(n)var ie=l?n(oe,Q,C,r,e,a):n(Q,oe,C,e,r,a);if(ie!==void 0){if(ie)continue;B=!1;break}if($){if(!Ds(r,function(ce,Ne){if(!jr($,Ne)&&(Q===ce||o(Q,ce,t,n,a)))return $.push(Ne)})){B=!1;break}}else if(!(Q===oe||o(Q,oe,t,n,a))){B=!1;break}}return a.delete(e),a.delete(r),B}var oa=na,oi=Sr.a.Uint8Array,$t=oi;function ia(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Cs=ia;function aa(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var fr=aa,ua=1,ii=2,la="[object Boolean]",sa="[object Date]",Rs="[object Error]",fa="[object Map]",Is="[object Number]",_s="[object RegExp]",yr="[object Set]",wr="[object String]",Vn="[object Symbol]",Bs="[object ArrayBuffer]",ca="[object DataView]",bo=sr?sr.prototype:void 0,Kn=bo?bo.valueOf:void 0;function da(e,r,t,n,o,a,l){switch(t){case ca:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Bs:return!(e.byteLength!=r.byteLength||!a(new $t(e),new $t(r)));case la:case sa:case Is:return Zt(+e,+r);case Rs:return e.name==r.name&&e.message==r.message;case _s:case wr:return e==r+"";case fa:var p=Cs;case yr:var y=n&ua;if(p||(p=fr),e.size!=r.size&&!y)return!1;var E=l.get(e);if(E)return E==r;n|=ii,l.set(e,r);var w=oa(p(e),p(r),n,o,a,l);return l.delete(e),w;case Vn:if(Kn)return Kn.call(e)==Kn.call(r)}return!1}var Ls=da;function Oo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ai=Oo,pa=Array.isArray,d=pa;function h(e,r,t){var n=r(e);return d(e)?n:ai(n,t(e))}var O=h;function j(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var l=e[t];r(l,t,e)&&(a[o++]=l)}return a}var H=j;function K(){return[]}var pe=K,Me=Object.prototype,$e=Me.propertyIsEnumerable,ft=Object.getOwnPropertySymbols,ct=ft?function(e){return e==null?[]:(e=Object(e),H(ft(e),function(r){return $e.call(e,r)}))}:pe,Ot=ct;function St(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var _t=St;function Ut(e){return e!=null&&typeof e=="object"}var wt=Ut,gr="[object Arguments]";function Nn(e){return wt(e)&&$r(e)==gr}var ha=Nn,va=Object.prototype,ya=va.hasOwnProperty,ga=va.propertyIsEnumerable,ui=ha(function(){return arguments}())?ha:function(e){return wt(e)&&ya.call(e,"callee")&&!ga.call(e,"callee")},Dn=ui,fn=i(48),Nb=9007199254740991,Db=/^(?:0|[1-9]\d*)$/;function jb(e,r){var t=typeof e;return r=r==null?Nb:r,!!r&&(t=="number"||t!="symbol"&&Db.test(e))&&e>-1&&e%1==0&&e<r}var ma=jb,Cb=9007199254740991;function Rb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cb}var zs=Rb,Ib="[object Arguments]",_b="[object Array]",Bb="[object Boolean]",Lb="[object Date]",zb="[object Error]",Fb="[object Function]",Hb="[object Map]",Gb="[object Number]",kb="[object Object]",$b="[object RegExp]",Ub="[object Set]",Xb="[object String]",Yb="[object WeakMap]",Wb="[object ArrayBuffer]",Vb="[object DataView]",Kb="[object Float32Array]",Zb="[object Float64Array]",Jb="[object Int8Array]",Qb="[object Int16Array]",qb="[object Int32Array]",eO="[object Uint8Array]",tO="[object Uint8ClampedArray]",rO="[object Uint16Array]",nO="[object Uint32Array]",Nt={};Nt[Kb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=Nt[nO]=!0,Nt[Ib]=Nt[_b]=Nt[Wb]=Nt[Bb]=Nt[Vb]=Nt[Lb]=Nt[zb]=Nt[Fb]=Nt[Hb]=Nt[Gb]=Nt[kb]=Nt[$b]=Nt[Ub]=Nt[Xb]=Nt[Yb]=!1;function oO(e){return wt(e)&&zs(e.length)&&!!Nt[$r(e)]}var iO=oO;function aO(e){return function(r){return e(r)}}var Fs=aO,Eo=i(49),yd=Eo.a&&Eo.a.isTypedArray,uO=yd?Fs(yd):iO,Hs=uO,lO=Object.prototype,sO=lO.hasOwnProperty;function fO(e,r){var t=d(e),n=!t&&Dn(e),o=!t&&!n&&Object(fn.a)(e),a=!t&&!n&&!o&&Hs(e),l=t||n||o||a,p=l?_t(e.length,String):[],y=p.length;for(var E in e)(r||sO.call(e,E))&&!(l&&(E=="length"||o&&(E=="offset"||E=="parent")||a&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||ma(E,y)))&&p.push(E);return p}var gd=fO,cO=Object.prototype;function dO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||cO;return e===t}var ba=dO;function pO(e,r){return function(t){return e(r(t))}}var md=pO,hO=md(Object.keys,Object),vO=hO,yO=Object.prototype,gO=yO.hasOwnProperty;function mO(e){if(!ba(e))return vO(e);var r=[];for(var t in Object(e))gO.call(e,t)&&t!="constructor"&&r.push(t);return r}var bO=mO;function OO(e){return e!=null&&zs(e.length)&&!ho(e)}var Zn=OO;function EO(e){return Zn(e)?gd(e):bO(e)}var xo=EO;function xO(e){return O(e,xo,Ot)}var Gs=xO,SO=1,PO=Object.prototype,TO=PO.hasOwnProperty;function MO(e,r,t,n,o,a){var l=t&SO,p=Gs(e),y=p.length,E=Gs(r),w=E.length;if(y!=w&&!l)return!1;for(var C=y;C--;){var B=p[C];if(!(l?B in r:TO.call(r,B)))return!1}var $=a.get(e),Q=a.get(r);if($&&Q)return $==r&&Q==e;var oe=!0;a.set(e,r),a.set(r,e);for(var ie=l;++C<y;){B=p[C];var ce=e[B],Ne=r[B];if(n)var xe=l?n(Ne,ce,B,r,e,a):n(ce,Ne,B,e,r,a);if(!(xe===void 0?ce===Ne||o(ce,Ne,t,n,a):xe)){oe=!1;break}ie||(ie=B=="constructor")}if(oe&&!ie){var Pe=e.constructor,He=r.constructor;Pe!=He&&"constructor"in e&&"constructor"in r&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof He=="function"&&He instanceof He)&&(oe=!1)}return a.delete(e),a.delete(r),oe}var wO=MO,AO=Dr(Sr.a,"DataView"),ks=AO,NO=Dr(Sr.a,"Promise"),$s=NO,DO=Dr(Sr.a,"Set"),Us=DO,jO=Dr(Sr.a,"WeakMap"),Xs=jO,bd="[object Map]",CO="[object Object]",Od="[object Promise]",Ed="[object Set]",xd="[object WeakMap]",Sd="[object DataView]",RO=Rt(ks),IO=Rt(En),_O=Rt($s),BO=Rt(Us),LO=Rt(Xs),Jn=$r;(ks&&Jn(new ks(new ArrayBuffer(1)))!=Sd||En&&Jn(new En)!=bd||$s&&Jn($s.resolve())!=Od||Us&&Jn(new Us)!=Ed||Xs&&Jn(new Xs)!=xd)&&(Jn=function(e){var r=$r(e),t=r==CO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case RO:return Sd;case IO:return bd;case _O:return Od;case BO:return Ed;case LO:return xd}return r});var li=Jn,zO=1,Pd="[object Arguments]",Td="[object Array]",Oa="[object Object]",FO=Object.prototype,Md=FO.hasOwnProperty;function HO(e,r,t,n,o,a){var l=d(e),p=d(r),y=l?Td:li(e),E=p?Td:li(r);y=y==Pd?Oa:y,E=E==Pd?Oa:E;var w=y==Oa,C=E==Oa,B=y==E;if(B&&Object(fn.a)(e)){if(!Object(fn.a)(r))return!1;l=!0,w=!1}if(B&&!w)return a||(a=new An),l||Hs(e)?oa(e,r,t,n,o,a):Ls(e,r,y,t,n,o,a);if(!(t&zO)){var $=w&&Md.call(e,"__wrapped__"),Q=C&&Md.call(r,"__wrapped__");if($||Q){var oe=$?e.value():e,ie=Q?r.value():r;return a||(a=new An),o(oe,ie,t,n,a)}}return B?(a||(a=new An),wO(e,r,t,n,o,a)):!1}var GO=HO;function wd(e,r,t,n,o){return e===r?!0:e==null||r==null||!wt(e)&&!wt(r)?e!==e&&r!==r:GO(e,r,t,n,wd,o)}var Ys=wd,kO=1,$O=2;function UO(e,r,t,n){var o=t.length,a=o,l=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var y=p[0],E=e[y],w=p[1];if(l&&p[2]){if(E===void 0&&!(y in e))return!1}else{var C=new An;if(n)var B=n(E,w,y,e,r,C);if(!(B===void 0?Ys(w,E,kO|$O,n,C):B))return!1}}return!0}var XO=UO;function YO(e){return e===e&&!Mt(e)}var Ad=YO;function WO(e){for(var r=xo(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Ad(o)]}return r}var VO=WO;function KO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Nd=KO;function ZO(e){var r=VO(e);return r.length==1&&r[0][2]?Nd(r[0][0],r[0][1]):function(t){return t===e||XO(t,e,r)}}var JO=ZO,QO="[object Symbol]";function qO(e){return typeof e=="symbol"||wt(e)&&$r(e)==QO}var Ea=qO,eE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tE=/^\w*$/;function rE(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ea(e)?!0:tE.test(e)||!eE.test(e)||r!=null&&e in Object(r)}var Ws=rE,nE="Expected a function";function Vs(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(nE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var l=e.apply(this,n);return t.cache=a.set(o,l)||a,l};return t.cache=new(Vs.Cache||Xn),t}Vs.Cache=Xn;var oE=Vs,iE=500;function aE(e){var r=oE(e,function(n){return t.size===iE&&t.clear(),n}),t=r.cache;return r}var uE=aE,lE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sE=/\\(\\)?/g,fE=uE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(lE,function(t,n,o,a){r.push(o?a.replace(sE,"$1"):n||t)}),r}),cE=fE,dE=1/0,Dd=sr?sr.prototype:void 0,jd=Dd?Dd.toString:void 0;function Cd(e){if(typeof e=="string")return e;if(d(e))return Pt(e,Cd)+"";if(Ea(e))return jd?jd.call(e):"";var r=e+"";return r=="0"&&1/e==-dE?"-0":r}var pE=Cd;function hE(e){return e==null?"":pE(e)}var vE=hE;function yE(e,r){return d(e)?e:Ws(e,r)?[e]:cE(vE(e))}var xa=yE,gE=1/0;function mE(e){if(typeof e=="string"||Ea(e))return e;var r=e+"";return r=="0"&&1/e==-gE?"-0":r}var si=mE;function bE(e,r){r=xa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[si(r[t++])];return t&&t==n?e:void 0}var Ks=bE;function OE(e,r,t){var n=e==null?void 0:Ks(e,r);return n===void 0?t:n}var Rd=OE;function EE(e,r){return e!=null&&r in Object(e)}var xE=EE;function SE(e,r,t){r=xa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var l=si(r[n]);if(!(a=e!=null&&t(e,l)))break;e=e[l]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&zs(o)&&ma(l,o)&&(d(e)||Dn(e)))}var PE=SE;function TE(e,r){return e!=null&&PE(e,r,xE)}var Id=TE,ME=1,wE=2;function AE(e,r){return Ws(e)&&Ad(r)?Nd(si(e),r):function(t){var n=Rd(t,e);return n===void 0&&n===r?Id(t,e):Ys(r,n,ME|wE)}}var NE=AE;function DE(e){return e}var Zs=DE;function jE(e){return function(r){return r==null?void 0:r[e]}}var CE=jE;function RE(e){return function(r){return Ks(r,e)}}var IE=RE;function _E(e){return Ws(e)?CE(si(e)):IE(e)}var BE=_E;function LE(e){return typeof e=="function"?e:e==null?Zs:typeof e=="object"?d(e)?NE(e[0],e[1]):JO(e):BE(e)}var zE=LE;function FE(e){return function(r,t,n){for(var o=-1,a=Object(r),l=n(r),p=l.length;p--;){var y=l[e?p:++o];if(t(a[y],y,a)===!1)break}return r}}var HE=FE,GE=HE(),_d=GE;function kE(e,r){return e&&_d(e,r,xo)}var $E=kE;function UE(e,r){return function(t,n){if(t==null)return t;if(!Zn(t))return e(t,n);for(var o=t.length,a=r?o:-1,l=Object(t);(r?a--:++a<o)&&n(l[a],a,l)!==!1;);return t}}var XE=UE,YE=XE($E),WE=YE;function VE(e,r){var t=-1,n=Zn(e)?Array(e.length):[];return WE(e,function(o,a,l){n[++t]=r(o,a,l)}),n}var KE=VE;function ZE(e,r){var t=d(e)?Pt:KE;return t(e,zE(r))}var Sa=ZE,JE=function(){try{var e=Dr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Pa=JE;function QE(e,r,t){r=="__proto__"&&Pa?Pa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Js=QE,qE=Object.prototype,ex=qE.hasOwnProperty;function tx(e,r,t){var n=e[r];(!(ex.call(e,r)&&Zt(n,t))||t===void 0&&!(r in e))&&Js(e,r,t)}var Ta=tx;function rx(e,r,t,n){var o=!t;t||(t={});for(var a=-1,l=r.length;++a<l;){var p=r[a],y=n?n(t[p],e[p],p,t,e):void 0;y===void 0&&(y=e[p]),o?Js(t,p,y):Ta(t,p,y)}return t}var So=rx;function nx(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var ox=nx,Bd=Math.max;function ix(e,r,t){return r=Bd(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Bd(n.length-r,0),l=Array(a);++o<a;)l[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(l),ox(e,this,p)}}var Ld=ix;function ax(e){return function(){return e}}var ux=ax,lx=Pa?function(e,r){return Pa(e,"toString",{configurable:!0,enumerable:!1,value:ux(r),writable:!0})}:Zs,sx=lx,fx=800,cx=16,dx=Date.now;function px(e){var r=0,t=0;return function(){var n=dx(),o=cx-(n-t);if(t=n,o>0){if(++r>=fx)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var hx=px,vx=hx(sx),zd=vx;function yx(e,r){return zd(Ld(e,r,Zs),e+"")}var gx=yx;function mx(e,r,t){if(!Mt(t))return!1;var n=typeof r;return(n=="number"?Zn(t)&&ma(r,t.length):n=="string"&&r in t)?Zt(t[r],e):!1}var bx=mx;function Ox(e){return gx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,l=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,l&&bx(t[0],t[1],l)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Fd=Ox,Ex=Object.prototype,xx=Ex.hasOwnProperty,Sx=Fd(function(e,r){if(ba(r)||Zn(r)){So(r,xo(r),e);return}for(var t in r)xx.call(r,t)&&Ta(e,t,r[t])}),or=Sx;function Px(e,r,t,n){if(!Mt(e))return e;r=xa(r,e);for(var o=-1,a=r.length,l=a-1,p=e;p!=null&&++o<a;){var y=si(r[o]),E=t;if(y==="__proto__"||y==="constructor"||y==="prototype")return e;if(o!=l){var w=p[y];E=n?n(w,y,p):void 0,E===void 0&&(E=Mt(w)?w:ma(r[o+1])?[]:{})}Ta(p,y,E),p=p[y]}return e}var Tx=Px;function Mx(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var l=r[n],p=Ks(e,l);t(p,l)&&Tx(a,xa(l,e),p)}return a}var wx=Mx;function Ax(e,r){return wx(e,r,function(t,n){return Id(e,n)})}var Nx=Ax,Hd=sr?sr.isConcatSpreadable:void 0;function Dx(e){return d(e)||Dn(e)||!!(Hd&&e&&e[Hd])}var jx=Dx;function Gd(e,r,t,n,o){var a=-1,l=e.length;for(t||(t=jx),o||(o=[]);++a<l;){var p=e[a];r>0&&t(p)?r>1?Gd(p,r-1,t,n,o):ai(o,p):n||(o[o.length]=p)}return o}var Cx=Gd;function Rx(e){var r=e==null?0:e.length;return r?Cx(e,1):[]}var Ix=Rx;function _x(e){return zd(Ld(e,void 0,Ix),e+"")}var Bx=_x,Lx=Bx(function(e,r){return e==null?{}:Nx(e,r)}),fi=Lx,It,kd,$d,Ud,Xd,Yd,Wd,Vd,Kd,Zd,Jd,Qd,qd,ep,tp,rp,np,op;function Vt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ip(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fx(e,r,t){return r&&ip(e.prototype,r),t&&ip(e,t),e}function ap(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Hx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Qs=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],up=(It=function(){function e(r){zx(this,e),Vt(this,"isSilentMode",kd,this),Vt(this,"stopZoomGraph",$d,this),Vt(this,"stopScrollGraph",Ud,this),Vt(this,"stopMoveGraph",Xd,this),Vt(this,"adjustEdge",Yd,this),Vt(this,"adjustEdgeMiddle",Wd,this),Vt(this,"adjustEdgeStartAndEnd",Vd,this),Vt(this,"adjustNodePosition",Kd,this),Vt(this,"hideAnchors",Zd,this),Vt(this,"hoverOutline",Jd,this),Vt(this,"nodeSelectedOutline",Qd,this),Vt(this,"edgeSelectedOutline",qd,this),Vt(this,"nodeTextEdit",ep,this),Vt(this,"edgeTextEdit",tp,this),Vt(this,"nodeTextDraggable",rp,this),Vt(this,"edgeTextDraggable",np,this),Vt(this,"autoExpand",op,this),ap(this,"multipleSelectKey",""),ap(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}return Fx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);or(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&or(a,this.defaultConfig),n===!0){var l=fi(Hx,Qs);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(a,l)}o===!1&&or(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=fi(t,Qs);return or(a,p)}},{key:"getConfig",value:function(){return fi(this,Qs)}}]),e}(),kd=Xt(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$d=Xt(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=Xt(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Xt(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Xt(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wd=Xt(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=Xt(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=Xt(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zd=Xt(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jd=Xt(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qd=Xt(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=Xt(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Xt(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Xt(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Xt(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),np=Xt(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=Xt(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xt(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var lp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(lp||(lp={}));var dt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(dt||(dt={}));var Gt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Gt||(Gt={}));var at;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(at||(at={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var sp=9999,mr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(mr||(mr={}));var Bt,fp,cp,dp,pp,hp,vp,yp;function Ma(e,r){return Ux(e)||$x(e,r)||kx(e,r)||Gx()}function Gx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kx(e,r){if(!!e){if(typeof e=="string")return gp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gp(e,r)}}function gp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function $x(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Ux(e){if(Array.isArray(e))return e}function Qn(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Xx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yx(e,r,t){return r&&mp(e.prototype,r),t&&mp(e,t),e}function qs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Rr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wx=(Bt=function(){function e(r){Xx(this,e),qs(this,"MINI_SCALE_SIZE",.2),qs(this,"MAX_SCALE_SIZE",16),Qn(this,"SCALE_X",fp,this),Qn(this,"SKEW_Y",cp,this),Qn(this,"SKEW_X",dp,this),Qn(this,"SCALE_Y",pp,this),Qn(this,"TRANSLATE_X",hp,this),Qn(this,"TRANSLATE_Y",vp,this),Qn(this,"ZOOM_SIZE",yp,this),qs(this,"eventCenter",void 0),this.eventCenter=r}return Yx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Ma(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Ma(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Ma(t,2),l=a[0],p=a[1];return[l+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(at.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var l=this.CanvasPointToHtmlPoint([t,n]),p=Ma(l,2),y=p[0],E=p[1],w=o/2-y,C=a/2-E;this.TRANSLATE_X+=w,this.TRANSLATE_Y+=C,this.emitGraphTransform("focusOn")}}]),e}(),fp=Rr(Bt.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),cp=Rr(Bt.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dp=Rr(Bt.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Rr(Bt.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hp=Rr(Bt.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vp=Rr(Bt.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Rr(Bt.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Rr(Bt.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"zoom"),Bt.prototype),Rr(Bt.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"resetZoom"),Bt.prototype),Rr(Bt.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"translate"),Bt.prototype),Rr(Bt.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"focusOn"),Bt.prototype),Bt);function Vx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Kx=Vx;function Zx(e,r){return e&&So(r,xo(r),e)}var Jx=Zx;function Qx(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var qx=Qx,eS=Object.prototype,tS=eS.hasOwnProperty;function rS(e){if(!Mt(e))return qx(e);var r=ba(e),t=[];for(var n in e)n=="constructor"&&(r||!tS.call(e,n))||t.push(n);return t}var nS=rS;function oS(e){return Zn(e)?gd(e,!0):nS(e)}var ci=oS;function iS(e,r){return e&&So(r,ci(r),e)}var aS=iS,bp=i(106);function uS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Op=uS;function lS(e,r){return So(e,Ot(e),r)}var sS=lS,fS=md(Object.getPrototypeOf,Object),ef=fS,cS=Object.getOwnPropertySymbols,dS=cS?function(e){for(var r=[];e;)ai(r,Ot(e)),e=ef(e);return r}:pe,Ep=dS;function pS(e,r){return So(e,Ep(e),r)}var hS=pS;function vS(e){return O(e,ci,Ep)}var yS=vS,gS=Object.prototype,mS=gS.hasOwnProperty;function bS(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&mS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var OS=bS;function ES(e){var r=new e.constructor(e.byteLength);return new $t(r).set(new $t(e)),r}var tf=ES;function xS(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var SS=xS,PS=/\w*$/;function TS(e){var r=new e.constructor(e.source,PS.exec(e));return r.lastIndex=e.lastIndex,r}var MS=TS,xp=sr?sr.prototype:void 0,Sp=xp?xp.valueOf:void 0;function wS(e){return Sp?Object(Sp.call(e)):{}}var AS=wS;function NS(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Pp=NS,DS="[object Boolean]",jS="[object Date]",CS="[object Map]",RS="[object Number]",IS="[object RegExp]",_S="[object Set]",BS="[object String]",LS="[object Symbol]",zS="[object ArrayBuffer]",FS="[object DataView]",HS="[object Float32Array]",GS="[object Float64Array]",kS="[object Int8Array]",$S="[object Int16Array]",US="[object Int32Array]",XS="[object Uint8Array]",YS="[object Uint8ClampedArray]",WS="[object Uint16Array]",VS="[object Uint32Array]";function KS(e,r,t){var n=e.constructor;switch(r){case zS:return tf(e);case DS:case jS:return new n(+e);case FS:return SS(e,t);case HS:case GS:case kS:case $S:case US:case XS:case YS:case WS:case VS:return Pp(e,t);case CS:return new n;case RS:case BS:return new n(e);case IS:return MS(e);case _S:return new n;case LS:return AS(e)}}var ZS=KS,Tp=Object.create,JS=function(){function e(){}return function(r){if(!Mt(r))return{};if(Tp)return Tp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),QS=JS;function qS(e){return typeof e.constructor=="function"&&!ba(e)?QS(ef(e)):{}}var Mp=qS,e0="[object Map]";function t0(e){return wt(e)&&li(e)==e0}var r0=t0,wp=Eo.a&&Eo.a.isMap,n0=wp?Fs(wp):r0,o0=n0,i0="[object Set]";function a0(e){return wt(e)&&li(e)==i0}var u0=a0,Ap=Eo.a&&Eo.a.isSet,l0=Ap?Fs(Ap):u0,s0=l0,f0=1,c0=2,d0=4,Np="[object Arguments]",p0="[object Array]",h0="[object Boolean]",v0="[object Date]",y0="[object Error]",Dp="[object Function]",g0="[object GeneratorFunction]",m0="[object Map]",b0="[object Number]",jp="[object Object]",O0="[object RegExp]",E0="[object Set]",x0="[object String]",S0="[object Symbol]",P0="[object WeakMap]",T0="[object ArrayBuffer]",M0="[object DataView]",w0="[object Float32Array]",A0="[object Float64Array]",N0="[object Int8Array]",D0="[object Int16Array]",j0="[object Int32Array]",C0="[object Uint8Array]",R0="[object Uint8ClampedArray]",I0="[object Uint16Array]",_0="[object Uint32Array]",At={};At[Np]=At[p0]=At[T0]=At[M0]=At[h0]=At[v0]=At[w0]=At[A0]=At[N0]=At[D0]=At[j0]=At[m0]=At[b0]=At[jp]=At[O0]=At[E0]=At[x0]=At[S0]=At[C0]=At[R0]=At[I0]=At[_0]=!0,At[y0]=At[Dp]=At[P0]=!1;function wa(e,r,t,n,o,a){var l,p=r&f0,y=r&c0,E=r&d0;if(t&&(l=o?t(e,n,o,a):t(e)),l!==void 0)return l;if(!Mt(e))return e;var w=d(e);if(w){if(l=OS(e),!p)return Op(e,l)}else{var C=li(e),B=C==Dp||C==g0;if(Object(fn.a)(e))return Object(bp.a)(e,p);if(C==jp||C==Np||B&&!o){if(l=y||B?{}:Mp(e),!p)return y?hS(e,aS(l,e)):sS(e,Jx(l,e))}else{if(!At[C])return o?e:{};l=ZS(e,C,p)}}a||(a=new An);var $=a.get(e);if($)return $;a.set(e,l),s0(e)?e.forEach(function(ie){l.add(wa(ie,r,t,ie,e,a))}):o0(e)&&e.forEach(function(ie,ce){l.set(ce,wa(ie,r,t,ce,e,a))});var Q=E?y?yS:Gs:y?ci:xo,oe=w?void 0:Q(e);return Kx(oe||e,function(ie,ce){oe&&(ce=ie,ie=e[ce]),Ta(l,ce,wa(ie,r,t,ce,e,a))}),l}var B0=wa,L0=1,z0=4;function F0(e){return B0(e,L0|z0)}var jt=F0;function H0(e,r,t){(t!==void 0&&!Zt(e[r],t)||t===void 0&&!(r in e))&&Js(e,r,t)}var rf=H0;function G0(e){return wt(e)&&Zn(e)}var k0=G0,$0="[object Object]",U0=Function.prototype,X0=Object.prototype,Cp=U0.toString,Y0=X0.hasOwnProperty,W0=Cp.call(Object);function V0(e){if(!wt(e)||$r(e)!=$0)return!1;var r=ef(e);if(r===null)return!0;var t=Y0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Cp.call(t)==W0}var K0=V0;function Z0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var nf=Z0;function J0(e){return So(e,ci(e))}var Q0=J0;function q0(e,r,t,n,o,a,l){var p=nf(e,t),y=nf(r,t),E=l.get(y);if(E){rf(e,t,E);return}var w=a?a(p,y,t+"",e,r,l):void 0,C=w===void 0;if(C){var B=d(y),$=!B&&Object(fn.a)(y),Q=!B&&!$&&Hs(y);w=y,B||$||Q?d(p)?w=p:k0(p)?w=Op(p):$?(C=!1,w=Object(bp.a)(y,!0)):Q?(C=!1,w=Pp(y,!0)):w=[]:K0(y)||Dn(y)?(w=p,Dn(p)?w=Q0(p):(!Mt(p)||ho(p))&&(w=Mp(y))):C=!1}C&&(l.set(y,w),o(w,y,n,a,l),l.delete(y)),rf(e,t,w)}var eP=q0;function Rp(e,r,t,n,o){e!==r&&_d(r,function(a,l){if(o||(o=new An),Mt(a))eP(e,r,l,t,Rp,n,o);else{var p=n?n(nf(e,l),a,l+"",e,r,o):void 0;p===void 0&&(p=a),rf(e,l,p)}},ci)}var tP=Rp,rP=Fd(function(e,r,t){tP(e,r,t)}),Ip=rP,nP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},_p=function(r){var t=jt(nP);return r&&(t=Ip(t,r)),t};i(78),i(158);function oP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iP(e,r,t){return r&&Bp(e.prototype,r),t&&Bp(e,t),e}function aP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uP="*",lP=function(){function e(){oP(this,e),aP(this,"_events",{})}return iP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(l){l=l.trim(),a._events[l]||(a._events[l]=[]),a._events[l].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var l=o._events[a]||[],p=o._events[uP]||[],y=function(w){for(var C=w.length,B=0;B<C;B++)if(!!w[B]){var $=w[B],Q=$.callback,oe=$.once;oe&&(w.splice(B,1),w.length===0&&delete o._events[a],C--,B--),Q.apply(o,[n])}};y(l),y(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var l=o._events[a]||[],p=l.length,y=0;y<p;y++)l[y].callback===n&&(l.splice(y,1),p--,y--);l.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Po(e,r){return r*Math.round(e/r)||e}function Lp(e,r){return e%r}function of(e,r){return dP(e)||cP(e,r)||fP(e,r)||sP()}function sP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fP(e,r){if(!!e){if(typeof e=="string")return zp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zp(e,r)}}function zp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function dP(e){if(Array.isArray(e))return e}var af=function(r,t,n){var o=of(r,2),a=o[0],l=o[1],p=of(t,2),y=p[0],E=p[1],w=of(n,2),C=w[0],B=w[1];return a>y&&a<C&&l>E&&l<B},Fp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Aa,pP=new Uint8Array(16);function hP(){if(!Aa&&(Aa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Aa(pP)}var vP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yP(e){return typeof e=="string"&&vP.test(e)}for(var gP=yP,Kt=[],uf=0;uf<256;++uf)Kt.push((uf+256).toString(16).substr(1));function mP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kt[e[r+0]]+Kt[e[r+1]]+Kt[e[r+2]]+Kt[e[r+3]]+"-"+Kt[e[r+4]]+Kt[e[r+5]]+"-"+Kt[e[r+6]]+Kt[e[r+7]]+"-"+Kt[e[r+8]]+Kt[e[r+9]]+"-"+Kt[e[r+10]]+Kt[e[r+11]]+Kt[e[r+12]]+Kt[e[r+13]]+Kt[e[r+14]]+Kt[e[r+15]]).toLowerCase();if(!gP(t))throw TypeError("Stringified UUID is invalid");return t}var bP=mP;function OP(e,r,t){e=e||{};var n=e.random||(e.rng||hP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return bP(n)}var lf=OP,qn=function(){var r=lf();return r},EP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+lf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+lf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var xP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var l=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(l-r.x)*(l-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(l-n.x)*(l-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:l,y:p}:!1},di=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Na(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Na=function(t){return typeof t}:Na=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Na(e)}function Hp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Gp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hp(Object(t),!0).forEach(function(n){SP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function SP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var sf=function(r){var t=r.anchors;return t},Da=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var l=n[a],p=MP(r,l);if(p){var y=TP(r,l);if(y){var E={node:l,anchorIndex:y.index,anchor:y.anchor};(!o||PP(l,o.node,t))&&(o=E)}}}return o},PP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},TP=function(r,t){for(var n=sf(t),o,a=Number.MAX_SAFE_INTEGER,l=0;l<n.length;l++){var p=Yr(r.x,r.y,n[l].x,n[l].y);p<a&&(a=p,o={index:l,anchor:Gp(Gp({},n[l]),{},{x:n[l].x,y:n[l].y,id:n[l].id})})}return o},Yr=function(r,t,n,o){return Math.hypot(r-n,t-o)},jn=function(r,t){var n=!1,o=0,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},MP=function(r,t){var n=!1,o=5,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},br=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,l={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return l},wP=function(r){var t=r,n=t.x,o=t.y,a=t.width,l=t.height,p=t.radius,y=[{x:n-a/2+p,y:o-l/2+p,r:p},{x:n+a/2-p,y:o-l/2+p,r:p},{x:n-a/2+p,y:o+l/2-p,r:p},{x:n+a/2-p,y:o+l/2-p,r:p}];return y},kp=function(r,t,n){var o=wP(n),a,l=Number.MAX_SAFE_INTEGER;o.forEach(function(y){var E=Yr(r.x,r.y,y.x,y.y);E<l&&(l=E,a=y)});var p=ff(r,t,a);return p},ff=function(r,t,n){var o,a=n,l=a.x,p=a.y,y=a.r;if(t===Dt.HORIZONTAL){var E=l-Math.sqrt(y*y-(r.y-p)*(r.y-p)),w=l+Math.sqrt(y*y-(r.y-p)*(r.y-p)),C=Math.abs(E-r.x)<Math.abs(w-r.x)?E:w;o={x:C,y:r.y}}else if(t===Dt.VERTICAL){var B=p-Math.sqrt(y*y-(r.x-l)*(r.x-l)),$=p+Math.sqrt(y*y-(r.x-l)*(r.x-l)),Q=Math.abs(B-r.y)<Math.abs($-r.y)?B:$;o={x:r.x,y:Q}}return o},$p=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},l=n.x,p=n.y,y=n.width,E=n.height;return r.y===p+E/2||r.y===p-E/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===l+y/2||r.x===l-y/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},Up=function(r,t,n){var o,a=n,l=a.x,p=a.y,y=a.rx,E=a.ry;if(t===Dt.HORIZONTAL){var w=l-Math.sqrt(y*y-(r.y-p)*(r.y-p)*y*y/(E*E)),C=l+Math.sqrt(y*y-(r.y-p)*(r.y-p)*y*y/(E*E)),B=Math.abs(w-r.x)<Math.abs(C-r.x)?w:C;o={x:B,y:r.y}}else if(t===Dt.VERTICAL){var $=p-Math.sqrt(E*E-(r.x-l)*(r.x-l)*E*E/(y*y)),Q=p+Math.sqrt(E*E-(r.x-l)*(r.x-l)*E*E/(y*y)),oe=Math.abs($-r.y)<Math.abs(Q-r.y)?$:Q;o={x:r.x,y:oe}}return o},ja=function(r,t,n){for(var o=n,a=o.pointsPosition,l=Number.MAX_SAFE_INTEGER,p,y=[],E=0;E<a.length;E++)y.push({start:a[E],end:a[(E+1)%a.length]});return y.forEach(function(w){var C=w.start,B=w.end,$=C,Q=B;C.x>B.x&&($=B,Q=C);var oe={x:r.x,y:r.y};if($.x===Q.x&&t===Dt.HORIZONTAL&&(oe={x:$.x,y:r.y}),$.y===Q.y&&t===Dt.VERTICAL&&(oe={x:r.x,y:$.y}),$.x!==Q.x&&$.y!==Q.y){var ie=(Q.y-$.y)/(Q.x-$.x),ce=($.x*Q.y-Q.x*$.y)/($.x-Q.x);t===Dt.HORIZONTAL?oe={x:(r.y-ce)/ie,y:r.y}:t===Dt.VERTICAL&&(oe={x:r.x,y:ie*r.x+ce})}var Ne=di(oe,C,B);if(Ne){var xe=Yr(oe.x,oe.y,r.x,r.y);xe<l&&(l=xe,p=oe)}}),p},AP=function(r){var t=fi(r,["id","type","x","y","text","properties"]);return t},Xp=function(r,t,n,o){var a=r.x,l=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?l=r.y+o/2:t.y<r.y&&(l=r.y-o/2),{x:a,y:l}},Yp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,l=document.createElement("div");l.style.fontSize=n.fontSize,l.style.width=n.width,l.className=a,l.style.lineHeight=n.lineHeight,l.style.padding=n.padding,n.fontFamily&&(l.style.fontFamily=n.fontFamily),o>1?t.forEach(function(y){var E=document.createElement("div");E.textContent=y,l.appendChild(E)}):l.textContent=t,document.body.appendChild(l);var p=l.clientHeight;return document.body.removeChild(l),p},cf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(l){var p=Bh(l);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ca=function(r){return Na(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Wp={node:!1,edge:!1},NP={node:!0,edge:!0},DP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},er=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},jP=1e3,CP=999,df=function(){return++jP},RP=function(){return--CP},Te,Vp,Kp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,lh,sh,fh,ch,dh;function ph(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ir(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ph(Object(t),!0).forEach(function(n){Or(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ph(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function IP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _P(e,r,t){return r&&hh(e.prototype,r),t&&hh(e,t),e}function Or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ot(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pf=(Te=function(){function e(r,t){IP(this,e),Or(this,"id",qn()),kt(this,"type",Vp,this),kt(this,"sourceNodeId",Kp,this),kt(this,"targetNodeId",Zp,this),kt(this,"startPoint",Jp,this),kt(this,"endPoint",Qp,this),kt(this,"text",qp,this),kt(this,"properties",eh,this),kt(this,"points",th,this),kt(this,"pointsList",rh,this),kt(this,"isSelected",nh,this),kt(this,"isHovered",oh,this),kt(this,"isHitable",ih,this),kt(this,"draggable",ah,this),kt(this,"visible",uh,this),Or(this,"virtual",!1),kt(this,"isAnimation",lh,this),Or(this,"graphModel",void 0),kt(this,"zIndex",sh,this),Or(this,"BaseType",Gt.EDGE),Or(this,"modelType",dt.EDGE),kt(this,"state",fh,this),Or(this,"additionStateData",void 0),Or(this,"sourceAnchorId",""),Or(this,"targetAnchorId",""),Or(this,"menu",void 0),Or(this,"customTextPosition",!1),Or(this,"animationData",DP),kt(this,"style",ch,this),kt(this,"arrowConfig",dh,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return _P(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}or(this,PT(t));var l=this.graphModel.overlapMode;l===mr.INCREASE&&(this.zIndex=t.zIndex||df()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Ir(Ir({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,l=sf(t);return l.forEach(function(p){var y=Fh(p,n);a?y<a&&(a=y,o=p):(a=y,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,l=sf(t);return l.forEach(function(p){var y=Fh(p,n.startPoint);a?y<a&&(a=y,o=p):(a=y,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(l.text={x:n,y:o,value:a}),this.graphModel.overlapMode===mr.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=er(n),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Ir(Ir({},this.properties),er(t)),this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=Ir(Ir({},this.style),{},Or({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=Ir(Ir({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=Ir({},er(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,l=o.y,p=o.value,y=o.draggable,E=o.editable;this.text={value:p,draggable:y,x:a+t,y:l+n,editable:E}}}},{key:"setText",value:function(t){t&&or(this.text,t)}},{key:"updateText",value:function(t){this.text=Ir(Ir({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){or(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Vp=ot(Te.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kp=ot(Te.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=ot(Te.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=ot(Te.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qp=ot(Te.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qp=ot(Te.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),eh=ot(Te.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),th=ot(Te.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rh=ot(Te.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nh=ot(Te.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh=ot(Te.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=ot(Te.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ah=ot(Te.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=ot(Te.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=ot(Te.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sh=ot(Te.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fh=ot(Te.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ch=ot(Te.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dh=ot(Te.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),ot(Te.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"sourceNode"),Te.prototype),ot(Te.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"targetNode"),Te.prototype),ot(Te.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(Te.prototype,"textPosition"),Te.prototype),ot(Te.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperty"),Te.prototype),ot(Te.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setProperties"),Te.prototype),ot(Te.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyle"),Te.prototype),ot(Te.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setStyles"),Te.prototype),ot(Te.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStyles"),Te.prototype),ot(Te.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"formatText"),Te.prototype),ot(Te.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"resetTextPosition"),Te.prototype),ot(Te.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveText"),Te.prototype),ot(Te.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setText"),Te.prototype),ot(Te.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateText"),Te.prototype),ot(Te.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setAnchors"),Te.prototype),ot(Te.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setSelected"),Te.prototype),ot(Te.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHovered"),Te.prototype),ot(Te.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setHitable"),Te.prototype),ot(Te.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"openEdgeAnimation"),Te.prototype),ot(Te.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"closeEdgeAnimation"),Te.prototype),ot(Te.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setElementState"),Te.prototype),ot(Te.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateStartPoint"),Te.prototype),ot(Te.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveStartPoint"),Te.prototype),ot(Te.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateEndPoint"),Te.prototype),ot(Te.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"moveEndPoint"),Te.prototype),ot(Te.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"setZIndex"),Te.prototype),ot(Te.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"initPoints"),Te.prototype),ot(Te.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAttributes"),Te.prototype),ot(Te.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustStart"),Te.prototype),ot(Te.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"getAdjustEnd"),Te.prototype),ot(Te.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(Te.prototype,"updateAfterAdjustStartAndEnd"),Te.prototype),Te),hf=pf;function Ra(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ra=function(t){return typeof t}:Ra=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(e)}function vh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vh(Object(t),!0).forEach(function(n){bh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function BP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LP(e,r,t){return r&&gh(e.prototype,r),t&&gh(e,t),e}function Ia(){return typeof Reflect<"u"&&Reflect.get?Ia=Reflect.get:Ia=function(r,t,n){var o=zP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ia.apply(this,arguments)}function zP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=To(e),e!==null););return e}function FP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vf(e,r)}function vf(e,r){return vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},vf(e,r)}function HP(e){var r=kP();return function(){var n=To(e),o;if(r){var a=To(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GP(this,o)}}function GP(e,r){if(r&&(Ra(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mh(e)}function mh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},To(e)}function bh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yf=function(e){FP(t,e);var r=HP(t);function t(){var n;BP(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),bh(mh(n),"modelType",dt.LINE_EDGE),n}return LP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=Ia(To(t.prototype),"getEdgeStyle",this).call(this);return yh(yh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(hf);function _a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_a=function(t){return typeof t}:_a=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}var ut,Oh;function $P(e,r){return WP(e)||YP(e,r)||XP(e,r)||UP()}function UP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XP(e,r){if(!!e){if(typeof e=="string")return Eh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eh(e,r)}}function Eh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function YP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function WP(e){if(Array.isArray(e))return e}function xh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xh(Object(t),!0).forEach(function(n){mf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function VP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function KP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ph(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZP(e,r,t){return r&&Ph(e.prototype,r),t&&Ph(e,t),e}function Mo(){return typeof Reflect<"u"&&Reflect.get?Mo=Reflect.get:Mo=function(r,t,n){var o=JP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mo.apply(this,arguments)}function JP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Cn(e),e!==null););return e}function QP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gf(e,r)}function gf(e,r){return gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gf(e,r)}function qP(e){var r=tT();return function(){var n=Cn(e),o;if(r){var a=Cn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eT(this,o)}}function eT(e,r){if(r&&(_a(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}function pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cn(e){return Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(e)}function mf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var bf=(ut=function(e){QP(t,e);var r=qP(t);function t(){var n;KP(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),mf(pi(n),"modelType",dt.POLYLINE_EDGE),mf(pi(n),"draginngPointList",void 0),VP(pi(n),"dbClickPosition",Oh,pi(n)),n}return ZP(t,[{key:"initEdgeData",value:function(o){this.offset=30,Mo(Cn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=Mo(Cn(t.prototype),"getEdgeStyle",this).call(this);return Sh(Sh({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var l=this.dbClickPosition,p=l.x,y=l.y;return{x:p,y}}var E=wo(this.points),w=OT(E),C=$P(w,2),B=C[0],$=C[1];return{x:(B.x+$.x)/2,y:(B.y+$.y)/2}}},{key:"getAfterAnchor",value:function(o,a,l){var p,y;return l.forEach(function(E){var w;o===Dt.HORIZONTAL?w=Math.abs(a.y-E.y):o===Dt.VERTICAL&&(w=Math.abs(a.x-E.x)),(!y||y>w)&&(y=w,p=E)}),p}},{key:"getCorssPoint",value:function(o,a,l){var p;return o===Dt.HORIZONTAL?p={x:l.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:l.y}),p}},{key:"removeCrossPoints",value:function(o,a,l){var p=l.map(function(Ce){return Ce});if(o===1){var y=p[o],E=p[a],w=p[o-1],C=Ch(w,y,this.sourceNode);if(C){var B=Rh(y,E,this.sourceNode);if(B){var $=Ih(y,E,this.sourceNode);$&&(p[o]=$,p.splice(o-1,1),o--,a--)}}else{var Q=this.sourceNode.anchors;Q.forEach(function(Ce){if(Ce.x===w.x&&Ce.x===y.x||Ce.y===w.y&&Ce.y===y.y){var et=Yr(Ce.x,Ce.y,y.x,y.y),Ge=Yr(w.x,w.y,y.x,y.y);et<Ge&&(p[o-1]=Ce)}})}}if(a===l.length-2){var oe=p[o],ie=p[a],ce=p[a+1],Ne=Ch(ie,ce,this.targetNode);if(Ne){var xe=Rh(oe,ie,this.targetNode);if(xe){var Pe=Ih(oe,ie,this.targetNode);Pe&&(p[a]=Pe,p.splice(a+1,1))}}else{var He=this.targetNode.anchors;He.forEach(function(Ce){if(Ce.x===ce.x&&Ce.x===ie.x||Ce.y===ce.y&&Ce.y===ie.y){var et=Yr(Ce.x,Ce.y,ie.x,ie.y),Ge=Yr(ce.x,ce.y,ie.x,ie.y);et<Ge&&(p[a+1]=Ce)}})}}return p}},{key:"getDragingPoints",value:function(o,a,l,p,y){var E=y.map(function(B){return B}),w=this.getAfterAnchor(o,l,p),C=this.getCorssPoint(o,l,w);return a==="start"?(E.unshift(C),E.unshift(w)):(E.push(C),E.push(w)),E}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(Pe){return Pe}),l=o[0],p=o[1],y=o[a.length-2],E=o[a.length-1],w=this.sourceNode,C=this.targetNode,B=w.modelType,$=C.modelType,Q=ka(l,p),oe=a[0];switch(B){case dt.RECT_NODE:if(w.radius!==0){var ie=$p(l,w);ie||(oe=kp(l,Q,w))}break;case dt.CIRCLE_NODE:oe=ff(l,Q,w);break;case dt.ELLIPSE_NODE:oe=Up(l,Q,w);break;case dt.DIAMOND_NODE:oe=ja(l,Q,w);break;case dt.POLYGON_NODE:oe=ja(l,Q,w);break}a[0]=oe;var ce=ka(y,E),Ne=a[a.length-1];switch($){case dt.RECT_NODE:if(C.radius!==0){var xe=$p(E,C);xe||(Ne=kp(E,ce,C))}break;case dt.CIRCLE_NODE:Ne=ff(E,ce,C);break;case dt.ELLIPSE_NODE:Ne=Up(E,ce,C);break;case dt.DIAMOND_NODE:Ne=ja(E,ce,C);break;case dt.POLYGON_NODE:Ne=ja(E,ce,C);break}return a[a.length-1]=Ne,a}},{key:"getData",value:function(){var o=Mo(Cn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,y=l.y;return{x:p,y}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=jh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,y=o.startIndex,E=o.endIndex,w=o.direction,C=this.pointsList,B=C;return w===Dt.HORIZONTAL?(C[y]={x:l.x,y:l.y+a.y},C[E]={x:p.x,y:p.y+a.y},B=this.pointsList.map(function($){return $})):w===Dt.VERTICAL&&(C[y]={x:l.x+a.x,y:l.y},C[E]={x:p.x+a.x,y:p.y},B=this.pointsList.map(function($){return $})),this.updatePointsAfterDrage(B),this.draginngPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[y]),end:Object.assign({},C[E]),startIndex:y,endIndex:E,direction:w}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var l=o.start,p=o.end,y=o.startIndex,E=o.endIndex,w=o.direction,C=this.pointsList;if(w===Dt.HORIZONTAL){C[y]={x:l.x,y:l.y+a.y},C[E]={x:p.x,y:p.y+a.y};var B=this.pointsList.map(function(yt){return yt});if(y!==0&&E!==this.pointsList.length-1&&(B=this.removeCrossPoints(y,E,B)),y===0){var $={x:l.x,y:l.y+a.y},Q=jn($,this.sourceNode);if(!Q){var oe=this.sourceNode.anchors;B=this.getDragingPoints(w,"start",$,oe,B)}}if(E===this.pointsList.length-1){var ie={x:p.x,y:p.y+a.y},ce=jn(ie,this.targetNode);if(!ce){var Ne=this.targetNode.anchors;B=this.getDragingPoints(w,"end",ie,Ne,B)}}B=Pf(B),this.updatePointsAfterDrage(B),this.draginngPointList=B}else if(w===Dt.VERTICAL){C[y]={x:l.x+a.x,y:l.y},C[E]={x:p.x+a.x,y:p.y};var xe=this.pointsList.map(function(yt){return yt});if(y!==0&&E!==this.pointsList.length-1&&(xe=this.removeCrossPoints(y,E,xe)),y===0){var Pe={x:l.x+a.x,y:l.y},He=jn(Pe,this.sourceNode);if(!He){var Ce=this.sourceNode.anchors;xe=this.getDragingPoints(w,"start",Pe,Ce,xe)}}if(E===this.pointsList.length-1){var et={x:p.x+a.x,y:p.y},Ge=jn(et,this.targetNode);if(!Ge){var ht=this.targetNode.anchors;xe=this.getDragingPoints(w,"end",et,ht,xe)}}xe=Pf(xe),this.updatePointsAfterDrage(xe),this.draginngPointList=xe}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[y]),end:Object.assign({},C[E]),startIndex:y,endIndex:E,direction:w}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=wo(this.points);this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,y=o.targetNode,E=jh({x:a.x,y:a.y},{x:l.x,y:l.y},p,y,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(hf),Oh=ir(ut.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(ut.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),ir(ut.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),ir(ut.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),ir(ut.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveStartPoint"),ut.prototype),ir(ut.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),ir(ut.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveEndPoint"),ut.prototype),ir(ut.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),ir(ut.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),ir(ut.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),ir(ut.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),ir(ut.prototype,"updatePointsAfterDrage",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrage"),ut.prototype),ir(ut.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),ir(ut.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),ir(ut.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),hi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,l=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},y=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/a),w=Math.sqrt(a*a+o*o);return l==="start"?n.x>=t.x?(p.leftX=t.x+w*Math.sin(y+E),p.leftY=t.y-w*Math.cos(y+E),p.rightX=t.x-w*Math.sin(y-E),p.rightY=t.y+w*Math.cos(y-E)):(p.leftX=t.x-w*Math.sin(y+E),p.leftY=t.y+w*Math.cos(y+E),p.rightX=t.x+w*Math.sin(y-E),p.rightY=t.y-w*Math.cos(y-E)):l==="end"&&(n.x>=t.x?(p.leftX=n.x+w*Math.sin(y-E),p.leftY=n.y-w*Math.cos(y-E),p.rightX=n.x-w*Math.sin(y+E),p.rightY=n.y+w*Math.cos(y+E)):(p.leftX=n.x-w*Math.sin(y-E),p.leftY=n.y+w*Math.cos(y-E),p.rightX=n.x+w*Math.sin(y+E),p.rightY=n.y-w*Math.cos(y+E))),p};function Th(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ba(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Th(Object(t),!0).forEach(function(n){rT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Th(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function rT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function nT(e){return aT(e)||iT(e)||Mh(e)||oT()}function oT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aT(e){if(Array.isArray(e))return Ef(e)}function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function Of(e,r){return sT(e)||lT(e,r)||Mh(e,r)||uT()}function uT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mh(e,r){if(!!e){if(typeof e=="string")return Ef(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ef(e,r)}}function Ef(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function sT(e){if(Array.isArray(e))return e}var fT=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},xf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},za=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},cT=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Fa=function(r,t){var n=cT(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},wh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),l=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+l)/2,minX:n,minY:o,maxX:a,maxY:l,height:l-o,width:a-n}},vi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(C){n.push(C.x),o.push(C.y)});var a=Math.min.apply(Math,n),l=Math.max.apply(Math,n),p=Math.min.apply(Math,o),y=Math.max.apply(Math,o),E=l-a,w=y-p;return t&&(E+=t,w+=t),{centerX:(a+l)/2,centerY:(p+y)/2,maxX:l,maxY:y,minX:a,minY:p,x:(a+l)/2,y:(p+y)/2,height:w,width:E}},Ha=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Ga=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},dT=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},pT=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},hT=function(r,t){return dT(r,t.x).concat(pT(r,t.y))},Sf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},vT=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Ah=function(r,t,n,o,a){return Sf(r,t)+Sf(r,n)+vT(r,[t,n,o,a])},yT=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},gT=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},yi=function(r,t,n,o){var a=t.x-r.x,l=t.y-r.y,p=o.x-n.x,y=o.y-n.y,E=(-l*(r.x-n.x)+a*(r.y-n.y))/(-p*l+a*y),w=(p*(r.y-n.y)-y*(r.x-n.x))/(-p*l+a*y);return E>=0&&E<=1&&w>=0&&w<=1},Nh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ha(n),a=Of(o,4),l=a[0],p=a[1],y=a[2],E=a[3];return yi(r,t,l,p)||yi(r,t,l,E)||yi(r,t,p,y)||yi(r,t,y,E)},mT=function(r,t,n,o){var a=[];return r.forEach(function(l){l!==t&&(l.x===t.x||l.y===t.y)&&!Nh(l,t,n)&&!Nh(l,t,o)&&a.push(l)}),xf(a)},bT=function(r,t,n,o,a,l,p){var y=[],E=[t],w={},C={},B={};C[t.id]=0,B[t.id]=Ah(t,n,t);var $={};r.forEach(function(ie){$[ie.id]=ie});for(var Q=function(){var ce=void 0,Ne=1/0;if(E.forEach(function(Pe){B[Pe.id]<Ne&&(Ne=B[Pe.id],ce=Pe)}),ce===n){var xe=[];return yT(xe,$,w,n.id),{v:xe}}gT(E,ce),y.push(ce),mT(r,ce,o,a).forEach(function(Pe){if(y.indexOf(Pe)===-1){E.indexOf(Pe)===-1&&E.push(Pe);var He=B[ce.id]+Sf(ce,Pe);C[Pe.id]&&He>=C[Pe.id]||(w[Pe.id]=ce.id,C[Pe.id]=He,B[Pe.id]=C[Pe.id]+Ah(Pe,n,t,l,p))}})};E.length;){var oe=Q();if(La(oe)==="object")return oe.v}return[t,n]},Dh=function(r){var t=br(r);return t},Pf=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],l=t[n+1];o.x===a.x&&a.x===l.x||o.y===a.y&&a.y===l.y?t.splice(n,1):n++}return t},jh=function(r,t,n,o,a){var l=Dh(n),p=Dh(o),y=za(l,a),E=za(p,a),w=Fa(y,r),C=Fa(E,t);if(fT(y,E)){var B=ET(r,t,w,C);return[r,w].concat(nT(B),[C,t])}var $=vi([w,C]),Q=wh(y,$),oe=wh(E,$),ie=[];ie=ie.concat(Ha(Q)),ie=ie.concat(Ha(oe));var ce={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[$,Q,oe].forEach(function(xe){ie=ie.concat(hT(xe,ce).filter(function(Pe){return Ga(Pe,y)&&Ga(Pe,E)}))}),[{x:w.x,y:C.y},{x:C.x,y:w.y}].forEach(function(xe){Ga(xe,y)&&Ga(xe,E)&&ie.push(xe)}),ie.unshift(w),ie.push(C),ie=xf(ie);var Ne=bT(ie,w,C,l,p,r,t);return Ne.unshift(r),Ne.push(t),Ne.length>2&&(Ne=Pf(Ne)),xf(Ne)},OT=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Yr(n.x,n.y,o.x,o.y),l=1;l<r.length-1;l++){var p=r[l],y=r[l+1],E=Yr(p.x,p.y,y.x,y.y);E>a&&(a=E,n=p,o=y)}t=[n,o]}return t},Ch=function(r,t,n){var o=jn(r,n),a=jn(t,n);return o&&a},Rh=function(r,t,n){var o=jn(r,n),a=jn(t,n),l=o&&a,p=o||a;return!l&&p},Ih=function(r,t,n){for(var o,a,l=br(n),p=Ha(l),y=0;y<p.length;y++){var E=yi(r,t,p[y],p[(y+1)%p.length]);E&&(a=[p[y],p[(y+1)%p.length]])}return a&&(o=xP(r,t,a[0],a[1])),o},ka=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},wo=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),l=Of(a,2),p=l[0],y=l[1];n.push({x:Number(p),y:Number(y)})}),n},ET=function(r,t,n,o){var a=[],l=ka(r,n),p=ka(t,o);if(l===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var y={x:n.x,y:o.y},E=di(y,r,n),w=di(y,t,o);if(E||w)y={x:o.x,y:n.y};else{var C=_h(y,r,n),B=_h(y,t,o);C&&B&&(y={x:o.x,y:n.y})}a.push(y)}return a},_h=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Bh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},xT=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},l=hi(Ba(Ba({},a),{},{type:"start"})),p=hi(Ba(Ba({},a),{},{type:"end"}));o="M".concat(l.leftX," ").concat(l.leftY,` 
    L`).concat(l.rightX," ").concat(l.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Lh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,l=r.offset,p=br(o),y=br(a),E=za(p,l),w=za(y,l),C=Fa(E,t),B=Fa(w,n);return{sNext:C,ePre:B}},$a=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Ua(t[0]),o=Ua(t[1]),a=Ua(t[2]),l=Ua(t[3]);return[n,o,a,l]},Ua=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Of(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},ST=function(r){var t=$a(r);return[t[2],t[3]]},zh=function(r,t){for(var n=r.x,o=r.y,a=wo(t),l=Number.MAX_SAFE_INTEGER,p,y=[],E=0;E<a.length;E++)y.push({start:a[E],end:a[(E+1)%a.length]});if(y.forEach(function($){var Q=$.start,oe=$.end;if(Q.x===oe.x){var ie={x:Q.x,y:o},ce=di(ie,Q,oe);if(ce){var Ne=Math.abs(Q.x-n);Ne<l&&(l=Ne,p=ie)}}else if(Q.y===oe.y){var xe={x:n,y:Q.y},Pe=di(xe,Q,oe);if(Pe){var He=Math.abs(Q.y-o);He<l&&(l=He,p=xe)}}}),!p){var w=y[0],C=w.start,B=w.end;p={x:C.x+(B.x-C.x)/2,y:C.y+(B.y-C.y)/2}}return p},PT=function(r){return fi(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Fh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function TT(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function MT(){}var Ao=MT;function wT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AT(e,r,t){return r&&Hh(e.prototype,r),t&&Hh(e,t),e}function Ft(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Wr=window.document,Gh=0;function Tf(e){var r=e.onDragStart,t=r===void 0?Ao:r,n=e.onDraging,o=n===void 0?Ao:n,a=e.onDragEnd,l=a===void 0?Ao:a,p=e.step,y=p===void 0?1:p,E=e.isStopPropagation,w=E===void 0?!0:E,C=!1,B=!1,$=0,Q=0,oe=0,ie=0;function ce(Pe){if(w&&Pe.stopPropagation(),!!B&&(C=!0,oe+=Pe.clientX-$,ie+=Pe.clientY-Q,$=Pe.clientX,Q=Pe.clientY,Math.abs(oe)>y||Math.abs(ie)>y)){var He=oe%y,Ce=ie%y,et=oe-He,Ge=ie-Ce;oe=He,ie=Ce,o({deltaX:et,deltaY:Ge,event:Pe})}}function Ne(Pe){if(w&&Pe.stopPropagation(),B=!1,Wr.removeEventListener("mousemove",ce,!1),Wr.removeEventListener("mouseup",Ne,!1),!!C)return C=!1,l({event:Pe})}function xe(Pe){if(Pe.button===Gh)return w&&Pe.stopPropagation(),B=!0,$=Pe.clientX,Q=Pe.clientY,Wr.addEventListener("mousemove",ce,!1),Wr.addEventListener("mouseup",Ne,!1),t({event:Pe})}return xe}var eo=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?Ao:n,a=r.onDraging,l=a===void 0?Ao:a,p=r.onDragEnd,y=p===void 0?Ao:p,E=r.eventType,w=E===void 0?"":E,C=r.eventCenter,B=C===void 0?null:C,$=r.step,Q=$===void 0?1:$,oe=r.isStopPropagation,ie=oe===void 0?!0:oe,ce=r.model,Ne=ce===void 0?null:ce;wT(this,e),Ft(this,"onDragStart",void 0),Ft(this,"onDraging",void 0),Ft(this,"onDragEnd",void 0),Ft(this,"step",void 0),Ft(this,"isStopPropagation",void 0),Ft(this,"isDraging",!1),Ft(this,"isStartDraging",!1),Ft(this,"startX",0),Ft(this,"startY",0),Ft(this,"sumDeltaX",0),Ft(this,"sumDeltaY",0),Ft(this,"eventType",void 0),Ft(this,"eventCenter",void 0),Ft(this,"model",void 0),Ft(this,"startTime",void 0),Ft(this,"isGrag",void 0),Ft(this,"handleMouseDown",function(xe){var Pe,He;if(xe.button===Gh){t.isStopPropagation&&xe.stopPropagation(),t.isStartDraging=!0,t.startX=xe.clientX,t.startY=xe.clientY,Wr.addEventListener("mousemove",t.handleMouseMove,!1),Wr.addEventListener("mouseup",t.handleMouseUp,!1);var Ce=(Pe=t.model)===null||Pe===void 0?void 0:Pe.getData();(He=t.eventCenter)===null||He===void 0||He.emit(at["".concat(t.eventType,"_MOUSEDOWN")],{e:xe,data:Ce}),t.startTime=new Date().getTime()}}),Ft(this,"handleMouseMove",function(xe){if(t.isStopPropagation&&xe.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=xe.clientX-t.startX,t.sumDeltaY+=xe.clientY-t.startY,t.startX=xe.clientX,t.startY=xe.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Pe,He=t.sumDeltaX%t.step,Ce=t.sumDeltaY%t.step,et=t.sumDeltaX-He,Ge=t.sumDeltaY-Ce;t.sumDeltaX=He,t.sumDeltaY=Ce;var ht=(Pe=t.model)===null||Pe===void 0?void 0:Pe.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(at["".concat(t.eventType,"_DRAGSTART")],{e:xe,data:ht}),t.onDragStart({event:xe})}t.isDraging=!0,Promise.resolve().then(function(){var lr,Er;t.onDraging({deltaX:et,deltaY:Ge,event:xe}),(lr=t.eventCenter)===null||lr===void 0||lr.emit(at["".concat(t.eventType,"_MOUSEMOVE")],{e:xe,data:ht}),(Er=t.eventCenter)===null||Er===void 0||Er.emit(at["".concat(t.eventType,"_DRAG")],{e:xe,data:ht})})}}),Ft(this,"handleMouseUp",function(xe){t.isStartDraging=!1,t.isStopPropagation&&xe.stopPropagation(),Promise.resolve().then(function(){var Pe,He,Ce;Wr.removeEventListener("mousemove",t.handleMouseMove,!1),Wr.removeEventListener("mouseup",t.handleMouseUp,!1);var et=(Pe=t.model)===null||Pe===void 0?void 0:Pe.getData();(He=t.eventCenter)===null||He===void 0||He.emit(at["".concat(t.eventType,"_MOUSEUP")],{e:xe,data:et}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:xe}),(Ce=t.eventCenter)===null||Ce===void 0||Ce.emit(at["".concat(t.eventType,"_DROP")],{e:xe,data:et}))})}),Ft(this,"cancelDrag",function(){Wr.removeEventListener("mousemove",t.handleMouseMove,!1),Wr.removeEventListener("mouseup",t.handleMouseUp,!1),t.isDraging=!1}),this.onDragStart=o,this.onDraging=l,this.onDragEnd=y,this.step=Q,this.isStopPropagation=ie,this.eventType=w,this.eventCenter=B,this.model=Ne}return AT(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),NT=function(r){return!r||typeof r=="boolean"?jt(r===!0?NP:Wp):Ip(jt(Wp),r)},he,kh,$h,Uh,Xh,Yh,Wh,Vh,Kh,Zh,Jh,Qh,qh;function ev(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Xa(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ev(Object(t),!0).forEach(function(n){Vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ev(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Mf(e,r){return CT(e)||jT(e,r)||tv(e,r)||DT()}function DT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function CT(e){if(Array.isArray(e))return e}function No(e){return _T(e)||IT(e)||tv(e)||RT()}function RT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tv(e,r){if(!!e){if(typeof e=="string")return wf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wf(e,r)}}function IT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _T(e){if(Array.isArray(e))return wf(e)}function wf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gi=function(t){return typeof t}:gi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gi(e)}function Ar(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function BT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LT(e,r,t){return r&&rv(e.prototype,r),t&&rv(e,t),e}function Vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ze(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ya=200,nv=(he=function(){function e(r){BT(this,e),Vr(this,"rootEl",void 0),Ar(this,"width",kh,this),Ar(this,"height",$h,this),Vr(this,"theme",void 0),Vr(this,"eventCenter",void 0),Vr(this,"modelMap",new Map),Vr(this,"topElement",void 0),Vr(this,"animation",void 0),Vr(this,"idGenerator",void 0),Vr(this,"edgeGenerator",void 0),Vr(this,"nodeMoveRules",[]),Ar(this,"edgeType",Uh,this),Ar(this,"nodes",Xh,this),Ar(this,"edges",Yh,this),Ar(this,"overlapMode",Wh,this),Ar(this,"background",Vh,this),Ar(this,"transformModel",Kh,this),Ar(this,"editConfigModel",Zh,this),Ar(this,"gridSize",Jh,this),Ar(this,"partial",Qh,this),Ar(this,"fakerNode",qh,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,l=r.idGenerator,p=r.edgeGenerator,y=r.animation;this.background=o,gi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new up(r),this.eventCenter=new lP,this.transformModel=new Wx(this.eventCenter),this.theme=_p(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=NT(y),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=l,this.edgeGenerator=TT(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return LT(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(No(this.nodes),No(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(w){return t.push(w)}),this.edges.forEach(function(w){return t.push(w)}),t=t.sort(function(w,C){return w.zIndex-C.zIndex});for(var n=[],o=-1,a=[-Ya,-Ya],l=[this.width+Ya,this.height+Ya],p=0;p<t.length;p++){var y=t[p];y.visible&&(!this.partial||y.isSelected||this.isElementInArea(y,a,l,!1,!1))&&(y.zIndex===sp&&(o=n.length),n.push(y))}if(o!==-1){var E=n[n.length-1];n[n.length-1]=n[o],n[o]=E}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],y=[];this.nodes.forEach(function(C){return y.push(C)}),this.edges.forEach(function(C){return y.push(C)});for(var E=0;E<y.length;E++){var w=y[E];(!l||w.visible)&&this.isElementInArea(w,t,n,o,a)&&p.push(w)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),l={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),y=Mf(p,2),E=y[0],w=y[1];return{domOverlayPosition:l,canvasOverlayPosition:{x:E,y:w}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Gt.NODE){t=t;for(var p=br(t),y=p.minX,E=p.minY,w=p.maxX,C=p.maxY,B=[{x:y,y:E},{x:w,y:E},{x:w,y:C},{x:y,y:C}],$=l,Q=0;Q<B.length;Q++){var oe=B[Q],ie=oe.x,ce=oe.y,Ne=this.transformModel.CanvasPointToHtmlPoint([ie,ce]),xe=Mf(Ne,2);if(ie=xe[0],ce=xe[1],af([ie,ce],n,o)!==l){$=!l;break}}return $}if(t.BaseType===Gt.EDGE){t=t;var Pe=t,He=Pe.startPoint,Ce=Pe.endPoint,et=this.transformModel.CanvasPointToHtmlPoint([He.x,He.y]),Ge=this.transformModel.CanvasPointToHtmlPoint([Ce.x,Ce.y]),ht=af(et,n,o),yt=af(Ge,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Sa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,p=o.y;return l&&p&&(o.x=Po(l,n.gridSize),o.y=Po(p,n.gridSize),gi(o.text)==="object"&&(o.text.x-=Lp(l,n.gridSize),o.text.y-=Lp(p,n.gridSize))),new a(o,n)}),this.edges=Sa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var l=!1,p=[],y=0;y<this.edges.length;y++){var E=this.edges[y];if(E.isDragging){l=!0;break}else p.push(E.getHistoryData())}return l?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],l=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(l||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Gt.NODE&&o.nodes.push(a.getData()),a.BaseType===Gt.EDGE){var l=a.getData(),p=n.get(l.sourceNodeId)&&n.get(l.targetNodeId);(t||p)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=qn()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=qn()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&(o.id=n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===mr.DEFAULT){var l;(l=this.topElement)===null||l===void 0||l.setZIndex(),a.setZIndex(sp),this.topElement=a}this.overlapMode===mr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,l=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(l){var p;typeof n=="number"&&(p=n),n==="top"&&(p=df()),n==="bottom"&&(p=RP()),l.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(at.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=er(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new o(n,this);this.nodes.push(a);var l=a.getData();return this.eventCenter.emit(at.NODE_ADD,{data:l}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=l.model,y=p.getMoveDistance(n,o,a),E=Mf(y,2);n=E[0],o=E[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,l=this.nodesMap[t];if(!l){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=l.model,y=p.x,E=p.y,w=n-y,C=o-E;this.moveNode(t,w,C,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=er(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new a(Xa(Xa({},n),{},{type:o}),this),p=l.getData();return this.edges.push(l),this.eventCenter.emit(at.EDGE_ADD,{data:p}),l}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var l=this.edges[a],p=l.textPosition,y=p.x,E=p.y,w=this.edges[a].sourceNodeId===t,C=this.edges[a].targetNodeId===t;if(w&&l.moveStartPoint(n,o),C&&l.moveEndPoint(n,o),w||C){var B;if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===dt.POLYLINE_EDGE&&(B=l.text)!==null&&B!==void 0&&B.value){var $=l.text,Q=zh($,l.points);l.moveText(Q.x-$.x,Q.y-$.y)}else{var oe=l.textPosition,ie=oe.x,ce=oe.y;l.moveText(ie-y,ce-E)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(at.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(at.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(at.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(at.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===mr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,l)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new l(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var y=this.getNodeEdges(t);y.forEach(function(E){if(E.sourceNodeId===t){var w=Xp(p,E.startPoint,p.width,p.height);E.updateStartPoint(w)}if(E.targetNodeId===t){var C=Xp(p,E.endPoint,p.width,p.height);E.updateEndPoint(C)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var l=this.getModel(n);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new l(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=_p(Xa(Xa({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function($){var Q=$.x,oe=$.y,ie=$.width,ce=$.height,Ne=$.getNodeStyle(),xe=Ne.strokeWidth,Pe=xe===void 0?0:xe;n=n.concat([Q+ie/2+Pe,Q-ie/2-Pe]),o=o.concat([oe+ce/2+Pe,oe-ce/2-Pe])});var a=Math.min.apply(Math,No(n)),l=Math.max.apply(Math,No(n)),p=Math.min.apply(Math,No(o)),y=Math.max.apply(Math,No(o)),E=l-a||0,w=y-p||0,C=a+E/2,B=p+w/2;return{virtualRectWidth:E,virtualRectHeight:w,virtualRectCenterPositionX:C,virtualRectCenterPositionY:B}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,l=this.transformModel;if(!!t.length){var p=n||a.clientWidth,y=o||a.clientHeight,E=this.getVirtualRectSize(),w=E.virtualRectCenterPositionX,C=E.virtualRectCenterPositionY;l.focusOn(w,C,p,y)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,l=this.height,p=this.rootEl,y=this.transformModel;if(!!o.length){var E=a||p.clientWidth,w=l||p.clientHeight,C=this.getVirtualRectSize(),B=C.virtualRectWidth,$=C.virtualRectHeight,Q=C.virtualRectCenterPositionX,oe=C.virtualRectCenterPositionY,ie=(B+n)/E,ce=($+t)/w,Ne=0;Ne=1/Math.max(ie,ce);var xe=[E/2,w/2];y.zoom(Ne,xe),y.focusOn(Q,oe,E,w)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),kh=Ze(he.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=Ze(he.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=Ze(he.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Ze(he.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yh=Ze(he.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wh=Ze(he.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mr.DEFAULT}}),Vh=Ze(he.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kh=Ze(he.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Ze(he.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ze(he.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qh=Ze(he.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qh=Ze(he.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze(he.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"nodesMap"),he.prototype),Ze(he.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"edgesMap"),he.prototype),Ze(he.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"modelsMap"),he.prototype),Ze(he.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"sortElements"),he.prototype),Ze(he.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"textEditElement"),he.prototype),Ze(he.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"selectElements"),he.prototype),Ze(he.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setFakerNode"),he.prototype),Ze(he.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"removeFakerNode"),he.prototype),Ze(he.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setModel"),he.prototype),Ze(he.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"toFront"),he.prototype),Ze(he.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementZIndex"),he.prototype),Ze(he.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteNode"),he.prototype),Ze(he.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"addNode"),he.prototype),Ze(he.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"cloneNode"),he.prototype),Ze(he.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode"),he.prototype),Ze(he.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode2Coordinate"),he.prototype),Ze(he.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"editText"),he.prototype),Ze(he.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"addEdge"),he.prototype),Ze(he.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveEdge"),he.prototype),Ze(he.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySourceAndTarget"),he.prototype),Ze(he.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeById"),he.prototype),Ze(he.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySource"),he.prototype),Ze(he.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeByTarget"),he.prototype),Ze(he.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementStateById"),he.prototype),Ze(he.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"updateText"),he.prototype),Ze(he.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"selectNodeById"),he.prototype),Ze(he.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"selectEdgeById"),he.prototype),Ze(he.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"selectElementById"),he.prototype),Ze(he.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"clearSelectElements"),he.prototype),Ze(he.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNodes"),he.prototype),Ze(he.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setDefaultEdgeType"),he.prototype),Ze(he.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"changeNodeType"),he.prototype),Ze(he.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"changeEdgeType"),he.prototype),Ze(he.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingEdge"),he.prototype),Ze(he.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingEdge"),he.prototype),Ze(he.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingNode"),he.prototype),Ze(he.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingNode"),he.prototype),Ze(he.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setTheme"),he.prototype),Ze(he.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"resize"),he.prototype),Ze(he.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"clearData"),he.prototype),Ze(he.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"translateCenter"),he.prototype),Ze(he.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"fitView"),he.prototype),Ze(he.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"openEdgeAnimation"),he.prototype),Ze(he.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"closeEdgeAnimation"),he.prototype),he),zT=nv;function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(t){return typeof t}:Wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}var ov;function Af(){return Af=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Af.apply(this,arguments)}function FT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HT(e,r,t){return r&&iv(e.prototype,r),t&&iv(e,t),e}function GT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nf(e,r)}function Nf(e,r){return Nf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nf(e,r)}function kT(e){var r=UT();return function(){var n=Va(e),o;if(r){var a=Va(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $T(this,o)}}function $T(e,r){if(r&&(Wa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kr(e)}function Kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var XT=Gr(ov=function(e){GT(t,e);var r=kT(t);function t(n){var o;FT(this,t),o=r.call(this),cn(Kr(o),"stepDrag",void 0),cn(Kr(o),"stepScrollX",0),cn(Kr(o),"stepScrollY",0),cn(Kr(o),"onDraging",function(y){var E=y.deltaX,w=y.deltaY;o.setState({isDraging:!0});var C=o.props.graphModel,B=C.transformModel,$=C.editConfigModel;$.stopMoveGraph||B.translate(E,w)}),cn(Kr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),cn(Kr(o),"zoomHandler",function(y){var E=o.props,w=E.graphModel,C=w.editConfigModel,B=w.transformModel,$=w.gridSize,Q=E.graphModel,oe=y.deltaX,ie=y.deltaY;if(!C.stopScrollGraph&&y.ctrlKey!==!0){if(y.preventDefault(),o.stepScrollX+=oe,o.stepScrollY+=ie,Math.abs(o.stepScrollX)>=$){var ce=o.stepScrollX%$,Ne=o.stepScrollX-ce;B.translate(-Ne*B.SCALE_X,0),o.stepScrollX=ce}if(Math.abs(o.stepScrollY)>=$){var xe=o.stepScrollY%$,Pe=o.stepScrollY-xe;B.translate(0,-Pe*B.SCALE_Y),o.stepScrollY=xe}return}if(!C.stopZoomGraph){y.preventDefault();var He=Q.getPointByClient({x:y.clientX,y:y.clientY}),Ce=He.canvasOverlayPosition,et=Ce.x,Ge=Ce.y;B.zoom(y.deltaY<0,[et,Ge])}}),cn(Kr(o),"clickHandler",function(y){var E=y.target;if(E.getAttribute("name")==="canvas-overlay"){var w=o.props.graphModel,C=w.selectElements;C.size>0&&w.clearSelectElements(),w.eventCenter.emit(at.BLANK_CLICK,{e:y})}}),cn(Kr(o),"handleContextMenu",function(y){var E=y.target;if(E.getAttribute("name")==="canvas-overlay"){y.preventDefault();var w=o.props.graphModel,C=w.getPointByClient({x:y.clientX,y:y.clientY});w.eventCenter.emit(at.BLANK_CONTEXTMENU,{e:y,position:C})}}),cn(Kr(o),"mouseDownHandler",function(y){var E=o.props.graphModel,w=E.eventCenter,C=E.editConfigModel,B=E.transformModel.SCALE_X,$=E.gridSize,Q=y.target,oe=!C.adjustEdge&&!C.adjustNodePosition;(Q.getAttribute("name")==="canvas-overlay"||oe)&&(C.stopMoveGraph?w.emit(at.BLANK_MOUSEDOWN,{e:y}):(o.stepDrag.setStep($*B),o.stepDrag.handleMouseDown(y)),o.clickHandler(y))});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new eo({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return HT(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props,y=p.children,E=p.dnd,w=this.state.isDraging;return Object(ne.g)("svg",Af({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:w?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(ne.g)("g",{transform:l},y))}}]),t}(ne.a))||ov,YT=XT;function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(t){return typeof t}:Ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}var av;function WT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VT(e,r,t){return r&&uv(e.prototype,r),t&&uv(e,t),e}function KT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function ZT(e){var r=QT();return function(){var n=Za(e),o;if(r){var a=Za(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JT(this,o)}}function JT(e,r){if(r&&(Ka(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lv(e)}function lv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Za(e){return Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Za(e)}function qT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var eM=Gr(av=function(e){KT(t,e);var r=ZT(t);function t(){var n;WT(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),qT(lv(n),"setToolOverlayRef",function(p){var y=n.props.tool,E=y.getInstance();E.components.forEach(function(w){return w(E,p)}),E.components=[]}),n}return VT(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,l=o.graphModel,p=a.getTools(),y=p.map(function(E){return Object(ne.g)(E,{graphModel:l,logicFlow:a.instance})});return a.components=y,y}},{key:"render",value:function(){return Object(ne.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(ne.a))||av;function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(t){return typeof t}:Ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function tM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rM(e,r,t){return r&&sv(e.prototype,r),t&&sv(e,t),e}function nM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function oM(e){var r=uM();return function(){var n=Qa(e),o;if(r){var a=Qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iM(this,o)}}function iM(e,r){if(r&&(Ja(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aM(e)}function aM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}var lM=function(e){nM(t,e);var r=oM(t);function t(){return tM(this,t),r.apply(this,arguments)}return rM(t,[{key:"render",value:function(){var o=this.props.background;return Object(ne.g)("div",{className:"lf-background"},Object(ne.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ne.a);function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}var fv;function sM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fM(e,r,t){return r&&cv(e.prototype,r),t&&cv(e,t),e}function cM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function dM(e){var r=hM();return function(){var n=eu(e),o;if(r){var a=eu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pM(this,o)}}function pM(e,r){if(r&&(qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dv(e)}function dv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}function vM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pv=Gr(fv=function(e){cM(t,e);var r=dM(t);function t(){var n;sM(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),vM(dv(n),"id",qn()),n}return fM(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,y=p===void 0?2:p,E=o.size,w=o.visible,C=Math.min(Math.max(2,y),E/2),B=1;return w||(B=0),Object(ne.g)("rect",{width:C,height:C,rx:C/2,ry:C/2,fill:l,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,l=a.color,p=a.thickness,y=p===void 0?1:p,E=o.size,w=o.visible,C=Math.min(Math.max(1,y),E/2),B="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),$=1;return w||($=0),Object(ne.g)("path",{d:B,stroke:l,strokeWidth:C,opacity:$})}},{key:"render",value:function(){var o=this.props,a=o.type,l=o.size,p=o.graphModel.transformModel,y=p.SCALE_X,E=p.SKEW_Y,w=p.SKEW_X,C=p.SCALE_Y,B=p.TRANSLATE_X,$=p.TRANSLATE_Y,Q=[y,E,w,C,B,$].join(","),oe="matrix(".concat(Q,")");return Object(ne.g)("div",{className:"lf-grid"},Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ne.g)("defs",null,Object(ne.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:oe,x:"0",y:"0",width:l,height:l},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ne.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ne.a))||fv;pv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(t){return typeof t}:tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function yM(e,r){return OM(e)||bM(e,r)||mM(e,r)||gM()}function gM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mM(e,r){if(!!e){if(typeof e=="string")return hv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hv(e,r)}}function hv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function OM(e){if(Array.isArray(e))return e}function EM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=yM(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=tu(a);l!=="object"&&(r[o]=a)}}),Object(ne.g)("line",r)}var to=EM;function ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(t){return typeof t}:ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}var vv;function yv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function nu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yv(Object(t),!0).forEach(function(n){xM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function SM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PM(e,r,t){return r&&gv(e.prototype,r),t&&gv(e,t),e}function TM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function MM(e){var r=NM();return function(){var n=ou(e),o;if(r){var a=ou(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wM(this,o)}}function wM(e,r){if(r&&(ru(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AM(e)}function AM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(e)}var DM=Gr(vv=function(e){TM(t,e);var r=MM(t);function t(){return SM(this,t),r.apply(this,arguments)}return PM(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,l=o.isShowHorizontal,p=o.isShowVertical,y=o.getStyle(),E=a.x,w=E===void 0?0:E,C=a.y,B=C===void 0?0:C,$=nu(nu({x1:-1e5,y1:B,x2:1e5,y2:B},y),{},{stroke:l?y.stroke:"none"}),Q=nu(nu({x1:w,y1:-1e5,x2:w,y2:1e5},y),{},{stroke:p?y.stroke:"none"});return Object(ne.g)("g",{className:"lf-snapline"},Object(ne.g)(to,$),Object(ne.g)(to,Q))}}]),t}(ne.a))||vv;function iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(t){return typeof t}:iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function jM(e,r){return _M(e)||IM(e,r)||RM(e,r)||CM()}function CM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RM(e,r){if(!!e){if(typeof e=="string")return mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mv(e,r)}}function mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function IM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function _M(e){if(Array.isArray(e))return e}function Rn(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,l=e.radius,p=r-n/2,y=t-o/2,E={};return Object.entries(e).forEach(function(w){var C=jM(w,2),B=C[0],$=C[1],Q=iu($);Q!=="object"&&(E[B]=$)}),a?E.className="lf-basic-shape ".concat(a):E.className="lf-basic-shape",l&&(E.rx=l,E.ry=l),E.x=p,E.y=y,Object(ne.g)("rect",E)}Rn.defaultProps={className:"",radius:""};function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}var bv;function Do(){return Do=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Do.apply(this,arguments)}function Ov(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ev(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ov(Object(t),!0).forEach(function(n){BM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ov(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function BM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function LM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zM(e,r,t){return r&&xv(e.prototype,r),t&&xv(e,t),e}function FM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function HM(e){var r=$M();return function(){var n=uu(e),o;if(r){var a=uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GM(this,o)}}function GM(e,r){if(r&&(au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kM(e)}function kM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},uu(e)}var UM=Gr(bv=function(e){FM(t,e);var r=HM(t);function t(){return LM(this,t),r.apply(this,arguments)}return zM(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,l=o.editConfigModel,p=l.hoverOutline,y=l.nodeSelectedOutline,E=[];return a.forEach(function(w){if(w.isHovered||w.isSelected){var C=w.isHovered,B=w.isSelected,$=w.x,Q=w.y,oe=w.width,ie=w.height;if(y&&B||p&&C){var ce=w.getOutlineStyle(),Ne={};if(Object.keys(ce).forEach(function(Pe){Pe!=="hover"&&(Ne[Pe]=ce[Pe])}),C){var xe=ce.hover;Ne=Ev(Ev({},Ne),xe)}E.push(Object(ne.g)(Rn,Do({className:"lf-outline-node",x:$,y:Q,width:oe+10,height:ie+10},Ne)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,l=o.editConfigModel,p=l.edgeSelectedOutline,y=l.hoverOutline,E=[],w=0;w<a.length;w++){var C=a[w];(p&&C.isSelected||y&&C.isHovered)&&(C.modelType===dt.LINE_EDGE?E.push(this.getLineOutline(C)):C.modelType===dt.POLYLINE_EDGE?E.push(this.getPolylineOutline(C)):C.modelType===dt.BEZIER_EDGE&&E.push(this.getBezierOutline(C)))}return E}},{key:"getLineOutline",value:function(o){var a=o.startPoint,l=o.endPoint,p=(a.x+l.x)/2,y=(a.y+l.y)/2,E=Math.abs(a.x-l.x)+10,w=Math.abs(a.y-l.y)+10,C=o.getOutlineStyle();return Object(ne.g)(Rn,Do({className:"lf-outline-edge",x:p,y,width:E,height:w},C))}},{key:"getPolylineOutline",value:function(o){var a=o.points,l=wo(a),p=vi(l,8),y=p.x,E=p.y,w=p.width,C=p.height,B=o.getOutlineStyle();return Object(ne.g)(Rn,Do({className:"lf-outline",x:y,y:E,width:w,height:C},B))}},{key:"getBezierOutline",value:function(o){var a=o.path,l=$a(a),p=vi(l,8),y=p.x,E=p.y,w=p.width,C=p.height,B=o.getOutlineStyle();return Object(ne.g)(Rn,Do({className:"lf-outline",x:y,y:E,width:w,height:C},B))}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ne.a))||bv;function lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(t){return typeof t}:lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function XM(e,r){return KM(e)||VM(e,r)||WM(e,r)||YM()}function YM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WM(e,r){if(!!e){if(typeof e=="string")return Sv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sv(e,r)}}function Sv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function KM(e){if(Array.isArray(e))return e}function mi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,l=a===void 0?4:a,p=e.className,y={cx:t,cy:o,r:l,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var w=XM(E,2),C=w[0],B=w[1],$=lu(B);$!=="object"&&(y[C]=B)}),p?y.className="lf-basic-shape ".concat(p):y.className="lf-basic-shape",Object(ne.g)("circle",y)}function su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(t){return typeof t}:su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}var Pv;function ZM(e,r){return ew(e)||qM(e,r)||QM(e,r)||JM()}function JM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(e,r){if(!!e){if(typeof e=="string")return Tv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tv(e,r)}}function Tv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ew(e){if(Array.isArray(e))return e}function bi(){return bi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bi.apply(this,arguments)}function Mv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Av(e,r,t){return r&&wv(e.prototype,r),t&&wv(e,t),e}function Nv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function Dv(e){var r=rw();return function(){var n=cu(e),o;if(r){var a=cu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return tw(this,o)}}function tw(e,r){if(r&&(su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fu(e)}function fu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(e)}function Bf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var jv=function(e){Nv(t,e);var r=Dv(t);function t(){var n;return Mv(this,t),n=r.call(this),Bf(fu(n),"dragHandler",void 0),Bf(fu(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,y=l.bezierModel,E=l.type,w=p.getPointByClient({x:a.clientX,y:a.clientY}),C=w.canvasOverlayPosition,B=C.x,$=C.y;y.updateAdjustAnchor({x:B,y:$},E)}),Bf(fu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new eo({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Av(t,[{key:"render",value:function(){var o=this,a=this.props.position,l=a.x,p=a.y,y=this.props.bezierModel,E=y.getEdgeStyle(),w=E.adjustAnchor;return Object(ne.g)(mi,bi({className:"lf-bezier-adjust-anchor",x:l,y:p},w,{onMouseDown:function(B){o.dragHandler.handleMouseDown(B)}}))}}]),t}(ne.a),nw=Gr(Pv=function(e){Nv(t,e);var r=Dv(t);function t(){return Mv(this,t),r.apply(this,arguments)}return Av(t,[{key:"getBezierAdjust",value:function(o,a){var l=o.path,p=o.id,y=$a(l),E=ZM(y,4),w=E[0],C=E[1],B=E[2],$=E[3],Q=o.getEdgeStyle(),oe=Q.adjustLine,ie=[];return ie.push(Object(ne.g)(to,bi({x1:w.x,y1:w.y,x2:C.x,y2:C.y},oe))),ie.push(Object(ne.g)(jv,{position:C,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),ie.push(Object(ne.g)(to,bi({x1:$.x,y1:$.y,x2:B.x,y2:B.y},oe))),ie.push(Object(ne.g)(jv,{position:B,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),ie}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,l=[],p=0;p<a.length;p++){var y=a[p];y.isSelected&&y.modelType===dt.BEZIER_EDGE&&y.draggable&&l.push(this.getBezierAdjust(y,o))}return l}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ne.a))||Pv;function du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(t){return typeof t}:du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}var Cv;function ow(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iw(e,r,t){return r&&Rv(e.prototype,r),t&&Rv(e,t),e}function aw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lf(e,r)}function uw(e){var r=fw();return function(){var n=pu(e),o;if(r){var a=pu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lw(this,o)}}function lw(e,r){if(r&&(du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sw(e)}function sw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pu(e){return pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},pu(e)}var cw=Gr(Cv=function(e){aw(t,e);var r=uw(t);function t(){return ow(this,t),r.apply(this,arguments)}return iw(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),l=a.transform,p=this.props.children;return Object(ne.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ne.g)("g",{transform:l},p))}}]),t}(ne.a))||Cv;function hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hu=function(t){return typeof t}:hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}var Iv;function zf(){return zf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},zf.apply(this,arguments)}function dw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pw(e,r,t){return r&&_v(e.prototype,r),t&&_v(e,t),e}function hw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ff(e,r)}function Ff(e,r){return Ff=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ff(e,r)}function vw(e){var r=mw();return function(){var n=vu(e),o;if(r){var a=vu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return yw(this,o)}}function yw(e,r){if(r&&(hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gw(e)}function gw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(e)}var bw=Gr(Iv=function(e){hw(t,e);var r=vw(t);function t(){return dw(this,t),r.apply(this,arguments)}return pw(t,[{key:"getComponent",value:function(o,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,y=p(o.type);return Object(ne.g)(y,{key:o.id,model:o,graphModel:a,overlay:l})}},{key:"render",value:function(){var o=this,a=this.props,l=a.graphModel,p=a.tool,y=a.options,E=a.dnd,w=a.snaplineModel,C={};y.width&&(C.width="".concat(l.width,"px")),y.height&&(C.height="".concat(l.height,"px"));var B=l.fakerNode,$=l.editConfigModel,Q=$.adjustEdge;return Object(ne.g)("div",{className:"lf-graph",style:C},Object(ne.g)(YT,{graphModel:l,dnd:E},Object(ne.g)("g",{className:"lf-base"},Sa(l.sortElements,function(oe){return o.getComponent(oe,l)})),B?this.getComponent(B,l):""),Object(ne.g)(cw,{graphModel:l},Object(ne.g)(UM,{graphModel:l}),Q?Object(ne.g)(nw,{graphModel:l}):"",!y.isSilentMode&&y.snapline!==!1?Object(ne.g)(DM,{snaplineModel:w}):""),Object(ne.g)(eM,{graphModel:l,tool:p}),y.background&&Object(ne.g)(lM,{background:y.background}),y.grid&&Object(ne.g)(pv,zf({},y.grid,{graphModel:l})))}}]),t}(ne.a))||Iv,Ow=bw;function Bv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Bv(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ew(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xw(e,r,t){return r&&Lv(e.prototype,r),t&&Lv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Sw=function(){function e(r){var t=this;Ew(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(yu(yu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),l=a.x,p=a.y;t.fakerNode.moveTo(l,p);var y=t.fakerNode.getData();t.lf.setNodeSnapLine(y),t.lf.graphModel.eventCenter.emit(at.NODE_DND_DRAG,{data:y})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(yu(yu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var l=a.getData();t.lf.graphModel.eventCenter.emit(at.NODE_DND_ADD,{data:l})}});var n=r.lf;this.lf=n}return xw(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Rd(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:n,y:o}),p=l.canvasOverlayPosition,y=p.x,E=p.y;return{x:Po(y,a),y:Po(E,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function zv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=or({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),or({},Fv,e)}var Fv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gu=function(t){return typeof t}:gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}var gt,Hv;function Hf(e,r){return ww(e)||Mw(e,r)||Tw(e,r)||Pw()}function Pw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tw(e,r){if(!!e){if(typeof e=="string")return Gv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gv(e,r)}}function Gv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Mw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ww(e){if(Array.isArray(e))return e}function kv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function mu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kv(Object(t),!0).forEach(function(n){Uv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Aw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Nw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dw(e,r,t){return r&&$v(e.prototype,r),t&&$v(e,t),e}function jo(){return typeof Reflect<"u"&&Reflect.get?jo=Reflect.get:jo=function(r,t,n){var o=jw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},jo.apply(this,arguments)}function jw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=In(e),e!==null););return e}function Cw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function Rw(e){var r=_w();return function(){var n=In(e),o;if(r){var a=In(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Iw(this,o)}}function Iw(e,r){if(r&&(gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bu(e)}function bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function In(e){return In=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},In(e)}function Uv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _r(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var kf=(gt=function(e){Cw(t,e);var r=Rw(t);function t(){var n;Nw(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Uv(bu(n),"modelType",dt.BEZIER_EDGE),Aw(bu(n),"path",Hv,bu(n)),n}return Dw(t,[{key:"initEdgeData",value:function(o){this.offset=100,jo(In(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=jo(In(t.prototype),"getEdgeStyle",this).call(this);return mu(mu({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(l){var p=l.x,y=l.y;o+=p,a+=y}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=jo(In(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(l){var p=l.x,y=l.y;return{x:p,y}});return mu(mu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,l=Lh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return l}},{key:"getPath",value:function(o){var a=Hf(o,4),l=a[0],p=a[1],y=a[2],E=a[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(y.x," ").concat(y.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,l=o.ePre;this.updatePath(a,l)}},{key:"updatePath",value:function(o,a){var l={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var y=this.getControls();o=y.sNext,a=y.ePre}this.pointsList=[l,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var l=Hf(this.pointsList,3),p=l[1],y=l[2];p.x+=o,p.y+=a,this.updatePath(p,y)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var l=Hf(this.pointsList,3),p=l[1],y=l[2];y.x+=o,y.y+=a,this.updatePath(p,y)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,l=o.endPoint,p=o.sourceNode,y=o.targetNode,E=Lh({start:a,end:l,sourceNode:p,targetNode:y,offset:this.offset}),w=E.sNext,C=E.ePre;this.pointsList=[a,w,C,l],this.initPoints()}}]),t}(hf),Hv=_r(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),_r(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),_r(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),_r(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),_r(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),_r(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),_r(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),_r(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),_r(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),_r(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function Bw(e){return e==null}var Lw=Bw,Le,Xv,Yv,Wv,Vv,Kv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,ly;function Ou(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ou=function(t){return typeof t}:Ou=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function zw(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Fw(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,l=!1,p;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return a=E.done,E},e:function(E){l=!0,p=E},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(l)throw p}}}}function Fw(e,r){if(!!e){if(typeof e=="string")return sy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sy(e,r)}}function sy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fy(Object(t),!0).forEach(function(n){cr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Yt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Hw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gw(e,r,t){return r&&cy(e.prototype,r),t&&cy(e,t),e}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Le=function(){function e(r,t){Hw(this,e),cr(this,"id",qn()),Yt(this,"type",Xv,this),Yt(this,"x",Yv,this),Yt(this,"y",Wv,this),Yt(this,"text",Vv,this),Yt(this,"properties",Kv,this),Yt(this,"_width",Zv,this),Yt(this,"_height",Jv,this),Yt(this,"anchorsOffset",Qv,this),Yt(this,"isSelected",qv,this),Yt(this,"isHovered",ey,this),Yt(this,"isDragging",ty,this),Yt(this,"isHitable",ry,this),Yt(this,"draggable",ny,this),Yt(this,"visible",oy,this),cr(this,"virtual",!1),cr(this,"graphModel",void 0),Yt(this,"zIndex",iy,this),Yt(this,"state",ay,this),Yt(this,"autoToFront",uy,this),Yt(this,"style",ly,this),cr(this,"BaseType",Gt.NODE),cr(this,"modelType",dt.NODE),cr(this,"additionStateData",void 0),cr(this,"targetRules",[]),cr(this,"sourceRules",[]),cr(this,"moveRules",[]),cr(this,"hasSetTargetRules",!1),cr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return Gw(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),or(this,AP(t));var l=this.graphModel.overlapMode;l===mr.INCREASE&&(this.zIndex=t.zIndex||df())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,l=this.properties;Object(f.x)(l)&&(l=Object(f.I)(l));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===mr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ar(ar({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l=!0,p,y=0;y<a.length;y++){var E=a[y];if(!E.validate.call(this,this,t,n,o)){l=!1,p=E.message;break}}return{isAllPass:l,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l=!0,p,y=0;y<a.length;y++){var E=a[y];if(!E.validate.call(this,t,this,n,o)){l=!1,p=E.message;break}}return{isAllPass:l,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,l=this.moveRules.concat(this.graphModel.nodeMoveRules),p=zw(l),y;try{for(p.s();!(y=p.n()).done;){var E=y.value,w=E(this,t,n);if(!w)return!1;if(Ou(w)==="object"){var C=w;if(C.x===!1&&C.y===!1)return!1;o=o&&C.x,a=a&&C.y}}}catch(B){p.e(B)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(l,p){return l.length?(l=l,{id:"".concat(n,"_").concat(p),x:o+l[0],y:a+l[1]}):(l=l,ar(ar({},l),{},{x:o+l.x,y:a+l.y,id:l.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Lw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1;if(o)a=!0,l=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,l=p):(a=p.x,l=p.y)}if(a){var y=this.x+t;this.x=y,this.text&&this.moveText(t,0)}if(l){var E=this.y+n;this.y=E,this.text&&this.moveText(0,n)}return a||l}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,l=!1,p=0,y=0;if(o)a=!0,l=!0;else{var E=this.isAllowMoveNode(t,n);typeof E=="boolean"?(a=E,l=E):(a=E.x,l=E.y)}if(a&&t){var w=this.x+t;this.x=w,this.text&&this.moveText(t,0),p=t}if(l&&n){var C=this.y+n;this.y=C,this.text&&this.moveText(0,n),y=n}return[p,y]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,l=n-this.y;return!o&&!this.isAllowMoveNode(a,l)?!1:(this.text&&this.text&&this.moveText(a,l),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,l=o.y,p=o.value,y=o.draggable,E=o.editable;this.text={value:p,editable:E,draggable:y,x:a+t,y:l+n}}},{key:"updateText",value:function(t){this.text=ar(ar({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ar(ar({},this.properties),{},cr({},t,er(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ar(ar({},this.properties),er(t)),this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ar(ar({},this.style),{},cr({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=ar(ar({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=ar({},er(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){or(this,t)}}]),e}(),Xv=pt(Le.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yv=pt(Le.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wv=pt(Le.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vv=pt(Le.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Kv=pt(Le.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Zv=pt(Le.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Jv=pt(Le.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Qv=pt(Le.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qv=pt(Le.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ey=pt(Le.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ty=pt(Le.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=pt(Le.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ny=pt(Le.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oy=pt(Le.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iy=pt(Le.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ay=pt(Le.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uy=pt(Le.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ly=pt(Le.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),pt(Le.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Le.prototype,"incoming"),Le.prototype),pt(Le.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Le.prototype,"outgoing"),Le.prototype),pt(Le.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"addNodeMoveRules"),Le.prototype),pt(Le.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"move"),Le.prototype),pt(Le.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"getMoveDistance"),Le.prototype),pt(Le.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"moveTo"),Le.prototype),pt(Le.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"moveText"),Le.prototype),pt(Le.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateText"),Le.prototype),pt(Le.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setSelected"),Le.prototype),pt(Le.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setHovered"),Le.prototype),pt(Le.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setHitable"),Le.prototype),pt(Le.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setElementState"),Le.prototype),pt(Le.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setProperty"),Le.prototype),pt(Le.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setProperties"),Le.prototype),pt(Le.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setStyle"),Le.prototype),pt(Le.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setStyles"),Le.prototype),pt(Le.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateStyles"),Le.prototype),pt(Le.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"setZIndex"),Le.prototype),pt(Le.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateAttributes"),Le.prototype),Le);function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}var hn,dy;function py(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?py(Object(t),!0).forEach(function(n){yy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function $w(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Uw(e,r,t){return r&&vy(e.prototype,r),t&&vy(e,t),e}function xu(){return typeof Reflect<"u"&&Reflect.get?xu=Reflect.get:xu=function(r,t,n){var o=Xw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},xu.apply(this,arguments)}function Xw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Co(e),e!==null););return e}function Yw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$f(e,r)}function $f(e,r){return $f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$f(e,r)}function Ww(e){var r=Kw();return function(){var n=Co(e),o;if(r){var a=Co(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Vw(this,o)}}function Vw(e,r){if(r&&(Eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Su(e)}function Su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Co(e)}function yy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Uf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Xf=(hn=function(e){Yw(t,e);var r=Ww(t);function t(){var n;$w(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),yy(Su(n),"modelType",dt.CIRCLE_NODE),kw(Su(n),"r",dy,Su(n)),n}return Uw(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=xu(Co(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return hy(hy({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.r;return[{x:o,y:a-l,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+l,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),dy=Uf(hn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Uf(hn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Uf(hn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}var tr,gy,my;function Yf(e,r){return qw(e)||Qw(e,r)||Jw(e,r)||Zw()}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jw(e,r){if(!!e){if(typeof e=="string")return by(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return by(e,r)}}function by(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Qw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function qw(e){if(Array.isArray(e))return e}function Oy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ey(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Oy(Object(t),!0).forEach(function(n){Py(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function eA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tA(e,r,t){return r&&Sy(e.prototype,r),t&&Sy(e,t),e}function Tu(){return typeof Reflect<"u"&&Reflect.get?Tu=Reflect.get:Tu=function(r,t,n){var o=rA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Tu.apply(this,arguments)}function rA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Io(e),e!==null););return e}function nA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wf(e,r)}function Wf(e,r){return Wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wf(e,r)}function oA(e){var r=aA();return function(){var n=Io(e),o;if(r){var a=Io(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iA(this,o)}}function iA(e,r){if(r&&(Pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(e)}function Ro(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Io(e)}function Py(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _o(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Vf=(tr=function(e){nA(t,e);var r=oA(t);function t(){var n;eA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Py(Ro(n),"modelType",dt.DIAMOND_NODE),xy(Ro(n),"rx",gy,Ro(n)),xy(Ro(n),"ry",my,Ro(n)),n}return tA(t,[{key:"getNodeStyle",value:function(){var o=Tu(Io(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Ey(Ey({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[[o,a-p],[o+l,a],[o,a+p],[o-l,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Yf(l,1),y=p[0];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Yf(l,2),y=p[1];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,l){var p=Yf(a,2),y=p[0],E=p[1];return{x:y,y:E,id:"".concat(o.id,"_").concat(l)}})}}]),t}(pn),gy=_o(tr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),my=_o(tr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),_o(tr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"points"),tr.prototype),_o(tr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"pointsPosition"),tr.prototype),_o(tr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"width"),tr.prototype),_o(tr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"height"),tr.prototype),tr);function Mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(t){return typeof t}:Mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var Zr,Ty,My;function wy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ay(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wy(Object(t),!0).forEach(function(n){jy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ny(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function uA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lA(e,r,t){return r&&Dy(e.prototype,r),t&&Dy(e,t),e}function wu(){return typeof Reflect<"u"&&Reflect.get?wu=Reflect.get:wu=function(r,t,n){var o=sA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wu.apply(this,arguments)}function sA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Lo(e),e!==null););return e}function fA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Kf(e,r)}function Kf(e,r){return Kf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Kf(e,r)}function cA(e){var r=pA();return function(){var n=Lo(e),o;if(r){var a=Lo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dA(this,o)}}function dA(e,r){if(r&&(Mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bo(e)}function Bo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function jy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Au(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zf=(Zr=function(e){fA(t,e);var r=cA(t);function t(){var n;uA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),jy(Bo(n),"modelType",dt.ELLIPSE_NODE),Ny(Bo(n),"rx",Ty,Bo(n)),Ny(Bo(n),"ry",My,Bo(n)),n}return lA(t,[{key:"getNodeStyle",value:function(){var o=wu(Lo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Ay(Ay({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+l,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-l,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Ty=Au(Zr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),My=Au(Zr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Au(Zr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),Au(Zr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function Nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nu=function(t){return typeof t}:Nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nu(e)}var Nr,Cy;function Jf(e,r){return gA(e)||yA(e,r)||vA(e,r)||hA()}function hA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vA(e,r){if(!!e){if(typeof e=="string")return Ry(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ry(e,r)}}function Ry(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function gA(e){if(Array.isArray(e))return e}function Iy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function _y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Iy(Object(t),!0).forEach(function(n){Ly(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Iy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function bA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function By(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OA(e,r,t){return r&&By(e.prototype,r),t&&By(e,t),e}function Du(){return typeof Reflect<"u"&&Reflect.get?Du=Reflect.get:Du=function(r,t,n){var o=EA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Du.apply(this,arguments)}function EA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function xA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qf(e,r)}function Qf(e,r){return Qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Qf(e,r)}function SA(e){var r=TA();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PA(this,o)}}function PA(e,r){if(r&&(Nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ju(e)}function ju(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Ly(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var qf=(Nr=function(e){xA(t,e);var r=SA(t);function t(){var n;bA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Ly(ju(n),"modelType",dt.POLYGON_NODE),mA(ju(n),"points",Cy,ju(n)),n}return OA(t,[{key:"getNodeStyle",value:function(){var o=Du(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return _y(_y({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,l=this.width,p=this.height,y=this.points.map(function(E){return{x:E[0]+o-l/2,y:E[1]+a-p/2}});return y}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Jf(l,1),y=p[0];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var p=Jf(l,2),y=p[1];y<o&&(o=y),y>a&&(a=y)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,l=this.y,p=this.width,y=this.height,E=this.points;return E.map(function(w,C){var B=Jf(w,2),$=B[0],Q=B[1];return{x:a+$-p/2,y:l+Q-y/2,id:"".concat(o.id,"_").concat(C)}})}}]),t}(pn),Cy=Cu(Nr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Cu(Nr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"pointsPosition"),Nr.prototype),Cu(Nr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"width"),Nr.prototype),Cu(Nr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"height"),Nr.prototype),Nr);function Ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(t){return typeof t}:Ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var ec,zy;function Fy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Hy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fy(Object(t),!0).forEach(function(n){ky(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function MA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function wA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AA(e,r,t){return r&&Gy(e.prototype,r),t&&Gy(e,t),e}function Iu(){return typeof Reflect<"u"&&Reflect.get?Iu=Reflect.get:Iu=function(r,t,n){var o=NA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Iu.apply(this,arguments)}function NA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function DA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&tc(e,r)}function tc(e,r){return tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},tc(e,r)}function jA(e){var r=RA();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return CA(this,o)}}function CA(e,r){if(r&&(Ru(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _u(e)}function _u(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function ky(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IA(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var rc=(ec=function(e){DA(t,e);var r=jA(t);function t(){var n;wA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),ky(_u(n),"modelType",dt.RECT_NODE),MA(_u(n),"radius",zy,_u(n)),n}return AA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Iu(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Hy(Hy({},o),jt(a))}}]),t}(pn),zy=IA(ec.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ec);function Bu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(t){return typeof t}:Bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}var _n;function $y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$y(Object(t),!0).forEach(function(n){Wy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BA(e,r,t){return r&&Xy(e.prototype,r),t&&Xy(e,t),e}function Lu(){return typeof Reflect<"u"&&Reflect.get?Lu=Reflect.get:Lu=function(r,t,n){var o=LA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Lu.apply(this,arguments)}function LA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function zA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&nc(e,r)}function nc(e,r){return nc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},nc(e,r)}function FA(e){var r=GA();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HA(this,o)}}function HA(e,r){if(r&&(Bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yy(e)}function Yy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function Wy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Vy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var oc=(_n=function(e){zA(t,e);var r=FA(t);function t(){var n;_A(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Wy(Yy(n),"modelType",dt.TEXT_NODE),n}return BA(t,[{key:"getTextStyle",value:function(){var o=Lu(Ho(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Uy(Uy({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=cf({rows:o,fontSize:l,rowsLength:o.length}),y=p.width;return y}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),l=a.fontSize,p=cf({rows:o,fontSize:l,rowsLength:o.length}),y=p.height;return y}}]),t}(pn),Vy(_n.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(_n.prototype,"width"),_n.prototype),Vy(_n.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(_n.prototype,"height"),_n.prototype),_n);function zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zu=function(t){return typeof t}:zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(e)}function kA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ky(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $A(e,r,t){return r&&Ky(e.prototype,r),t&&Ky(e,t),e}function UA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ic(e,r)}function XA(e){var r=WA();return function(){var n=Fu(e),o;if(r){var a=Fu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YA(this,o)}}function YA(e,r){if(r&&(zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zy(e)}function Zy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fu(e){return Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fu(e)}function VA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ac=function(e){UA(t,e);var r=XA(t);function t(){var n;kA(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),VA(Zy(n),"modelType",dt.HTML_NODE),n}return $A(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,l=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Br,Jy,Qy,qy;function eg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function KA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?eg(Object(t),!0).forEach(function(n){rg(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function uc(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ZA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JA(e,r,t){return r&&tg(e.prototype,r),t&&tg(e,t),e}function rg(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Oi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(l){a[l]=n[l]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(l,p){return p(e,r,l)||l},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ng=(Br=function(){function e(r){ZA(this,e),rg(this,"graphModel",void 0),uc(this,"isShowHorizontal",Jy,this),uc(this,"isShowVertical",Qy,this),uc(this,"position",qy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return JA(e,[{key:"getStyle",value:function(){return KA({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,l=!1,p=!1,y=0;y<n.length;y++){var E=n[y];if(E.id!==t.id&&(o===E.x&&(l=!0),a===E.y&&(p=!0),l&&p))break}return{isShowVertical:l,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var y=this.graphModel.fakerNode;if(y&&y.id===l)p=br(y);else{var E=this.graphModel.getNodeModelById(l);p=br(E)}}for(var w=0;w<n.length;w++){var C=n[w];if(C.id!==t.id){var B=br(C);if(B.minY===p.minY||B.maxY===p.minY){o=!0,a=p.minY;break}if(B.minY===p.maxY||B.maxY===p.maxY){o=!0,a=p.maxY;break}}}return or({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,l=t.id,p;if(l){var y=this.graphModel.fakerNode;if(y&&y.id===l)p=br(y);else{var E=this.graphModel.getNodeModelById(l);p=br(E)}}for(var w=0;w<n.length;w++){var C=n[w];if(C.id!==t.id){var B=br(C);if(B.minX===p.minX||B.maxX===p.minX){o=!0,a=p.minX;break}if(B.minX===p.maxX||B.maxX===p.maxX){o=!0,a=p.maxX;break}}}return or({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,l=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!l){var y=this.getVerticalSnapline(t,n);y.isShowVertical&&(o.isShowVertical=y.isShowVertical,o.position.x=y.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),Jy=Oi(Br.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy=Oi(Br.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qy=Oi(Br.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oi(Br.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"clearSnapline"),Br.prototype),Oi(Br.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"setNodeSnapLine"),Br.prototype),Br),Ei=new Map,og=function(r){var t=qn();function n(){r();var a=Ei.get(t);if(a){var l=window.requestAnimationFrame(n);Ei.set(t,l)}}var o=window.requestAnimationFrame(n);return Ei.set(t,o),t},Hu=function(r){var t=Ei.get(r);t&&(window.cancelAnimationFrame(t),Ei.delete(r))};function Gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(t){return typeof t}:Gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function xi(){return xi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xi.apply(this,arguments)}function ig(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ku(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ig(Object(t),!0).forEach(function(n){Qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ig(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function QA(e,r){return r1(e)||t1(e,r)||e1(e,r)||qA()}function qA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1(e,r){if(!!e){if(typeof e=="string")return ag(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ag(e,r)}}function ag(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function r1(e){if(Array.isArray(e))return e}function n1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o1(e,r,t){return r&&ug(e.prototype,r),t&&ug(e,t),e}function i1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&lc(e,r)}function lc(e,r){return lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},lc(e,r)}function a1(e){var r=l1();return function(){var n=$u(e),o;if(r){var a=$u(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return u1(this,o)}}function u1(e,r){if(r&&(Gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $u(e){return $u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$u(e)}function Qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var s1=function(e){i1(t,e);var r=a1(t);function t(){var n;return n1(this,t),n=r.call(this),Qr(Jr(n),"preTargetNode",void 0),Qr(Jr(n),"sourceRuleResults",void 0),Qr(Jr(n),"targetRuleResults",void 0),Qr(Jr(n),"dragHandler",void 0),Qr(Jr(n),"t",void 0),Qr(Jr(n),"onDragStart",function(o){var a=o.event,l=n.props,p=l.anchorData,y=l.nodeModel,E=l.graphModel,w=E.overlapMode;E.selectNodeById(y.id),w!==mr.INCREASE&&y.autoToFront&&E.toFront(y.id),E.eventCenter.emit(at.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:y}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),Qr(Jr(n),"onDraging",function(o){var a=o.event,l=n.props,p=l.graphModel,y=l.nodeModel,E=l.anchorData,w=p.transformModel,C=p.eventCenter,B=p.width,$=p.height,Q=p.editConfigModel,oe=Q.autoExpand,ie=Q.stopMoveGraph,ce=a.clientX,Ne=a.clientY,xe=p.getPointByClient({x:ce,y:Ne}),Pe=xe.domOverlayPosition,He=Pe.x,Ce=Pe.y,et=xe.canvasOverlayPosition,Ge=et.x,ht=et.y;n.t&&Hu(n.t);var yt=[],lr=10;He<10?yt=[lr,0]:He+10>B?yt=[-lr,0]:Ce<10?yt=[0,lr]:Ce+10>$&&(yt=[0,-lr]),n.setState({endX:Ge,endY:ht,draging:!0}),n.moveAnchorEnd(Ge,ht),yt.length>0&&!ie&&oe&&(n.t=og(function(){var Er=yt,nn=QA(Er,2),zn=nn[0],io=nn[1];w.translate(zn,io);var Uo=n.state,Fn=Uo.endX,Xo=Uo.endY;n.setState({endX:Fn-zn,endY:Xo-io}),n.moveAnchorEnd(Fn-zn,Xo-io)})),C.emit(at.ANCHOR_DRAG,{data:E,e:a,nodeModel:y})}),Qr(Jr(n),"onDragEnd",function(o){n.t&&Hu(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear()}),Qr(Jr(n),"checkEnd",function(o){var a=n.props,l=a.graphModel,p=a.nodeModel,y=a.anchorData,E=y.x,w=y.y,C=y.id;l.edgeType;var B=n.state,$=B.endX,Q=B.endY,oe=B.draging,ie=Da({x:$,y:Q},l);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!oe&&ie&&ie.node){var ce=ie.node,Ne=ie.anchor.id,xe="".concat(p.id,"_").concat(ce.id,"_").concat(Ne,"_").concat(C),Pe=n.sourceRuleResults.get(xe)||{},He=Pe.isAllPass,Ce=Pe.msg,et=n.targetRuleResults.get(xe)||{},Ge=et.isAllPass,ht=et.msg;if(He&&Ge){ce.setElementState(Et.DEFAULT);var yt=l.edgeGenerator(p.getData(),l.getNodeModelById(ie.node.id).getData()),lr=l.addEdge(ku(ku({},yt),{},{sourceNodeId:p.id,sourceAnchorId:C,startPoint:{x:E,y:w},targetNodeId:ie.node.id,targetAnchorId:ie.anchor.id,endPoint:{x:ie.anchor.x,y:ie.anchor.y}})),Er=n.props.anchorData;l.eventCenter.emit(at.ANCHOR_DROP,{data:Er,e:o,nodeModel:p,edgeModel:lr})}else{var nn=ce.getData();l.eventCenter.emit(at.CONNECTION_NOT_ALLOWED,{data:nn,msg:ht||Ce})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new eo({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return o1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,l=o.style,p=o.node,y=p.getAnchorShape(a);if(y)return y;var E=a.x,w=a.y,C=ku(ku({},l),l.hover);return Object(ne.g)("g",null,Object(ne.g)(mi,xi({className:"lf-node-anchor-hover"},C,{x:E,y:w})),Object(ne.g)(mi,xi({className:"lf-node-anchor"},l,{x:E,y:w})))}},{key:"moveAnchorEnd",value:function(o,a){var l=this.props,p=l.graphModel,y=l.nodeModel,E=l.anchorData,w=Da({x:o,y:a},p);if(w){var C=w.node,B=w.anchor.id;if(this.preTargetNode&&this.preTargetNode!==w.node&&this.preTargetNode.setElementState(Et.DEFAULT),E.id===B)return;this.preTargetNode=C;var $="".concat(y.id,"_").concat(C.id,"_").concat(B,"_").concat(E.id);if(!this.targetRuleResults.has($)){var Q=w.anchor,oe=y.isAllowConnectedAsSource(C,E,Q),ie=C.isAllowConnectedAsTarget(y,E,Q);this.sourceRuleResults.set($,Ca(oe)),this.targetRuleResults.set($,Ca(ie))}var ce=this.sourceRuleResults.get($),Ne=ce.isAllPass,xe=this.targetRuleResults.get($),Pe=xe.isAllPass;Ne&&Pe?C.setElementState(Et.ALLOW_CONNECT):C.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,l=o.startY,p=o.endX,y=o.endY,E=Yr(a,l,p,y);return E>10}},{key:"render",value:function(){var o=this,a=this.state,l=a.startX,p=a.startY,y=a.endX,E=a.endY,w=this.props,C=w.anchorData.edgeAddable,B=w.edgeStyle;return Object(ne.g)("g",{className:"lf-anchor"},Object(ne.g)("g",{onMouseDown:function(Q){C!==!1&&o.dragHandler.handleMouseDown(Q)}},this.getAnchorShape()),this.isShowLine()&&Object(ne.g)(to,xi({x1:l,y1:p,x2:y,y2:E},B,{"pointer-events":"none"})))}}]),t}(ne.a),f1=s1;i(63);function lg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function c1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?lg(Object(t),!0).forEach(function(n){d1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uu=function(t){return typeof t}:Uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function p1(e,r){return g1(e)||y1(e,r)||v1(e,r)||h1()}function h1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1(e,r){if(!!e){if(typeof e=="string")return sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sg(e,r)}}function sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function y1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function g1(e){if(Array.isArray(e))return e}function fg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,l=e.fontSize,p=e.fill,y=p===void 0?"currentColor":p,E=e.overflowMode,w=E===void 0?"default":E,C=e.textWidth,B=C===void 0?"":C,$=e.model,Q={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:y};if(Object.entries(e).forEach(function(Pe){var He=p1(Pe,2),Ce=He[0],et=He[1],Ge=Uu(et);Ge!=="object"&&(Q[Ce]=et)}),a){var oe=String(a).split(/[\r\n]/g),ie=oe.length;if(w!=="default"){var ce=$.BaseType,Ne=$.modelType;if(ce===Gt.NODE&&Ne!==dt.TEXT_NODE||ce===Gt.EDGE&&B)return m1(e)}if(ie>1){var xe=oe.map(function(Pe,He){var Ce=l+2,et=(He-(ie-1)/2)*Ce;return Object(ne.g)("tspan",{className:"lf-text-tspan",x:t,y:o+et},Pe)});return Object(ne.g)("text",Q,xe)}return Object(ne.g)("text",Q,a)}}function m1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,l=e.lineHeight,p=e.wrapPadding,y=p===void 0?"0, 0":p,E=e.overflowMode,w=e.x,C=e.y,B=n.width,$=n.textHeight,Q=e.textWidth||B,oe=String(r).split(/[\r\n]/g),ie=oe.length,ce=Yp({rows:oe,style:{fontSize:"".concat(t,"px"),width:"".concat(Q,"px"),fontFamily:a,lineHeight:l,padding:y},rowsLength:ie,className:"lf-get-text-height"}),Ne=n.height>ce?n.height:ce;$&&(Ne=$);var xe=E==="ellipsis";return Object(ne.g)("g",null,Object(ne.g)("foreignObject",{width:Q,height:Ne,x:w-Q/2,y:C-Ne/2},Object(ne.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ne,width:Q,padding:y}},Object(ne.g)("div",{className:xe?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:c1({},e)},oe.map(function(Pe){return Object(ne.g)("div",{className:"lf-node-text--auto-wrap-inner"},Pe)})))))}function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function sc(){return sc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},sc.apply(this,arguments)}function b1(e,r){return S1(e)||x1(e,r)||E1(e,r)||O1()}function O1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1(e,r){if(!!e){if(typeof e=="string")return cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cg(e,r)}}function cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function x1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function S1(e){if(Array.isArray(e))return e}function P1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T1(e,r,t){return r&&dg(e.prototype,r),t&&dg(e,t),e}function M1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},fc(e,r)}function w1(e){var r=N1();return function(){var n=Yu(e),o;if(r){var a=Yu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return A1(this,o)}}function A1(e,r){if(r&&(Xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yu(e){return Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Yu(e)}function ro(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pg=function(e){M1(t,e);var r=w1(t);function t(n){var o;P1(this,t),o=r.call(this),ro(Bn(o),"dragHandler",void 0),ro(Bn(o),"sumDeltaX",0),ro(Bn(o),"sumDeltaY",0),ro(Bn(o),"stepDrag",void 0),ro(Bn(o),"onDraging",function(p){var y=p.deltaX,E=p.deltaY,w=o.props,C=w.model,B=w.graphModel.transformModel,$=B.fixDeltaXY(y,E),Q=b1($,2),oe=Q[0],ie=Q[1];C.moveText(oe,ie)}),ro(Bn(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var y=o.props.model;y.setElementState(Et.TEXT_EDIT)}}),ro(Bn(o),"mouseDownHandle",function(p){var y=o.props,E=y.draggable,w=y.graphModel.editConfigModel.nodeTextDraggable;(E||w)&&o.stepDrag.handleMouseDown(p)});var a=n.model,l=n.draggable;return o.stepDrag=new eo({onDraging:o.onDraging,step:1,model:a,isStopPropagation:l}),o}return T1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.text,y=l.editConfigModel,E=p.value,w=p.x,C=p.y,B=p.editable,$=p.draggable,Q={x:w,y:C,className:"",value:E};B?Q.className="lf-element-text":$||y.nodeTextDraggable?Q.className="lf-text-draggable":Q.className="lf-text-disabled";var oe=a.getTextStyle();return Object(ne.g)(fg,sc({},Q,oe,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ne.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ne.a),D1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Vu(e,r){return I1(e)||R1(e,r)||C1(e,r)||j1()}function j1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C1(e,r){if(!!e){if(typeof e=="string")return hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hg(e,r)}}function hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function R1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function I1(e){if(Array.isArray(e))return e}function _1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B1(e,r,t){return r&&vg(e.prototype,r),t&&vg(e,t),e}function L1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function z1(e){var r=H1();return function(){var n=Ku(e),o;if(r){var a=Ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return F1(this,o)}}function F1(e,r){if(r&&(Wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ku(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){L1(t,e);var r=z1(t);function t(n){var o;_1(this,t),o=r.call(this),ur(rr(o),"t",void 0),ur(rr(o),"moveOffset",void 0),ur(rr(o),"stepDrag",void 0),ur(rr(o),"contextMenuTime",void 0),ur(rr(o),"startTime",void 0),ur(rr(o),"clickTimer",void 0),ur(rr(o),"onDragStart",function(E){var w=E.event,C=w.clientX,B=w.clientY,$=o.props,Q=$.model,oe=$.graphModel,ie=oe.getPointByClient({x:C,y:B}),ce=ie.canvasOverlayPosition,Ne=ce.x,xe=ce.y;o.moveOffset={x:Q.x-Ne,y:Q.y-xe}}),ur(rr(o),"onDraging",function(E){var w=E.event,C=o.props,B=C.model,$=C.graphModel,Q=$.editConfigModel,oe=Q.stopMoveGraph,ie=Q.autoExpand,ce=$.transformModel,Ne=$.width,xe=$.height,Pe=$.gridSize;B.isDragging=!0;var He=w.clientX,Ce=w.clientY,et=$.getPointByClient({x:He,y:Ce}),Ge=et.canvasOverlayPosition,ht=Ge.x,yt=Ge.y,lr=ce.CanvasPointToHtmlPoint([ht,yt]),Er=Vu(lr,2),nn=Er[0],zn=Er[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=Po(ht,Pe),yt=Po(yt,Pe),!Ne||!xe){$.moveNode2Coordinate(B.id,ht,yt);return}var io=nn<0||zn<0||nn>Ne||zn>xe;if(!(ie&&!oe&&io)){var Uo=ce.CanvasPointToHtmlPoint([ht-B.width/2,yt-B.height/2]),Fn=Vu(Uo,2),Xo=Fn[0],td=Fn[1],wC=ce.CanvasPointToHtmlPoint([ht+B.width/2,yt+B.height/2]),gm=Vu(wC,2),AC=gm[0],NC=gm[1],Gl=Math.max(Pe,20),Yo=[];Xo<0?Yo=[Gl,0]:AC>$.width?Yo=[-Gl,0]:td<0?Yo=[0,Gl]:NC>$.height&&(Yo=[0,-Gl]),o.t&&Hu(o.t),Yo.length>0&&!oe&&ie?o.t=og(function(){var DC=Yo,mm=Vu(DC,2),bm=mm[0],Om=mm[1];ce.translate(bm,Om),$.moveNode(B.id,-bm/ce.SCALE_X,-Om/ce.SCALE_X)}):$.moveNode2Coordinate(B.id,ht,yt)}}),ur(rr(o),"onDragEnd",function(){o.t&&Hu(o.t);var E=o.props.model;E.isDragging=!1}),ur(rr(o),"handleClick",function(E){if(!!o.startTime){var w=new Date().getTime()-o.startTime;if(!(w>200)){var C=o.props,B=C.model,$=C.graphModel,Q=B.getData(),oe=$.getPointByClient({x:E.clientX,y:E.clientY}),ie={data:Q,e:E,position:oe},ce=E.button===2,Ne=E.detail===2;if(!ce){var xe=$.editConfigModel;$.selectNodeById(B.id,Fp(E,xe)),o.toFront(),Ne?(xe.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),$.setElementStateById(B.id,Et.TEXT_EDIT)),$.eventCenter.emit(at.NODE_DBCLICK,ie)):($.eventCenter.emit(at.ELEMENT_CLICK,ie),$.eventCenter.emit(at.NODE_CLICK,ie))}}}}),ur(rr(o),"handleContextMenu",function(E){E.preventDefault();var w=o.props,C=w.model,B=w.graphModel,$=C.getData(),Q=B.getPointByClient({x:E.clientX,y:E.clientY});B.setElementStateById(C.id,Et.SHOW_MENU,Q.domOverlayPosition),B.selectNodeById(C.id),B.eventCenter.emit(at.NODE_CONTEXTMENU,{data:$,e:E,position:Q}),o.toFront()}),ur(rr(o),"handleMouseDown",function(E){var w=o.props,C=w.model,B=w.graphModel;o.toFront(),o.startTime=new Date().getTime();var $=B.editConfigModel;$.adjustNodePosition&&C.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),ur(rr(o),"setHoverON",function(E){var w=o.state.isHovered;if(!w){o.setState({isHovered:!0});var C=o.props,B=C.model,$=C.graphModel,Q=B.getData();B.setHovered(!0),$.eventCenter.emit(at.NODE_MOUSEENTER,{data:Q,e:E})}}),ur(rr(o),"setHoverOFF",function(E){o.setState({isHovered:!1});var w=o.props,C=w.model,B=w.graphModel,$=C.getData();C.setHovered(!1),B.eventCenter.emit(at.NODE_MOUSELEAVE,{data:$,e:E})}),ur(rr(o),"onMouseOut",function(E){D1&&o.setHoverOFF(E)});var a=n.graphModel,l=a.gridSize,p=a.eventCenter,y=n.model;return o.stepDrag=new eo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:l,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:y}),o.state={isHovered:!1},o}return B1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,l=a.model,p=a.graphModel,y=l.isSelected,E=l.isHitable,w=l.isDragging,C=this.state.isHovered;if(E&&(y||C)&&!w){var B=l.getAnchorLineStyle();return Sa(l.anchors,function($,Q){var oe=l.getAnchorStyle($);return Object(ne.g)(f1,{anchorData:$,node:o,style:oe,edgeStyle:B,anchorIndex:Q,nodeModel:l,graphModel:p,setHoverOFF:o.setHoverOFF})})}return[]}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=l.editConfigModel,y=!1;return(a.text.draggable||p.nodeTextDraggable)&&(y=!0),Object(ne.g)(pg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:y})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,l=o.isDraging,p=o.isSelected,y="lf-node";switch(a){case Et.ALLOW_CONNECT:y+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:y+=" lf-node-not-allow";break;default:y+=" lf-node-default";break}return l&&(y+=" lf-isDragging"),p&&(y+=" lf-node-selected"),y}},{key:"toFront",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.overlapMode;p!==mr.INCREASE&&a.autoToFront&&l.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=l.editConfigModel,y=p.hideAnchors,E=p.adjustNodePosition,w=l.gridSize,C=l.transformModel.SCALE_X,B=a.isHitable,$=a.draggable,Q=Object(ne.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),y?null:this.getAnchors()),oe;return B?(E&&$&&this.stepDrag.setStep(w*C),oe=Object(ne.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},Q)):oe=Object(ne.g)("g",{className:this.getStateClassName()},Q),oe}}],[{key:"getModel",value:function(o){return o}}]),t}(ne.a);function Zu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(t){return typeof t}:Zu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function dc(){return dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},dc.apply(this,arguments)}function G1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k1(e,r,t){return r&&yg(e.prototype,r),t&&yg(e,t),e}function $1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&pc(e,r)}function pc(e,r){return pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},pc(e,r)}function U1(e){var r=W1();return function(){var n=Ju(e),o;if(r){var a=Ju(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return X1(this,o)}}function X1(e,r){if(r&&(Zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1(e)}function Y1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ju(e){return Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ju(e)}var hc=function(e){$1(t,e);var r=U1(t);function t(){return G1(this,t),r.apply(this,arguments)}return k1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(Rn,dc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function Qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qu=function(t){return typeof t}:Qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function vc(){return vc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vc.apply(this,arguments)}function V1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K1(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function Z1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yc(e,r)}function yc(e,r){return yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yc(e,r)}function J1(e){var r=eN();return function(){var n=qu(e),o;if(r){var a=qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Q1(this,o)}}function Q1(e,r){if(r&&(Qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q1(e)}function q1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(e)}var gc=function(e){Z1(t,e);var r=J1(t);function t(){return V1(this,t),r.apply(this,arguments)}return K1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.r,y=o.getNodeStyle();return Object(ne.g)(mi,vc({},y,{x:a,y:l,r:p}))}}]),t}(vn);function el(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?el=function(t){return typeof t}:el=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function tN(e,r){return iN(e)||oN(e,r)||nN(e,r)||rN()}function rN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nN(e,r){if(!!e){if(typeof e=="string")return mg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mg(e,r)}}function mg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function iN(e){if(Array.isArray(e))return e}function bg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=tN(o,2),l=a[0],p=a[1],y=el(p);y!=="object"&&(n[l]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ne.g)("polygon",n)}function tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tl=function(t){return typeof t}:tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function mc(){return mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mc.apply(this,arguments)}function aN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uN(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function lN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bc(e,r)}function bc(e,r){return bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bc(e,r)}function sN(e){var r=dN();return function(){var n=rl(e),o;if(r){var a=rl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fN(this,o)}}function fN(e,r){if(r&&(tl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cN(e)}function cN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function rl(e){return rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rl(e)}var Oc=function(e){lN(t,e);var r=sN(t);function t(){return aN(this,t),r.apply(this,arguments)}return uN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.width,y=o.height,E=o.points,w=o.getNodeStyle(),C={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(l-y/2,")")};return Object(ne.g)("g",C,Object(ne.g)(bg,mc({},w,{points:E,x:a,y:l})))}}]),t}(vn);function nl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nl=function(t){return typeof t}:nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function Ec(){return Ec=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ec.apply(this,arguments)}function pN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Eg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hN(e,r,t){return r&&Eg(e.prototype,r),t&&Eg(e,t),e}function vN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&xc(e,r)}function xc(e,r){return xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},xc(e,r)}function yN(e){var r=bN();return function(){var n=ol(e),o;if(r){var a=ol(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return gN(this,o)}}function gN(e,r){if(r&&(nl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mN(e)}function mN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ol(e){return ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ol(e)}var Sc=function(e){vN(t,e);var r=yN(t);function t(){return pN(this,t),r.apply(this,arguments)}return hN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)("g",null,Object(ne.g)(bg,Ec({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function il(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?il=function(t){return typeof t}:il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(e)}function ON(e,r){return PN(e)||SN(e,r)||xN(e,r)||EN()}function EN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xN(e,r){if(!!e){if(typeof e=="string")return xg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xg(e,r)}}function xg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function SN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function PN(e){if(Array.isArray(e))return e}function TN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,l=a===void 0?4:a,p=e.ry,y=p===void 0?4:p,E=e.className,w={cx:t,cy:o,rx:l,ry:y,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(C){var B=ON(C,2),$=B[0],Q=B[1],oe=il(Q);oe!=="object"&&(w[$]=Q)}),E?w.className="lf-basic-shape ".concat(E):w.className="lf-basic-shape",Object(ne.g)("ellipse",w)}function al(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(t){return typeof t}:al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Pc(){return Pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Pc.apply(this,arguments)}function MN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wN(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function AN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Tc(e,r)}function Tc(e,r){return Tc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Tc(e,r)}function NN(e){var r=CN();return function(){var n=ul(e),o;if(r){var a=ul(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return DN(this,o)}}function DN(e,r){if(r&&(al(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jN(e)}function jN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ul(e){return ul=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ul(e)}var Mc=function(e){AN(t,e);var r=NN(t);function t(){return MN(this,t),r.apply(this,arguments)}return wN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ne.g)(TN,Pc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function ll(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ll=function(t){return typeof t}:ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function Pg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Tg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pg(Object(t),!0).forEach(function(n){RN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function RN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _N(e,r,t){return r&&Mg(e.prototype,r),t&&Mg(e,t),e}function BN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wc(e,r)}function LN(e){var r=HN();return function(){var n=sl(e),o;if(r){var a=sl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zN(this,o)}}function zN(e,r){if(r&&(ll(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FN(e)}function FN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(e)}var Ac=function(e){BN(t,e);var r=LN(t);function t(){return IN(this,t),r.apply(this,arguments)}return _N(t,[{key:"getBackgroud",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text;if(l&&l.value&&a.background&&a.background.fill!=="transparnet"){var p=l.x,y=l.y,E=o.width,w=o.height,C=Tg(Tg({},a.background),{},{x:p,y:y-1,width:E,height:w});return Object(ne.g)(Rn,C)}}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getBackgroud())}}]),t}(vn);function fl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fl=function(t){return typeof t}:fl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}function Nc(){return Nc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nc.apply(this,arguments)}function GN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kN(e,r,t){return r&&wg(e.prototype,r),t&&wg(e,t),e}function $N(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Dc(e,r)}function Dc(e,r){return Dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Dc(e,r)}function UN(e){var r=YN();return function(){var n=cl(e),o;if(r){var a=cl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XN(this,o)}}function XN(e,r){if(r&&(fl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cl(e)}function dl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var jc=function(e){$N(t,e);var r=UN(t);function t(){var n;GN(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),dl(Si(n),"ref",void 0),dl(Si(n),"currrentProperties",void 0),dl(Si(n),"preProperties",void 0),dl(Si(n),"setRef",function(p){n.ref=p}),n}return kN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currrentProperties))return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,l=o.y,p=o.height,y=o.width,E=o.getNodeStyle();return this.currrentProperties=JSON.stringify(o.properties),Object(ne.g)("foreignObject",Nc({},E,{x:a-y/2,y:l-p/2,width:y,height:p,ref:this.setRef}))}}]),t}(vn);function pl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pl=function(t){return typeof t}:pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function Cc(){return Cc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Cc.apply(this,arguments)}function Ag(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function no(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ag(Object(t),!0).forEach(function(n){_c(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ag(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function WN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function KN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rc(e,r)}function ZN(e){var r=QN();return function(){var n=hl(e),o;if(r){var a=hl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return JN(this,o)}}function JN(e,r){if(r&&(pl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ic(e)}function Ic(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hl(e){return hl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hl(e)}function _c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qN=function(e){KN(t,e);var r=ZN(t);function t(n){var o;return WN(this,t),o=r.call(this,n),_c(Ic(o),"setHoverON",function(){o.setState({isHoverd:!0})}),_c(Ic(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return VN(t,[{key:"getBackgroud",value:function(){var o=this.props.model,a=o.getTextStyle(),l=o.text,p=a.background||{},y=this.state.isHoverd;if(y&&a.hover&&a.hover.background&&(p=no(no({},p),a.hover.background)),l&&l.value&&p.fill!=="transparent"){var E=a.fontSize,w=a.overflowMode,C=a.lineHeight,B=a.wrapPadding,$=a.textWidth,Q=l.value,oe=l.x,ie=l.y,ce=String(Q).split(/[\r\n]/g),Ne=ce.length,xe;if(w==="autoWrap"&&$){var Pe=Yp({rows:ce,style:{fontSize:"".concat(E,"px"),width:"".concat($,"px"),lineHeight:C,padding:B},rowsLength:Ne,className:"lf-get-text-height"});xe=no(no({},p),{},{x:oe-1,y:ie-1,width:$,height:Pe})}else{ce&&ce.forEach(function(ht){Bh(ht)});var He=cf({rows:ce,fontSize:E,rowsLength:Ne}),Ce=He.width,et=He.height;if(typeof p.wrapPadding=="string"){var Ge=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});Ge.length>0&&Ge.length<=4&&(Ge.length===1?Ge=[Ge[0],Ge[0],Ge[0],Ge[0]]:Ge.length===2?Ge=[Ge[0],Ge[1],Ge[0],Ge[1]]:Ge.length===3&&(Ge=[Ge[0],Ge[1],Ge[2],Ge[1]]),Ce+=Ge[1]+Ge[3],et+=Ge[0]+Ge[2],oe=oe+(Ge[1]-Ge[3])/2,ie=ie+(Ge[2]-Ge[0])/2)}xe=no(no({},p),{},{x:oe-1,y:ie-1,width:Ce,height:et})}return Object(ne.g)(Rn,xe)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,l=a.value,p=a.x,y=a.y;if(!!l){var E=o.getTextStyle(),w=no({x:p,y,className:"lf-element-text",value:l},E);return Object(ne.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ne.g)(fg,Cc({},w,{model:o})))}}}]),t}(pg);function vl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vl=function(t){return typeof t}:vl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function Bc(){return Bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Bc.apply(this,arguments)}function Dg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dg(Object(t),!0).forEach(function(n){zr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function eD(e,r){return oD(e)||nD(e,r)||rD(e,r)||tD()}function tD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rD(e,r){if(!!e){if(typeof e=="string")return jg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jg(e,r)}}function jg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function nD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function oD(e){if(Array.isArray(e))return e}function iD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aD(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}function uD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lc(e,r)}function Lc(e,r){return Lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lc(e,r)}function lD(e){var r=fD();return function(){var n=yl(e),o;if(r){var a=yl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sD(this,o)}}function sD(e,r){if(r&&(vl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yl(e){return yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yl(e)}function zr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(qr||(qr={}));var Rg=function(e){uD(t,e);var r=lD(t);function t(){var n;return iD(this,t),n=r.call(this),zr(Lr(n),"dragHandler",void 0),zr(Lr(n),"oldEdge",void 0),zr(Lr(n),"preTargetNode",void 0),zr(Lr(n),"targetRuleResults",void 0),zr(Lr(n),"sourceRuleResults",void 0),zr(Lr(n),"onDragStart",function(){var o=n.props,a=o.x,l=o.y,p=o.edgeModel,y=p.startPoint,E=p.endPoint,w=p.pointsList;n.oldEdge={startPoint:y,endPoint:E,pointsList:w},n.setState({endX:a,endY:l,draging:!0}),p.isHitable=!1}),zr(Lr(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.state,y=p.endX,E=p.endY,w=n.props,C=w.graphModel,B=w.type,$=C.transformModel,Q=$.moveCanvasPointByHtml([y,E],a,l),oe=eD(Q,2),ie=oe[0],ce=oe[1];n.setState({endX:ie,endY:ce,draging:!0});var Ne=n.props.edgeModel,xe=Da({x:y,y:E},C);if(xe&&xe.node&&n.isAllowAdjust(xe)){var Pe,He=Ne.startPoint,Ce=Ne.endPoint,et=Ne.sourceNode,Ge=Ne.targetNode;B===qr.SOURCE?Pe={startPoint:{x:xe.anchor.x,y:xe.anchor.y},endPoint:{x:Ce.x,y:Ce.y},sourceNode:xe.node,targetNode:Ge}:B===qr.TARGET&&(Pe={startPoint:{x:He.x,y:He.y},endPoint:{x:xe.anchor.x,y:xe.anchor.y},sourceNode:et,targetNode:xe.node}),Ne.updateAfterAdjustStartAndEnd(Pe)}else B===qr.SOURCE?Ne.updateStartPoint({x:ie,y:ce}):B===qr.TARGET&&Ne.updateEndPoint({x:ie,y:ce})}),zr(Lr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,l=a.graphModel,p=a.edgeModel,y=a.type;p.isHitable=!0;var E=n.state,w=E.endX,C=E.endY,B=E.draging,$=Da({x:w,y:C},l);if(!!B){if($&&$.node&&n.isAllowAdjust($)){var Q,oe=p.getData(),ie=yn(yn({},oe),{},{sourceAnchorId:"",targetAnchorId:"",text:(oe==null||(Q=oe.text)===null||Q===void 0?void 0:Q.value)||""});if(y===qr.SOURCE){var ce=l.edgeGenerator(l.getNodeModelById($.node.id).getData(),l.getNodeModelById(p.targetNodeId).getData(),ie);ie=yn(yn({},ce),{},{sourceNodeId:$.node.id,sourceAnchorId:$.anchor.id,startPoint:{x:$.anchor.x,y:$.anchor.y},targetNodeId:p.targetNodeId,endPoint:yn({},p.endPoint)})}else if(y===qr.TARGET){var Ne=l.edgeGenerator(l.getNodeModelById(p.sourceNodeId).getData(),l.getNodeModelById($.node.id).getData(),ie);ie=yn(yn({},Ne),{},{sourceNodeId:p.sourceNodeId,startPoint:yn({},p.startPoint),targetNodeId:$.node.id,targetAnchorId:$.anchor.id,endPoint:{x:$.anchor.x,y:$.anchor.y}})}l.deleteEdgeById(p.id);var xe=l.addEdge(yn({},ie));l.eventCenter.emit(at.EDGE_EXCHANGE_NODE,{data:{newEdge:xe.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),zr(Lr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,l=a.startPoint,p=a.endPoint,y=a.pointsList;o.updateStartPoint(l),o.updateEndPoint(p),o.modelType!==dt.LINE_EDGE&&(o.pointsList=y,o.initPoints())}),zr(Lr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Tf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return aD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,l=a.edgeModel;l.id;var p=l.sourceNode,y=l.targetNode,E=l.sourceAnchorId,w=l.targetAnchorId,C=a.type,B=null,$=null,Q=null,oe=null;if(C===qr.SOURCE?(B=o.node,$=y,Q=o.anchor,oe=y.getAnchorInfo(w)):(B=p,$=o.node,oe=o.anchor,Q=p.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,oe.id===Q.id)return!1;var ie="".concat(B.id,"_").concat($.id,"_").concat(Q.id,"_").concat(oe.id);if(!this.targetRuleResults.has(ie)){var ce=B.isAllowConnectedAsSource($,Q,oe),Ne=$.isAllowConnectedAsTarget(B,Q,oe);this.sourceRuleResults.set(ie,Ca(ce)),this.targetRuleResults.set(ie,Ca(Ne))}var xe=this.sourceRuleResults.get(ie),Pe=xe.isAllPass,He=this.targetRuleResults.get(ie),Ce=He.isAllPass,et=Pe&&Ce?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return C===qr.SOURCE?B.setElementState(et):$.setElementState(et),Pe&&Ce}},{key:"render",value:function(){var o=this.props,a=o.x,l=o.y,p=this.state.draging,y=this.getAdjustPointStyle();return Object(ne.g)("g",null,Object(ne.g)(mi,Bc({className:"lf-edge-adjust-point"},y,{x:a,y:l,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(ne.a);function gl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gl=function(t){return typeof t}:gl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function ml(){return ml=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ml.apply(this,arguments)}function Ig(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function _g(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ig(Object(t),!0).forEach(function(n){Hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ig(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function cD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dD(e,r,t){return r&&Bg(e.prototype,r),t&&Bg(e,t),e}function pD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function hD(e){var r=yD();return function(){var n=bl(e),o;if(r){var a=bl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vD(this,o)}}function vD(e,r){if(r&&(gl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}function Fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bl(e){return bl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bl(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Pi=function(e){pD(t,e);var r=hD(t);function t(){var n;cD(this,t);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r.call.apply(r,[this].concat(a)),Hr(Fr(n),"startTime",void 0),Hr(Fr(n),"contextMenuTime",void 0),Hr(Fr(n),"clickTimer",void 0),Hr(Fr(n),"handleHover",function(p,y){var E=n.props,w=E.model,C=E.graphModel.eventCenter;w.setHovered(p);var B=p?at.EDGE_MOUSEENTER:at.EDGE_MOUSELEAVE,$=w.getData();C.emit(B,{data:$,e:y})}),Hr(Fr(n),"setHoverON",function(p){var y=n.props.model.isHovered;y||n.handleHover(!0,p)}),Hr(Fr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Hr(Fr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var y=n.props,E=y.model,w=y.graphModel,C=w.getPointByClient({x:p.clientX,y:p.clientY});w.setElementStateById(E.id,Et.SHOW_MENU,C.domOverlayPosition),n.toFront(),w.selectEdgeById(E.id);var B=E==null?void 0:E.getData();w.eventCenter.emit(at.EDGE_CONTEXTMENU,{data:B,e:p,position:C})}),Hr(Fr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Fr(n),"handleMouseUp",function(p){if(!!n.startTime){var y=new Date().getTime()-n.startTime;if(!(y>200)){var E=p.button===2;if(!E){var w=p.detail===2,C=n.props,B=C.model,$=C.graphModel,Q=B==null?void 0:B.getData(),oe=$.getPointByClient({x:p.clientX,y:p.clientY});if(w){var ie=$.editConfigModel,ce=$.textEditElement;if(ce&&ce.id===B.id&&$.setElementStateById(B.id,Et.DEFAULT),ie.edgeTextEdit&&B.text.editable&&$.setElementStateById(B.id,Et.TEXT_EDIT),B.modelType===dt.POLYLINE_EDGE){var Ne=B,xe=$.getPointByClient({x:p.x,y:p.y}),Pe=xe.canvasOverlayPosition,He=Pe.x,Ce=Pe.y,et=zh({x:He,y:Ce},Ne.points);Ne.dbClickPosition=et}$.eventCenter.emit(at.EDGE_DBCLICK,{data:Q,e:p,position:oe})}else $.eventCenter.emit(at.ELEMENT_CLICK,{data:Q,e:p,position:oe}),$.eventCenter.emit(at.EDGE_CLICK,{data:Q,e:p,position:oe});var Ge=$.editConfigModel;$.selectEdgeById(B.id,Fp(p,Ge)),n.toFront()}}}}),Hr(Fr(n),"getIsDraging",function(){return!1}),n}return dD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,l=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,y=l.editConfigModel;return(a.text.draggable||y.edgeTextDraggable)&&(p=!0),Object(ne.g)(qN,{editable:y.edgeTextEdit&&a.text.editable,model:a,graphModel:l,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isSelected,y=this.state,E=y.hover;return{start:a,end:l,hover:E,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getEdgeStyle(),y=a.getEdgeAnimationStyle(),E=l.theme.arrow,w=a.isAnimation?y.stroke:p.stroke;return _g(_g({},p),{},{fill:w,stroke:w},E)}},{key:"getArrow",value:function(){return Object(ne.g)("g",null,Object(ne.g)("defs",null,this.getStartArrow(),this.getEndArrow()))}},{key:"getStartArrow",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.id,y=l.theme.arrow,E=y.offset,w=y.verticalLength,C=this.getArrowStyle(),B=C.stroke,$=C.strokeWidth;return Object(ne.g)("marker",{id:"marker-start-".concat(p),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(ne.g)("path",{stroke:B,fill:B,strokeWidth:$,d:"M 0 0 L ".concat(E," -").concat(w," L ").concat(E," ").concat(w," Z")}))}},{key:"getEndArrow",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.id,y=l.theme.arrow,E=y.offset,w=y.verticalLength,C=this.getArrowStyle(),B=C.stroke,$=C.strokeWidth;return Object(ne.g)("marker",{id:"marker-end-".concat(p),refX:"-1",overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},Object(ne.g)("path",{stroke:B,fill:B,strokeWidth:$,transform:"rotate(180)",d:"M 0 0 L ".concat(E," -").concat(w," L ").concat(E," ").concat(w," Z")}))}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,l=o.graphModel,p=a.getAdjustStart(),y=a.getAdjustEnd();return Object(ne.g)("g",null,Object(ne.g)(Rg,ml({type:"SOURCE"},p,{edgeModel:a,graphModel:l})),Object(ne.g)(Rg,ml({type:"TARGET"},y,{edgeModel:a,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ne.g)("g",null)}},{key:"getAppend",value:function(){return Object(ne.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,l=o.model,p=a.overlapMode;p!==mr.INCREASE&&a.toFront(l.id)}},{key:"render",value:function(){var o=this.props,a=o.model,l=a.isSelected,p=a.isHitable,y=o.graphModel,E=this.getIsDraging(),w=y.editConfigModel.adjustEdgeStartAndEnd,C=y.animation,B=l&&C.edge&&y.getSelectElements().edges.length===1;return Object(ne.g)("g",null,Object(ne.g)("g",{className:["lf-edge",!p&&"pointer-none",l&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),B&&this.getAnimation(),this.getText(),this.getArrow()),w&&l&&!E?this.getAdjustPoints():"")}}]),t}(ne.a);function Ol(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ol=function(t){return typeof t}:Ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function gD(e,r){return ED(e)||OD(e,r)||bD(e,r)||mD()}function mD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(e,r){if(!!e){if(typeof e=="string")return Lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lg(e,r)}}function Lg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function OD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ED(e){if(Array.isArray(e))return e}function xD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=gD(t,2),o=n[0],a=n[1],l=Ol(a);(o==="style"||l!=="object")&&(r[o]=a)}),Object(ne.g)("path",r)}var Go=xD;function El(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?El=function(t){return typeof t}:El=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function xl(){return xl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xl.apply(this,arguments)}function SD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PD(e,r,t){return r&&zg(e.prototype,r),t&&zg(e,t),e}function TD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function MD(e){var r=ND();return function(){var n=Sl(e),o;if(r){var a=Sl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wD(this,o)}}function wD(e,r){if(r&&(El(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AD(e)}function AD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ND(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sl(e){return Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Sl(e)}var Hc=function(e){TD(t,e);var r=MD(t);function t(){return SD(this,t),r.apply(this,arguments)}return PD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p=o.isAnimation,y=o.arrowConfig,E=o.getEdgeStyle(),w=o.getEdgeAnimationStyle(),C=w.strokeDasharray,B=w.stroke,$=w.strokeDashoffset,Q=w.animationName,oe=w.animationDuration,ie=w.animationIterationCount,ce=w.animationTimingFunction,Ne=w.animationDirection;return Object(ne.g)(to,xl({},E,{x1:a.x,y1:a.y,x2:l.x,y2:l.y},y,p?{strokeDasharray:C,stroke:B,style:{strokeDashoffset:$,animationName:Q,animationDuration:oe,animationIterationCount:ie,animationTimingFunction:ce,animationDirection:Ne}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,y=a.strokeDasharray,E=o.startPoint,w=o.endPoint,C=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(to,xl({},C,{x1:E.x,y1:E.y,x2:w.x,y2:w.y,className:p,strokeDasharray:y,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,l=o.endPoint,p={start:a,end:l},y=xT(p),E=y.d,w=y.strokeWidth,C=y.fill,B=y.strokeDasharray,$=y.stroke;return Object(ne.g)(Go,{d:E,fill:C,strokeWidth:w,stroke:$,strokeDasharray:B})}}]),t}(Pi);function Pl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pl=function(t){return typeof t}:Pl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function DD(e,r){return ID(e)||RD(e,r)||CD(e,r)||jD()}function jD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CD(e,r){if(!!e){if(typeof e=="string")return Fg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fg(e,r)}}function Fg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function RD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ID(e){if(Array.isArray(e))return e}function _D(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=DD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var l=Pl(a);l!=="object"&&(r[o]=a)}}),Object(ne.g)("polyline",r)}var Hg=_D;function Tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tl=function(t){return typeof t}:Tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function Gg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ml(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gg(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wl(){return wl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},wl.apply(this,arguments)}function BD(e,r){return HD(e)||FD(e,r)||zD(e,r)||LD()}function LD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zD(e,r){if(!!e){if(typeof e=="string")return kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kg(e,r)}}function kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function FD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function HD(e){if(Array.isArray(e))return e}function GD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kD(e,r,t){return r&&$g(e.prototype,r),t&&$g(e,t),e}function $D(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gc(e,r)}function UD(e){var r=YD();return function(){var n=Al(e),o;if(r){var a=Al(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XD(this,o)}}function XD(e,r){if(r&&(Tl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Al(e)}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var kc=function(e){$D(t,e);var r=UD(t);function t(){var n;return GD(this,t),n=r.call(this),tn(en(n),"drag",void 0),tn(en(n),"isDraging",void 0),tn(en(n),"appendInfo",void 0),tn(en(n),"dragHandler",void 0),tn(en(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),tn(en(n),"onDraging",function(o){var a=o.deltaX,l=o.deltaY,p=n.props,y=p.model,E=p.graphModel;n.isDraging=!0;var w=E.transformModel,C=E.editConfigModel,B=w.fixDeltaXY(a,l),$=BD(B,2),Q=$[0],oe=$[1],ie=y,ce=C.adjustEdgeMiddle;ce?n.appendInfo=ie.dragAppendSimple(n.appendInfo,{x:Q,y:oe}):n.appendInfo=ie.dragAppend(n.appendInfo,{x:Q,y:oe})}),tn(en(n),"onDragEnd",function(){var o=n.props,a=o.model,l=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,l.emit(at.EDGE_ADJUST,{data:p.getData()})}),tn(en(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),tn(en(n),"getIsDraging",function(){return n.isDraging}),n.drag=Tf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return kD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,l=o.isAnimation,p=o.arrowConfig,y=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),w=E.strokeDasharray,C=E.stroke,B=E.strokeDashoffset,$=E.animationName,Q=E.animationDuration,oe=E.animationIterationCount,ie=E.animationTimingFunction,ce=E.animationDirection;return Object(ne.g)(Hg,wl({points:a},y,p,l?{strokeDasharray:w,stroke:C,style:{strokeDashoffset:B,animationName:$,animationDuration:Q,animationIterationCount:oe,animationTimingFunction:ie,animationDirection:ce}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,y=a.strokeDasharray,E=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(Hg,wl({points:o.points},E,{className:p,strokeDasharray:y,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,l=o.isSelected,p=this.state,y=p.hover,E={start:null,end:null,hover:y,isSelected:l},w=wo(a);return w.length>=2&&(E.start=w[w.length-2],E.end=w[w.length-1]),E}},{key:"getAppendAttributes",value:function(o){var a=o.start,l=o.end,p;if(a.x===l.x&&a.y===l.y)p="";else{var y={start:a,end:l,offset:10,verticalLength:5},E=hi(Ml(Ml({},y),{},{type:"start"})),w=hi(Ml(Ml({},y),{},{type:"end"}));p="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(w.rightX," ").concat(w.rightY,`
      L`).concat(w.leftX," ").concat(w.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),l=a.d,p=a.strokeWidth,y=a.fill,E=a.strokeDasharray,w=a.stroke;return Object(ne.g)(Go,{d:l,fill:y,strokeWidth:p,stroke:w,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,l=a.model,p=a.graphModel,y=l.pointsList,E=l.draggable,w=[],C=y.length,B=function(oe){var ie="lf-polyline-append",ce={start:{x:y[oe].x,y:y[oe].y},end:{x:y[oe+1].x,y:y[oe+1].y},startIndex:oe,endIndex:oe+1,direction:"",dragAble:!0},Ne=Object(ne.g)("g",{className:ie},o.getAppendShape(ce)),xe=p.editConfigModel,Pe=xe.adjustEdge,He=xe.adjustEdgeMiddle;if(!Pe||!E)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Ce=ce.startIndex,et=ce.endIndex,Ge=He&&(Ce===0||et===C-1);ce.dragAble=!Ge,ce.start.x===ce.end.x?(ce.dragAble&&(ie+="-ew-resize"),ce.direction=Dt.VERTICAL):ce.start.y===ce.end.y&&(ce.dragAble&&(ie+="-ns-resize"),ce.direction=Dt.HORIZONTAL),Ne=Object(ne.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,ce)}},Object(ne.g)("g",{className:ie},o.getAppendShape(ce)))}w.push(Ne)},$=0;$<C-1;$++)B($);return Object(ne.g)("g",null,w)}}]),t}(Pi);function Nl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Nl=function(t){return typeof t}:Nl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function WD(e,r){return JD(e)||ZD(e,r)||KD(e,r)||VD()}function VD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KD(e,r){if(!!e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function JD(e){if(Array.isArray(e))return e}function Dl(){return Dl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dl.apply(this,arguments)}function QD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qD(e,r,t){return r&&Xg(e.prototype,r),t&&Xg(e,t),e}function ej(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function tj(e){var r=oj();return function(){var n=jl(e),o;if(r){var a=jl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rj(this,o)}}function rj(e,r){if(r&&(Nl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nj(e)}function nj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jl(e){return jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},jl(e)}var Uc=function(e){ej(t,e);var r=tj(t);function t(){return QD(this,t),r.apply(this,arguments)}return qD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),l=o.path,p=o.isAnimation,y=o.arrowConfig,E=o.getEdgeAnimationStyle(),w=E.strokeDasharray,C=E.stroke,B=E.strokeDashoffset,$=E.animationName,Q=E.animationDuration,oe=E.animationIterationCount,ie=E.animationTimingFunction,ce=E.animationDirection;return Object(ne.g)(Go,Dl({d:l},a,y,p?{strokeDasharray:w,stroke:C,style:{strokeDashoffset:B,animationName:$,animationDuration:Q,animationIterationCount:oe,animationTimingFunction:ie,animationDirection:ce}}:{}))}},{key:"getShape",value:function(){return Object(ne.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),l=a.stroke,p=a.className,y=a.strokeDasharray,E=o.getEdgeStyle();return Object(ne.g)("g",null,Object(ne.g)(Go,Dl({d:o.path},E,{className:p,strokeDasharray:y,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ne.g)(Go,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,l=a.hover,p=o,y=p.path,E=p.isSelected,w=ST(y),C=WD(w,2),B=C[0],$=C[1],Q={start:B,end:$,hover:l,isSelected:E};return Q}}]),t}(Pi);function Cl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cl=function(t){return typeof t}:Cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function Yg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ij(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Yg(Object(t),!0).forEach(function(n){aj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function aj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function uj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lj(e,r,t){return r&&Wg(e.prototype,r),t&&Wg(e,t),e}function sj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xc(e,r)}function Xc(e,r){return Xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xc(e,r)}function fj(e){var r=pj();return function(){var n=Rl(e),o;if(r){var a=Rl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cj(this,o)}}function cj(e,r){if(r&&(Cl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dj(e)}function dj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rl(e){return Rl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rl(e)}var hj=function(e){sj(t,e);var r=fj(t);function t(){return uj(this,t),r.apply(this,arguments)}return lj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,l=o.style,p=a.start,y=a.end,E={start:p,end:y,offset:l.offset,verticalLength:l.verticalLength,type:"end"},w=hi(E),C=w.leftX,B=w.leftY,$=w.rightX,Q=w.rightY;return ij({d:"M".concat(C," ").concat(B," L").concat(y.x," ").concat(y.y," L").concat($," ").concat(Q," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,l=o.strokeWidth,p=o.stroke,y=o.fill;return Object(ne.g)(Go,{d:a,fill:y,strokeWidth:l,stroke:p})}},{key:"render",value:function(){return Object(ne.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ne.a);function vj(e,r){return Ys(e,r)}var Vg=vj;function yj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var gj=yj,mj=function(){return Sr.a.Date.now()},Yc=mj,bj=/\s/;function Oj(e){for(var r=e.length;r--&&bj.test(e.charAt(r)););return r}var Ej=Oj,xj=/^\s+/;function Sj(e){return e&&e.slice(0,Ej(e)+1).replace(xj,"")}var Pj=Sj,Kg=0/0,Tj=/^[-+]0x[0-9a-f]+$/i,Mj=/^0b[01]+$/i,wj=/^0o[0-7]+$/i,Aj=parseInt;function Nj(e){if(typeof e=="number")return e;if(Ea(e))return Kg;if(Mt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Pj(e);var t=Mj.test(e);return t||wj.test(e)?Aj(e.slice(2),t?2:8):Tj.test(e)?Kg:+e}var Zg=Nj,Dj="Expected a function",jj=Math.max,Cj=Math.min;function Rj(e,r,t){var n,o,a,l,p,y,E=0,w=!1,C=!1,B=!0;if(typeof e!="function")throw new TypeError(Dj);r=Zg(r)||0,Mt(t)&&(w=!!t.leading,C="maxWait"in t,a=C?jj(Zg(t.maxWait)||0,r):a,B="trailing"in t?!!t.trailing:B);function $(Ce){var et=n,Ge=o;return n=o=void 0,E=Ce,l=e.apply(Ge,et),l}function Q(Ce){return E=Ce,p=setTimeout(ce,r),w?$(Ce):l}function oe(Ce){var et=Ce-y,Ge=Ce-E,ht=r-et;return C?Cj(ht,a-Ge):ht}function ie(Ce){var et=Ce-y,Ge=Ce-E;return y===void 0||et>=r||et<0||C&&Ge>=a}function ce(){var Ce=Yc();if(ie(Ce))return Ne(Ce);p=setTimeout(ce,oe(Ce))}function Ne(Ce){return p=void 0,B&&n?$(Ce):(n=o=void 0,l)}function xe(){p!==void 0&&clearTimeout(p),E=0,n=y=o=p=void 0}function Pe(){return p===void 0?l:Ne(Yc())}function He(){var Ce=Yc(),et=ie(Ce);if(n=arguments,o=this,y=Ce,et){if(p===void 0)return Q(y);if(C)return clearTimeout(p),p=setTimeout(ce,r),$(y)}return p===void 0&&(p=setTimeout(ce,r)),l}return He.cancel=xe,He.flush=Pe,He}var Ij=Rj,_j=i(166);function Bj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Lj(e,r,t){return r&&Jg(e.prototype,r),t&&Jg(e,t),e}function Ln(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var zj=function(){function e(r){Bj(this,e),Ln(this,"undos",[]),Ln(this,"redos",[]),Ln(this,"callbacks",[]),Ln(this,"stopWatch",null),Ln(this,"curData",null),Ln(this,"maxSize",50),Ln(this,"waitTime",100),Ln(this,"eventCenter",void 0),this.eventCenter=r}return Lj(e,[{key:"add",value:function(t){Vg(gj(this.undos),t)||(this.undos.push(t),Vg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(at.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(_j.a)(t,Ij(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),Fj=zj;function Il(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Il=function(t){return typeof t}:Il=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}var Qg,qg,em;function Hj(e,r){return Uj(e)||$j(e,r)||kj(e,r)||Gj()}function Gj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kj(e,r){if(!!e){if(typeof e=="string")return tm(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tm(e,r)}}function tm(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function $j(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Uj(e){if(Array.isArray(e))return e}function rm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ko(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rm(Object(t),!0).forEach(function(n){oo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yj(e,r,t){return r&&nm(e.prototype,r),t&&nm(e,t),e}function Wj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wc(e,r)}function Wc(e,r){return Wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wc(e,r)}function Vj(e){var r=Zj();return function(){var n=_l(e),o;if(r){var a=_l(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Kj(this,o)}}function Kj(e,r){if(r&&(Il(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $o(e)}function $o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _l(e){return _l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_l(e)}function oo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vc=Gr(Qg=(em=qg=function(e){Wj(t,e);var r=Vj(t);function t(){var n;return Xj(this,t),n=r.call(this),oo($o(n),"ref",Object(ne.f)()),oo($o(n),"__prevText",{type:"",text:"",id:""}),oo($o(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),oo($o(n),"inputHandler",function(o){var a=o.target,l=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:l.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),oo($o(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Yj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter,l=o.editConfigModel,p=l.edgeTextEdit,y=l.nodeTextEdit;(p||y)&&a.on("".concat(at.GRAPH_TRANSFORM,",").concat(at.NODE_CLICK,",").concat(at.BLANK_CLICK," "),function(){o.textEditElement&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,l=a.text,p=a.id;o.updateText(p,l),o.eventCenter.emit(at.TEXT_UPDATE,ko({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,l=this.state.style;return a?Object(ne.g)("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,l=a.transformModel,p=a.theme,y=a.textEditElement,E;if(y){var w;if(!((w=y.text)!==null&&w!==void 0&&w.value))if(y.BaseType===Gt.EDGE){y=y;var C=y.text,B=y.textPosition,$=B.x,Q=B.y;C.x=$,C.y=Q,y.setText(C)}else y=y;var oe={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(y.BaseType===Gt.EDGE){var ie=p.edgeText,ce=ie.overflowMode,Ne=ie.lineHeight,xe=ie.wrapPadding,Pe=ie.textWidth;Pe&&ce==="autoWrap"&&(E=ko(ko({},oe),{},{width:Pe,minWidth:Pe,lineHeight:Ne,padding:xe}))}else if(y.BaseType===Gt.NODE){var He=p.nodeText,Ce=He.overflowMode,et=He.lineHeight,Ge=He.wrapPadding,ht=He.textWidth,yt=y,lr=yt.width,Er=yt.modelType;(Er!==dt.TEXT_NODE&&Ce==="autoWrap"||Er===dt.TEXT_NODE&&ht)&&(E=ko(ko({},oe),{},{width:ht||lr,minWidth:ht||lr,lineHeight:et,padding:Ge}))}var nn=y.text,zn=nn.x,io=nn.y,Uo=l.CanvasPointToHtmlPoint([zn,io]),Fn=Hj(Uo,2),Xo=Fn[0],td=Fn[1];return{style:ko({left:Xo,top:td},E)}}}}]),t}(ne.a),oo(qg,"toolName","textEdit"),em))||Qg,Jj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Qj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,l=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-l/2,y:a-p/2,x1:o+l/2,y1:a+p/2}},qj=function(r){var t=r.points,n=wo(t),o=vi(n,8),a=o.x,l=o.y,p=o.width,y=o.height;return{x:a-p/2,y:l-y/2,x1:a+p/2,y1:l+y/2}},eC=function(r){var t=r.path,n=$a(t),o=vi(n,8),a=o.x,l=o.y,p=o.width,y=o.height;return{x:a-p/2,y:l-y/2,x1:a+p/2,y1:l+y/2}},tC=function(r){if(r.modelType===dt.LINE_EDGE)return Qj(r);if(r.modelType===dt.POLYLINE_EDGE)return qj(r);if(r.modelType===dt.BEZIER_EDGE)return eC(r)};function Bl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bl=function(t){return typeof t}:Bl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}var om,im,am;function um(e,r){return oC(e)||nC(e,r)||lm(e,r)||rC()}function rC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nC(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(y){a=!0,p=y}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function oC(e){if(Array.isArray(e))return e}function iC(e){return lC(e)||uC(e)||lm(e)||aC()}function aC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lm(e,r){if(!!e){if(typeof e=="string")return Kc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kc(e,r)}}function uC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lC(e){if(Array.isArray(e))return Kc(e)}function Kc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function sC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fC(e,r,t){return r&&sm(e.prototype,r),t&&sm(e,t),e}function cC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zc(e,r)}function Zc(e,r){return Zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zc(e,r)}function dC(e){var r=hC();return function(){var n=Ll(e),o;if(r){var a=Ll(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pC(this,o)}}function pC(e,r){if(r&&(Bl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(e)}function Ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ll(e){return Ll=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ll(e)}function Mi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Jc=Gr(om=(am=im=function(e){cC(t,e);var r=dC(t);function t(n){var o;sC(this,t),o=r.call(this),Mi(Ti(o),"stepDrag",void 0),Mi(Ti(o),"handleMouseDown",function(y){o.stepDrag.handleMouseDown(y)}),Mi(Ti(o),"onDraging",function(y){var E=y.deltaX,w=y.deltaY,C=o.props.graphModel,B=C.getSelectElements(!0);C.moveNodes(B.nodes.map(function($){return $.id}),E,w)}),Mi(Ti(o),"handleContextMenu",function(y){y.preventDefault();var E=o.props,w=E.graphModel,C=E.graphModel,B=C.eventCenter,$=C.selectElements,Q=w.getPointByClient({x:y.clientX,y:y.clientY}),oe={nodes:[],edges:[]},ie=iC($.values());ie.forEach(function(ce){ce.BaseType===Gt.NODE&&oe.nodes.push(ce.getData()),ce.BaseType===Gt.EDGE&&oe.edges.push(ce.getData())}),B.emit(at.SELECTION_CONTEXTMENU,{data:oe,e:y,position:Q})});var a=n.graphModel,l=a.gridSize,p=a.eventCenter;return o.stepDrag=new eo({onDraging:o.onDraging,step:l,eventType:"SELECTION",eventCenter:p}),o}return fC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,l=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;a.forEach(function(ie){var ce={x:0,y:0,x1:0,y1:0};ie.BaseType===Gt.NODE&&(ce=Jj(ie)),ie.BaseType===Gt.EDGE&&(ce=tC(ie)),p=Math.min(p,ce.x),y=Math.min(y,ce.y),E=Math.max(E,ce.x1),w=Math.max(w,ce.y1)});var C=l.CanvasPointToHtmlPoint([p,y]),B=um(C,2);p=B[0],y=B[1];var $=l.CanvasPointToHtmlPoint([E,w]),Q=um($,2);E=Q[0],w=Q[1];var oe={left:"".concat(p-10,"px"),top:"".concat(y-10,"px"),width:"".concat(E-p+20,"px"),height:"".concat(w-y+20,"px")};return Object(ne.g)("div",{className:"lf-multiple-select",style:oe,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ne.a),Mi(im,"toolName","multipleSelect"),am))||om;function vC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yC(e,r,t){return r&&fm(e.prototype,r),t&&fm(e,t),e}function zl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gC=function(){function e(r){vC(this,e),zl(this,"tools",void 0),zl(this,"components",void 0),zl(this,"toolMap",new Map),zl(this,"instance",void 0),this.instance=r,this.isDisabledTool(Vc.toolName)||this.registerTool(Vc.toolName,Vc),this.isDisabledTool(Jc.toolName)||this.registerTool(Jc.toolName,Jc)}return yC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),mC=i(167),bC=i.n(mC);function OC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function EC(e,r,t){return r&&cm(e.prototype,r),t&&cm(e,t),e}function Qc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var dm=function(){function e(r){OC(this,e),Qc(this,"mousetrap",void 0),Qc(this,"options",void 0),Qc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new bC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return EC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var y=p.keys,E=p.callback,w=p.action;return t.on(y,E,w)});else{var o=n.keys,a=n.callback,l=n.action;this.on(o,a,l)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),xC=dm,rn=null;function pm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function hm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Fl=40;function SC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),l=o&&o.beforeClone?o.beforeClone(a):!0;return l?(rn=a,rn.nodes.forEach(function(p){return pm(p,Fl)}),rn.edges.forEach(function(p){return hm(p,Fl)}),!1):(rn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(rn&&(rn.nodes||rn.edges)){e.clearSelectElements();var o=e.addElements(rn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),rn.nodes.forEach(function(a){return pm(a,Fl)}),rn.edges.forEach(function(a){return hm(a,Fl)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function PC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Hl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hl=function(t){return typeof t}:Hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function vm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function qc(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vm(Object(t),!0).forEach(function(n){Lt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ym(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MC(e,r,t){return r&&ym(e.prototype,r),t&&ym(e,t),e}function Lt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ed=function(){function e(r){var t=this;TC(this,e),Lt(this,"container",void 0),Lt(this,"width",void 0),Lt(this,"height",void 0),Lt(this,"graphModel",void 0),Lt(this,"history",void 0),Lt(this,"viewMap",new Map),Lt(this,"tool",void 0),Lt(this,"keyboard",void 0),Lt(this,"dnd",void 0),Lt(this,"options",void 0),Lt(this,"snaplineModel",void 0),Lt(this,"components",[]),Lt(this,"plugins",void 0),Lt(this,"extension",{}),Lt(this,"adapterIn",void 0),Lt(this,"adapterOut",void 0),Lt(this,"getView",function(n){return t.viewMap.get(n)}),r=zv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new zT(qc({},r)),this.tool=new gC(this),this.history=new Fj(this.graphModel.eventCenter),this.dnd=new Sw({lf:this}),this.keyboard=new xC({lf:this,keyboard:r.keyboard}),!r.isSilentMode&&r.snapline!==!1&&(this.snaplineModel=new ng(this.graphModel),PC(this.graphModel.eventCenter,this.snaplineModel)),SC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return MC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Pi,BaseEdgeModel:pf,BaseNode:vn,BaseNodeModel:pn,RectNode:hc,RectNodeModel:rc,CircleNode:gc,CircleNodeModel:Xf,PolygonNode:Oc,PolygonNodeModel:qf,TextNode:Ac,TextNodeModel:oc,LineEdge:Hc,LineEdgeModel:yf,DiamondNode:Sc,DiamondNodeModel:Vf,PolylineEdge:kc,PolylineEdgeModel:bf,BezierEdge:Uc,BezierEdgeModel:kf,EllipseNode:Mc,EllipseNodeModel:Zf,HtmlNode:jc,HtmlNodeModel:ac,h:ne.g,type:t};this.viewMap.forEach(function(w){var C=w.extendKey;C&&(a[C]=w)}),this.graphModel.modelMap.forEach(function(w){var C=w.extendKey;C&&(a[C]=w)});var l=n(a),p=l.view,y=l.model,E=p;o&&!E.isObervered&&(E.isObervered=!0,E=mt(E)),this.setView(t,E),this.graphModel.setModel(t,y)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=mt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:hc,model:rc,type:"rect"}),this.registerElement({type:"circle",view:gc,model:Xf}),this.registerElement({type:"polygon",view:Oc,model:qf}),this.registerElement({type:"line",view:Hc,model:yf}),this.registerElement({type:"polyline",view:kc,model:bf}),this.registerElement({type:"bezier",view:Uc,model:kf}),this.registerElement({type:"text",view:Ac,model:oc}),this.registerElement({type:"ellipse",view:Mc,model:Zf}),this.registerElement({type:"diamond",view:Sc,model:Vf}),this.registerElement({type:"html",view:jc,model:ac})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(t,n),n||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var l=this.getNodeModelById(a);l&&(o=l.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var y=o,E=y.x,w=y.y;n.focusOn(E,w,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,l=this.getModelById(t);if(!l)return!1;var p=(n={},Lt(n,Gt.NODE,this.deleteNode),Lt(n,Gt.EDGE,this.deleteEdge),n),y=l.BaseType;return(o=(a=p[y])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,l=a&&a.beforeDelete?a.beforeDelete(o):!0;return l&&this.graphModel.deleteNode(t),l}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,l=a&&a.beforeClone?a.beforeClone(o):!0;if(l)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),l=n&&n.beforeDelete?n.beforeDelete(a):!0;return l&&this.graphModel.deleteEdgeById(t),l}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var l=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===a&&l.push(E)}),l}if(o){var p=[];return n.forEach(function(E){E.sourceNodeId===o&&p.push(E)}),p}if(a){var y=[];return n.forEach(function(E){E.targetNodeId===a&&y.push(E)}),y}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(er(n))}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,l={},p={nodes:[],edges:[]},y=0;y<o.length;y++){var E=o[y],w=E.id,C=this.addNode(E);if(!C)return;w&&(l[w]=C.id),p.nodes.push(C)}return a.forEach(function(B){var $=B.sourceNodeId,Q=B.targetNodeId;l[$]&&(B.sourceNodeId=l[$]),l[Q]&&(B.targetNodeId=l[Q]);var oe=n.graphModel.addEdge(B);p.edges.push(oe)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,l).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=er(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=er(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,l=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:l}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(l){var p=l.pluginName||l.name;o.indexOf(p)===-1&&n.installPlugin(l)})}},{key:"installPlugin",value:function(t){if(Hl(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,l=new a({lf:this,LogicFlow:e});l.render&&this.components.push(l.render.bind(l)),this.extension[a.pluginName]=l}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(qc(qc({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(er(t)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(ne.j)(Object(ne.g)(Ow,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(at.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();Lt(ed,"extensions",new Map);function Gr(e){return mt(e)}c.default=ed}])})})(Ke,Ke.exports);const kl=Km(Ke.exports),FC=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start"},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"\u7528\u6237",class:"bpmn-user"}];function HC(m,v){return v={exports:{}},m(v,v.exports),v.exports}var GC=HC(function(m){var v=m.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,u/s))/Math.log(c)*s;for(var f=i-Math.floor(i),g="",s=0;s<Math.floor(i);s++){var b=Math.floor(Math.random()*c).toString(c);g=b+g}if(f){var x=Math.pow(c,f),b=Math.floor(Math.random()*x).toString(c);g=b+g}var S=parseInt(g,c);return S!==1/0&&S>=Math.pow(2,u)?v(u,c):g};v.rack=function(u,c,i){var s=function(g){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var x=v(u,c)}while(Object.hasOwnProperty.call(f,x));return f[x]=g,x},f=s.hats={};return s.get=function(g){return s.hats[g]},s.set=function(g,b){return s.hats[g]=b,s},s.bits=u||128,s.base=c||16,s}});function an(m){if(!(this instanceof an))return new an(m);m=m||[128,36,1],this._seed=m.length?GC.rack(m[0],m[1],m[2]):m}an.prototype.next=function(m){return this._seed(m||!0)};an.prototype.nextPrefixed=function(m,v){var u;do u=m+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};an.prototype.claim=function(m,v){this._seed.set(m,v||!0)};an.prototype.assigned=function(m){return this._seed.get(m)||!1};an.prototype.unclaim=function(m){delete this._seed.hats[m]};an.prototype.clear=function(){var m=this._seed.hats,v;for(v in m)this.unclaim(v)};var kC=new an([32,32,1]);function Qo(){return kC.next()}var nb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),$C=function(m){nb(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+Qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=m.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(Ke.exports.CircleNodeModel),UC=function(m){nb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(Ke.exports.CircleNode),XC={type:"bpmn:startEvent",view:UC,model:$C},ob=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Xl=globalThis&&globalThis.__assign||function(){return Xl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Xl.apply(this,arguments)},YC=function(m){ob(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+Qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=m.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(Ke.exports.CircleNodeModel),WC=function(m){ob(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,s=u.y,f=u.r,g=m.prototype.getShape.call(this);return Ke.exports.h("g",{},g,Ke.exports.h("circle",Xl(Xl({},c),{cx:i,cy:s,r:f-5})))},v.extendKey="EndEventView",v}(Ke.exports.CircleNode),VC={type:"bpmn:endEvent",view:WC,model:YC},ib=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ci=globalThis&&globalThis.__assign||function(){return Ci=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ci.apply(this,arguments)},KC=function(m){ib(v,m);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+Qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(Ke.exports.PolygonNodeModel),ZC=function(m){ib(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,g=u.points,b=u.getNodeStyle();return Ke.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-s/2)+" "+(i-f/2)+")"},Ke.exports.h("polygon",Ci(Ci({},b),{x:c,y:i,points:g})),Ke.exports.h("path",Ci({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(Ke.exports.PolygonNode),JC={type:"bpmn:exclusiveGateway",view:ZC,model:KC},ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Yl=globalThis&&globalThis.__assign||function(){return Yl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Yl.apply(this,arguments)},QC=function(m){ab(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Qo()),i=m.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(Ke.exports.RectNodeModel),qC=function(m){ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,g=u.getNodeStyle();return Ke.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:g.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,g=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",Yl(Yl({},b),{x:c-s/2,y:i-f/2,rx:g,ry:g,width:s,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(Ke.exports.RectNode),e2={type:"bpmn:userTask",view:qC,model:QC},ub=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),nd=globalThis&&globalThis.__assign||function(){return nd=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},nd.apply(this,arguments)},t2=function(m){ub(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Qo()),i=m.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(Ke.exports.RectNodeModel),r2=function(m){ub(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,g=u.getNodeStyle();return Ke.exports.h("svg",{x:c-s/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:g.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,g=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",nd({x:c-s/2,y:i-f/2,rx:g,ry:g,width:s,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(Ke.exports.RectNode),n2={type:"bpmn:serviceTask",view:r2,model:t2},lb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),o2=function(m){lb(v,m);function v(u,c){var i=this;return u.id||(u.id="Flow_"+Qo()),i=m.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(Ke.exports.PolylineEdgeModel),i2=function(m){lb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(Ke.exports.PolylineEdge),a2={type:"bpmn:sequenceFlow",view:i2,model:o2},Pm={width:40,height:40},Tm={width:40,height:40},Mm={width:40,height:40},wm={width:100,height:80},Am={width:100,height:80},u2={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},l2=function(){function m(v){var u=v.lf;u.setTheme(u2),u.register(XC),u.register(VC),u.register(JC),u.register(e2),u.register(n2),u.options.customBpmnEdge||(u.register(a2),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),s2=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,s){u.getSnapshot(i,s)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return m.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var s=i.x,f=i.width,g=i.y,b=i.height,x=s-f/2,S=g-b/2;x<u.offsetX&&(u.offsetX=x-5),S<u.offsetY&&(u.offsetY=S-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(s){var f=s.x,g=s.y;f<u.offsetX&&(u.offsetX=f-5),g<u.offsetY&&(u.offsetY=g-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},m.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},m.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var s=u[i],f=s.classList&&Array.from(s.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},m.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(s){var f=s.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},m.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){var f=s.toDataURL("image/png");i({data:f,width:s.width,height:s.height})})})},m.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){s.toBlob(function(f){i({data:f,width:s.width,height:s.height})},"image/png")})})},m.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],s=0;s<i.cssRules.length;s++)v+=i.cssRules[s].cssText;return this.customCssRules&&(v+=this.customCssRules),v},m.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),s=i.lastChild,f=s.childNodes&&s.childNodes.length;if(f)for(var g=0;g<f;g++){var b=s.childNodes[g],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)s.removeChild(s.childNodes[g]),f--,g--;else{var S=s.childNodes[g];S&&S.childNodes.forEach(function(z){var W=z;c.removeAnchor(W.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,N=document.createElement("canvas"),A=this.lf.graphModel.rootEl.querySelector(".lf-base"),R=A.getBoundingClientRect(),I=this.lf.graphModel,L=I.transformModel,G=L.SCALE_X,U=L.SCALE_Y,Y=Math.ceil(R.width/G),ue=Math.ceil(R.height/U);N.style.width=Y+"px",N.style.height=ue+"px",N.width=Y*P+80,N.height=ue*P+80;var ae=N.getContext("2d");ae.clearRect(0,0,N.width,N.height),ae.scale(P,P),u?(ae.fillStyle=u,ae.fillRect(0,0,Y*P+80,ue*P+80)):ae.clearRect(0,0,Y,ue);var ee=new Image,q=document.createElement("style");q.innerHTML=this.getClassRules();var se=document.createElement("foreignObject");return se.appendChild(q),i.appendChild(se),new Promise(function(z){ee.onload=function(){ae.drawImage(ee,0,0),z(N)};var W="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),T=W.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");ee.src=T})},m.pluginName="snapshot",m}(),f2=new an([32,32,1]);function Nm(){return f2.next()}var dr=function(){};dr.ObjTree=function(){return this};dr.ObjTree.VERSION="0.23";dr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;dr.ObjTree.prototype.attr_prefix="-";dr.ObjTree.prototype.parseXML=function(m){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(m,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(m),v=u.documentElement);if(!!v)return this.parseDOM(v)};dr.ObjTree.prototype.parseHTTP=function(m,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var s=this,f=u,g=c.onComplete;c.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=s.parseDOM(S.responseXML.documentElement)),f(P,S),g&&g(S)}}else c.asynchronous=!1;var b;if(typeof HTTP<"u"&&HTTP.Request){c.uri=m;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(m,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};dr.ObjTree.prototype.parseDOM=function(m){if(!!m){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(m);if(this.__force_array[m.nodeName]&&(u=[u]),m.nodeType!=11){var c={};c[m.nodeName]=u,u=c}return u}};dr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4){var v=m.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:m.nodeValue}var u,c={};if(m.attributes&&m.attributes.length){u={};for(var i=0;i<m.attributes.length;i++){var s=m.attributes[i].nodeName;if(typeof s=="string"){var f=m.attributes[i].nodeValue;!f||(s=this.attr_prefix+s,typeof c[s]>"u"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}if(m.childNodes&&m.childNodes.length){var g=!0;u&&(g=!1);for(var i=0;i<m.childNodes.length&&g;i++){var b=m.childNodes[i].nodeType;b==3||b==4||(g=!1)}if(g){u||(u="");for(var i=0;i<m.childNodes.length;i++)u+=m.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<m.childNodes.length;i++){var s=m.childNodes[i].nodeName;if(typeof s=="string"){var f=this.parseElement(m.childNodes[i]);!f||(typeof c[s]>"u"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],f))}}}}return u}};dr.ObjTree.prototype.addNode=function(m,v,u,c){this.__force_array[v]?(u==1&&(m[v]=[]),m[v][m[v].length]=c):u==1?m[v]=c:u==2?m[v]=[m[v],c]:m[v][m[v].length]=c};dr.ObjTree.prototype.writeXML=function(m){var v=this.hash_to_xml(null,m);return this.xmlDecl+v};dr.ObjTree.prototype.hash_to_xml=function(m,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var s=v[i];i.charAt(0)!=this.attr_prefix?typeof s>"u"||s==null?u[u.length]="<"+i+" />":typeof s=="object"&&s.constructor==Array?u[u.length]=this.array_to_xml(i,s):typeof s=="object"?u[u.length]=this.hash_to_xml(i,s):u[u.length]=this.scalar_to_xml(i,s):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(s)+'"'}var f=c.join(""),g=u.join("");return typeof m>"u"||m==null||(u.length>0?g.match(/\n/)?g="<"+m+f+`>
`+g+"</"+m+`>
`:g="<"+m+f+">"+g+"</"+m+`>
`:g="<"+m+f+` />
`),g};dr.ObjTree.prototype.array_to_xml=function(m,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i>"u"||i==null?u[u.length]="<"+m+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(m,i):typeof i=="object"?u[u.length]=this.hash_to_xml(m,i):u[u.length]=this.scalar_to_xml(m,i)}return u.join("")};dr.ObjTree.prototype.scalar_to_xml=function(m,v){return m=="#text"?this.xml_escape(v):"<"+m+">"+this.xml_escape(v)+"</"+m+`>
`};dr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Jl=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},un;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(un||(un={}));var sb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function od(m){var v={};return Object.entries(m).forEach(function(u){var c=Jl(u,2),i=c[0],s=c[1];typeof s!="object"?i.indexOf("-")===0?v[i]=s:v["-"+i]=s:v[i]=od(s)}),v}function sd(m){var v={};return Object.entries(m).forEach(function(u){var c=Jl(u,2),i=c[0],s=c[1];typeof s=="string"?i.indexOf("-")===0?v[i.substr(1)]=s:v[i]=s:typeof s=="object"?v[i]=sd(s):v[i]=s}),v}function c2(m,v){var u=new Map;v.nodes.forEach(function(i){var s,f={"-id":i.id};if(!((s=i.text)===null||s===void 0)&&s.value&&(f["-name"]=i.text.value),i.properties){var g=od(i.properties);Object.assign(f,g)}u.set(i.id,f),m[i.type]?Array.isArray(m[i.type])?m[i.type].push(f):m[i.type]=[m[i.type],f]:m[i.type]=f});var c=v.edges.map(function(i){var s,f,g=u.get(i.targetNodeId);g["bpmn:incoming"]?Array.isArray(g["bpmn:incoming"])?g["bpmn:incoming"].push(i.id):g["bpmn:incoming"]=[g["bpmn:incoming"],i.id]:g["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((s=i.text)===null||s===void 0)&&s.value&&(x["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var S=od(i.properties);Object.assign(x,S)}return x});m[un.FLOW]=c}function d2(m,v){m["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,s=u.pointsList.map(function(g){var b=g.x,x=g.y;return{"-x":b,"-y":x}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":s};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),m["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,s=100,f=80,g=u.x,b=u.y,x=so.shapeConfigMap.get(u.type);x&&(s=x.width,f=x.height),g-=s/2,b-=f/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":g,"-y":b,"-width":s,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function p2(m){var v=[],u=[],c=m["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(s){if(s.indexOf("bpmn:")===0){var f=i[s];if(s===un.FLOW){var g=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=v2(f,g)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(h2(f,b,s))}}})}return{nodes:v,edges:u}}function h2(m,v,u){var c=[];if(Array.isArray(m))m.forEach(function(f){var g;Array.isArray(v)?g=v.find(function(x){return x["-bpmnElement"]===f["-id"]}):g=v;var b=Dm(g,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===m["-id"]}):i=v;var s=Dm(i,u,m);c.push(s)}return c}function Dm(m,v,u){var c=Number(m["dc:Bounds"]["-x"]),i=Number(m["dc:Bounds"]["-y"]),s=u["-name"],f=so.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var g;Object.entries(u).forEach(function(P){var N=Jl(P,2),A=N[0],R=N[1];sb.indexOf(A)===-1&&(g||(g={}),g[A]=R)}),g&&(g=sd(g));var b;if(s&&(b={x:c,y:i,value:s},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=m["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:m["-bpmnElement"],type:v,x:c,y:i,properties:g};return b&&(S.text=b),S}function v2(m,v){var u=[];if(Array.isArray(m))m.forEach(function(i){var s;Array.isArray(v)?s=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):s=v,u.push(jm(s,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===m["-id"]}):c=v,u.push(jm(c,m))}return u}function jm(m,v){var u,c=v["-name"];if(c){var i=m["bpmndi:BPMNLabel"]["dc:Bounds"],s=0;c.split(`
`).forEach(function(b){s<b.length&&(s=b.length)}),u={value:c,x:Number(i["-x"])+s*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var x=Jl(b,2),S=x[0],P=x[1];sb.indexOf(S)===-1&&(f||(f={}),f[S]=P)}),f&&(f=sd(f));var g={id:v["-id"],type:un.FLOW,pointsList:m["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(g.text=u),g}var so={pluginName:"bpmn-adapter",install:function(m){m.adapterIn=this.adapterIn,m.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(m,v){this.shapeConfigMap.set(m,v)},adapterOut:function(m){var v={"-id":"Process_"+Nm(),"-isExecutable":"false"};c2(v,m);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};d2(u,m);var c={"bpmn:definitions":{"-id":"Definitions_"+Nm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(m){if(m)return p2(m)}};so.shapeConfigMap.set(un.START,{width:Pm.width,height:Pm.height});so.shapeConfigMap.set(un.END,{width:Tm.width,height:Tm.height});so.shapeConfigMap.set(un.GATEWAY,{width:Mm.width,height:Mm.height});so.shapeConfigMap.set(un.SYSTEM,{width:wm.width,height:wm.height});so.shapeConfigMap.set(un.USER,{width:Am.width,height:Am.height});var Cm=globalThis&&globalThis.__assign||function(){return Cm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Cm.apply(this,arguments)};globalThis&&globalThis.__read;var Rm;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(Rm||(Rm={}));var y2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var g2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var m2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},b2=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(m2(arguments[v]));return m},wi="lf:defaultNodeMenu",Ai="lf:defaultEdgeMenu",Ni="lf:defaultGraphMenu",Im="lf:defaultSelectionMenu",O2=function(){function m(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return m.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteNode(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}},{text:"\u590D\u5236",callback:function(s){v.lf.cloneNode(s.id)}}];this.menuTypeMap.set(wi,u);var c=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteEdge(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}}];this.menuTypeMap.set(Ai,c),this.menuTypeMap.set(Ni,[]);var i=[{text:"\u5220\u9664",callback:function(s){v.lf.clearSelectElements(),s.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),s.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(Im,i)},m.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var s=i.target;Array.from(s.classList).indexOf("lf-menu-item")===-1&&Array.from(s.classList).indexOf("lf-menu")===-1;)s=s.parentElement;Array.from(s.classList).indexOf("lf-menu-item")>-1?(s.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var s=i.data,f=i.position,g=f.domOverlayPosition,b=g.x,x=g.y,S=s.id,P=c.lf.graphModel.getNodeModelById(S),N=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?N=P.menu:A?N=A:N=c.menuTypeMap.get(wi),c.__currentData=s,c.showMenu(b,x,N)}),this.lf.on("edge:contextmenu",function(i){var s=i.data,f=i.position,g=f.domOverlayPosition,b=g.x,x=g.y,S=s.id,P=c.lf.graphModel.getEdgeModelById(S),N=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?N=P.menu:A?N=A:N=c.menuTypeMap.get(Ai),c.__currentData=s,c.showMenu(b,x,N)}),this.lf.on("blank:contextmenu",function(i){var s=i.position,f=c.menuTypeMap.get(Ni),g=s.domOverlayPosition,b=g.x,x=g.y;c.showMenu(b,x,f)}),this.lf.on("selection:contextmenu",function(i){var s=i.data,f=i.position,g=c.menuTypeMap.get(Im),b=f.domOverlayPosition,x=b.x,S=b.y;c.__currentData=s,c.showMenu(x,S,g)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},m.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,b2(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},m.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},m.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var s=document.createElement("span");s.className="lf-menu-item-icon",i.appendChild(s)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},m.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(wi,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Ai,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Ni,v.graphMenu?v.graphMenu:[]))},m.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Ai);this.menuTypeMap.set(Ai,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.graphMenu))}}},m.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var fb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Di=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};(function(m){fb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getEdge=function(){for(var u=this.props.model.getEdgeStyle(),c=u.strokeWidth,i=u.stroke,s=u.strokeDashArray,f=this.props.model.points,g=f.split(" ").map(function(M){return M.split(",").map(function(D){return Number(D)})}),b=Di(g[0],2),x=b[0],S=b[1],P="M"+x+" "+S,N=5,A=1;A<g.length-1;A++){var R=Di(g[A-1],2),I=R[0],L=R[1],G=Di(g[A],2),U=G[0],Y=G[1],ue=Di(g[A+1],2),ae=ue[0],ee=ue[1];if(U===I&&Y!==L){var q=Y>L?Y-N:Y+N;P=P+" L "+U+" "+q}if(Y===L&&U!==I){var se=U>I?U-N:U+N;P=P+" L "+se+" "+Y}if(P=P+" Q "+U+" "+Y,U===ae&&Y!==ee){var q=Y>ee?Y-N:Y+N;P=P+" "+U+" "+q}if(Y===ee&&U!==ae){var se=U>ae?U-N:U+N;P=P+" "+se+" "+Y}}var z=Di(g[g.length-1],2),W=z[0],T=z[1];return P=P+" L "+W+" "+T,Ke.exports.h("path",{d:P,strokeWidth:c,stroke:i,fill:"none",strokeDashArray:s})},v.extendKey="curvedEdge",v})(Ke.exports.PolylineEdge);(function(m){fb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v})(Ke.exports.PolylineEdgeModel);var fd,Ht,cb,Ri,_m,db={},pb=[],E2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Hn(m,v){for(var u in v)m[u]=v[u];return m}function hb(m){var v=m.parentNode;v&&v.removeChild(m)}function Ii(m,v,u){var c,i,s,f={};for(s in v)s=="key"?c=v[s]:s=="ref"?i=v[s]:f[s]=v[s];if(arguments.length>2&&(f.children=arguments.length>3?fd.call(arguments,2):u),typeof m=="function"&&m.defaultProps!=null)for(s in m.defaultProps)f[s]===void 0&&(f[s]=m.defaultProps[s]);return $l(m,f,c,i,null)}function $l(m,v,u,c,i){var s={type:m,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++cb:i};return i==null&&Ht.vnode!=null&&Ht.vnode(s),s}function cd(m){return m.children}function Zo(m,v){this.props=m,this.context=v}function Jo(m,v){if(v==null)return m.__?Jo(m.__,m.__.__k.indexOf(m)+1):null;for(var u;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null)return u.__e;return typeof m.type=="function"?Jo(m):null}function vb(m){var v,u;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null){m.__e=m.__c.base=u.__e;break}return vb(m)}}function Bm(m){(!m.__d&&(m.__d=!0)&&Ri.push(m)&&!Wl.__r++||_m!==Ht.debounceRendering)&&((_m=Ht.debounceRendering)||setTimeout)(Wl)}function Wl(){for(var m;Wl.__r=Ri.length;)m=Ri.sort(function(v,u){return v.__v.__b-u.__v.__b}),Ri=[],m.some(function(v){var u,c,i,s,f,g;v.__d&&(f=(s=(u=v).__v).__e,(g=u.__P)&&(c=[],(i=Hn({},s)).__v=s.__v+1,bb(g,s,i,u.__n,g.ownerSVGElement!==void 0,s.__h!=null?[f]:null,c,f==null?Jo(s):f,s.__h),S2(c,s),s.__e!=f&&vb(s)))})}function yb(m,v,u,c,i,s,f,g,b,x){var S,P,N,A,R,I,L,G=c&&c.__k||pb,U=G.length;for(u.__k=[],S=0;S<v.length;S++)if((A=u.__k[S]=(A=v[S])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?$l(null,A,null,null,A):Array.isArray(A)?$l(cd,{children:A},null,null,null):A.__b>0?$l(A.type,A.props,A.key,null,A.__v):A)!=null){if(A.__=u,A.__b=u.__b+1,(N=G[S])===null||N&&A.key==N.key&&A.type===N.type)G[S]=void 0;else for(P=0;P<U;P++){if((N=G[P])&&A.key==N.key&&A.type===N.type){G[P]=void 0;break}N=null}bb(m,A,N=N||db,i,s,f,g,b,x),R=A.__e,(P=A.ref)&&N.ref!=P&&(L||(L=[]),N.ref&&L.push(N.ref,null,A),L.push(P,A.__c||R,A)),R!=null?(I==null&&(I=R),typeof A.type=="function"&&A.__k===N.__k?A.__d=b=gb(A,b,m):b=mb(m,A,N,G,R,b),typeof u.type=="function"&&(u.__d=b)):b&&N.__e==b&&b.parentNode!=m&&(b=Jo(N))}for(u.__e=I,S=U;S--;)G[S]!=null&&(typeof u.type=="function"&&G[S].__e!=null&&G[S].__e==u.__d&&(u.__d=Jo(c,S+1)),Eb(G[S],G[S]));if(L)for(S=0;S<L.length;S++)Ob(L[S],L[++S],L[++S])}function gb(m,v,u){for(var c,i=m.__k,s=0;i&&s<i.length;s++)(c=i[s])&&(c.__=m,v=typeof c.type=="function"?gb(c,v,u):mb(u,c,c,i,c.__e,v));return v}function mb(m,v,u,c,i,s){var f,g,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==m)m.appendChild(i),f=null;else{for(g=s,b=0;(g=g.nextSibling)&&b<c.length;b+=2)if(g==i)break e;m.insertBefore(i,s),f=s}return f!==void 0?f:i.nextSibling}function x2(m,v,u,c,i){var s;for(s in u)s==="children"||s==="key"||s in v||Vl(m,s,null,u[s],c);for(s in v)i&&typeof v[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||u[s]===v[s]||Vl(m,s,v[s],u[s],c)}function Lm(m,v,u){v[0]==="-"?m.setProperty(v,u):m[v]=u==null?"":typeof u!="number"||E2.test(v)?u:u+"px"}function Vl(m,v,u,c,i){var s;e:if(v==="style")if(typeof u=="string")m.style.cssText=u;else{if(typeof c=="string"&&(m.style.cssText=c=""),c)for(v in c)u&&v in u||Lm(m.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||Lm(m.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")s=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+s]=u,u?c||m.addEventListener(v,s?Fm:zm,s):m.removeEventListener(v,s?Fm:zm,s);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=u==null?"":u;break e}catch{}typeof u=="function"||(u!=null&&(u!==!1||v[0]==="a"&&v[1]==="r")?m.setAttribute(v,u):m.removeAttribute(v))}}function zm(m){this.l[m.type+!1](Ht.event?Ht.event(m):m)}function Fm(m){this.l[m.type+!0](Ht.event?Ht.event(m):m)}function bb(m,v,u,c,i,s,f,g,b){var x,S,P,N,A,R,I,L,G,U,Y,ue,ae,ee=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,g=v.__e=u.__e,v.__h=null,s=[g]),(x=Ht.__b)&&x(v);try{e:if(typeof ee=="function"){if(L=v.props,G=(x=ee.contextType)&&c[x.__c],U=x?G?G.props.value:x.__:c,u.__c?I=(S=v.__c=u.__c).__=S.__E:("prototype"in ee&&ee.prototype.render?v.__c=S=new ee(L,U):(v.__c=S=new Zo(L,U),S.constructor=ee,S.render=T2),G&&G.sub(S),S.props=L,S.state||(S.state={}),S.context=U,S.__n=c,P=S.__d=!0,S.__h=[]),S.__s==null&&(S.__s=S.state),ee.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Hn({},S.__s)),Hn(S.__s,ee.getDerivedStateFromProps(L,S.__s))),N=S.props,A=S.state,P)ee.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(ee.getDerivedStateFromProps==null&&L!==N&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(L,U),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(L,S.__s,U)===!1||v.__v===u.__v){S.props=L,S.state=S.__s,v.__v!==u.__v&&(S.__d=!1),S.__v=v,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(q){q&&(q.__=v)}),S.__h.length&&f.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(L,S.__s,U),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(N,A,R)})}if(S.context=U,S.props=L,S.__v=v,S.__P=m,Y=Ht.__r,ue=0,"prototype"in ee&&ee.prototype.render)S.state=S.__s,S.__d=!1,Y&&Y(v),x=S.render(S.props,S.state,S.context);else do S.__d=!1,Y&&Y(v),x=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++ue<25);S.state=S.__s,S.getChildContext!=null&&(c=Hn(Hn({},c),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(R=S.getSnapshotBeforeUpdate(N,A)),ae=x!=null&&x.type===cd&&x.key==null?x.props.children:x,yb(m,Array.isArray(ae)?ae:[ae],v,u,c,i,s,f,g,b),S.base=v.__e,v.__h=null,S.__h.length&&f.push(S),I&&(S.__E=S.__=null),S.__e=!1}else s==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=P2(u.__e,v,u,c,i,s,f,b);(x=Ht.diffed)&&x(v)}catch(q){v.__v=null,(b||s!=null)&&(v.__e=g,v.__h=!!b,s[s.indexOf(g)]=null),Ht.__e(q,v,u)}}function S2(m,v){Ht.__c&&Ht.__c(v,m),m.some(function(u){try{m=u.__h,u.__h=[],m.some(function(c){c.call(u)})}catch(c){Ht.__e(c,u.__v)}})}function P2(m,v,u,c,i,s,f,g){var b,x,S,P=u.props,N=v.props,A=v.type,R=0;if(A==="svg"&&(i=!0),s!=null){for(;R<s.length;R++)if((b=s[R])&&"setAttribute"in b==!!A&&(A?b.localName===A:b.nodeType===3)){m=b,s[R]=null;break}}if(m==null){if(A===null)return document.createTextNode(N);m=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,N.is&&N),s=null,g=!1}if(A===null)P===N||g&&m.data===N||(m.data=N);else{if(s=s&&fd.call(m.childNodes),x=(P=u.props||db).dangerouslySetInnerHTML,S=N.dangerouslySetInnerHTML,!g){if(s!=null)for(P={},R=0;R<m.attributes.length;R++)P[m.attributes[R].name]=m.attributes[R].value;(S||x)&&(S&&(x&&S.__html==x.__html||S.__html===m.innerHTML)||(m.innerHTML=S&&S.__html||""))}if(x2(m,N,P,i,g),S)v.__k=[];else if(R=v.props.children,yb(m,Array.isArray(R)?R:[R],v,u,c,i&&A!=="foreignObject",s,f,s?s[0]:u.__k&&Jo(u,0),g),s!=null)for(R=s.length;R--;)s[R]!=null&&hb(s[R]);g||("value"in N&&(R=N.value)!==void 0&&(R!==m.value||A==="progress"&&!R||A==="option"&&R!==P.value)&&Vl(m,"value",R,P.value,!1),"checked"in N&&(R=N.checked)!==void 0&&R!==m.checked&&Vl(m,"checked",R,P.checked,!1))}return m}function Ob(m,v,u){try{typeof m=="function"?m(v):m.current=v}catch(c){Ht.__e(c,u)}}function Eb(m,v,u){var c,i;if(Ht.unmount&&Ht.unmount(m),(c=m.ref)&&(c.current&&c.current!==m.__e||Ob(c,null,v)),(c=m.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(s){Ht.__e(s,v)}c.base=c.__P=null}if(c=m.__k)for(i=0;i<c.length;i++)c[i]&&Eb(c[i],v,typeof m.type!="function");u||m.__e==null||hb(m.__e),m.__e=m.__d=void 0}function T2(m,v,u){return this.constructor(m,u)}fd=pb.slice,Ht={__e:function(m,v,u,c){for(var i,s,f;v=v.__;)if((i=v.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(m)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(m,c||{}),f=i.__d),f)return i.__E=i}catch(g){m=g}throw m}},cb=0,Zo.prototype.setState=function(m,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Hn({},this.state),typeof m=="function"&&(m=m(Hn({},u),this.props)),m&&Hn(u,m),m!=null&&this.__v&&(v&&this.__h.push(v),Bm(this))},Zo.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),Bm(this))},Zo.prototype.render=cd,Ri=[],Wl.__r=0;var _i=globalThis&&globalThis.__assign||function(){return _i=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},_i.apply(this,arguments)};function dd(m){var v=m.x,u=m.y,c=m.width,i=m.height,s=m.radius,f=m.className,g=v-c/2,b=u-i/2,x=_i(_i({width:10,height:10,cx:0,cy:0,rx:s||0,ry:s||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},m),{x:g,y:b});return Ke.exports.h("rect",_i({},x))}dd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ko;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(Ko||(Ko={}));function Ul(m){var v=m.x,u=m.y,c=m.width,i=m.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function Hm(m){var v=Ul(m),u=m.radius,c=v.minX,i=v.minY,s=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:s-u,y:i+u},{x:s-u,y:f-u},{x:c+u,y:f-u}]}function Gm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v.x,s=v.y,f={x:i,y:s},g=u.radius,b=Ul(u),x=Ul(c);if(i===b.minX){f.x=x.minX;var S=(s-u.y)/(u.height/2-g);S?f.y=c.y+(c.height/2-g)*S:f.y=c.y}else if(i===b.maxX){f.x=x.maxX;var S=(s-u.y)/(u.height/2-g);S?f.y=c.y+(c.height/2-g)*S:f.y=c.y}else if(s===b.minY){f.y=x.minY;var S=(i-u.x)/(u.width/2-g);S?f.x=c.x+(c.width/2-g)*S:f.x=c.x}else if(s===b.maxY){f.y=x.maxY;var S=(i-u.x)/(u.width/2-g);S?f.x=c.x+(c.width/2-g)*S:f.x=c.x}else{var P=Hm(u),N=Hm(c),A=Ul(u),R=A.minX,I=A.minY,L=A.maxX,G=A.maxY,U=-1;if(i-R<g&&s-I<g?U=0:L-i<g&&s-I<g?U=1:L-i<g&&G-s<g?U=2:i-R<g&&I-s<g&&(U=3),U>-1){var Y=Math.atan2(s-P[U].y,i-P[U].x);f.x=N[U].x+g*Math.cos(Y),f.y=N[U].y+g*Math.sin(Y)}}return f}function km(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=c.rx,s=c.ry,f=v,g=(v.y-u.y)/(v.x-u.x),b=i,x=s,S,P;return g>=1/0?(S=0,P=x):g<=-1/0?(S=0,P=-x):v.x-u.x>0?(S=b*x/Math.sqrt(x*x+b*b*g*g),P=b*x*g/Math.sqrt(x*x+b*b*g*g)):(S=-(b*x)/Math.sqrt(x*x+b*b*g*g),P=-(b*x*g)/Math.sqrt(x*x+b*b*g*g)),f={x:S+c.x,y:P+c.y},f}function $m(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v,s,f,g=v.x-u.x,b=v.y-u.y,x=u.rx,S=u.ry,P=Math.sqrt((x-Math.abs(g))*(x-Math.abs(g))+b*b)/Math.sqrt(x*x+S*S),N=c.rx,A=c.ry,R=Math.sqrt((N*N+A*A)*P*P*(N*N/(N*N+A*A))),I=R*(A/N);return g>=0?s=N-R:s=R-N,b>0?f=I:f=-I,i={x:s+c.x,y:f+c.y},i}var M2=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ao=globalThis&&globalThis.__assign||function(){return ao=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ao.apply(this,arguments)},w2=Ke.exports.LogicFlowUtil.StepDrag,A2=function(m){M2(v,m);function v(u){var c=m.call(this)||this;c.updatePosition=function(f){var g=f.deltaX,b=f.deltaY,x=c.nodeModel,S=x.x,P=x.y;c.nodeModel.x=S+g/2,c.nodeModel.y=P+b/2,c.nodeModel.moveText(g/2,b/2)},c.getResize=function(f){var g=f.index,b=f.deltaX,x=f.deltaY,S=f.width,P=f.height,N=f.pct,A=N===void 0?1:N,R={width:S,height:P};switch(g){case 0:R.width=S-b*A,R.height=P-x*A;break;case 1:R.width=S+b*A,R.height=P-x*A;break;case 2:R.width=S+b,R.height=P+x*A;break;case 3:R.width=S-b*A,R.height=P+x*A;break}return R},c.updateRect=function(f){var g=f.deltaX,b=f.deltaY,x=c.nodeModel,S=x.id,P=x.x,N=x.y,A=x.width,R=x.height,I=x.radius,L=c.index,G=c.getResize({index:L,deltaX:g,deltaY:b,width:A,height:R,pct:1}),U=c.nodeModel,Y=U.minWidth,ue=U.minHeight,ae=U.maxWidth,ee=U.maxHeight;if(G.width<Y||G.width>ae||G.height<ue||G.height>ee){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:g,deltaY:b}),c.nodeModel.width=G.width,c.nodeModel.height=G.height,c.nodeModel.setProperties({nodeSize:{width:G.width,height:G.height}});var q=c.getNodeEdges(S),se={x:P,y:N,width:A,height:R,radius:I},z={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:I},W={point:"",beforeNode:se,afterNode:z},T;q.sourceEdges.forEach(function(M){W.point=M.startPoint,T=Gm(W),M.updateStartPoint(T)}),q.targetEdges.forEach(function(M){W.point=M.endPoint,T=Gm(W),M.updateEndPoint(T)}),c.eventEmit({beforeNode:se,afterNode:z})},c.updateEllipse=function(f){var g=f.deltaX,b=f.deltaY,x=c.nodeModel,S=x.id,P=x.rx,N=x.ry,A=x.x,R=x.y,I=c.index,L=P,G=N,U=c.getResize({index:I,deltaX:g,deltaY:b,width:L,height:G,pct:1/2}),Y=c.nodeModel,ue=Y.minWidth,ae=Y.minHeight,ee=Y.maxWidth,q=Y.maxHeight;if(U.width<ue/2||U.width>ee/2||U.height<ae/2||U.height>q/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:g,deltaY:b}),c.nodeModel.rx=c.nodeModel.rx+g/2,c.nodeModel.ry=c.nodeModel.ry+b/2,c.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var se=c.getNodeEdges(S),z={x:A,y:R},W={rx:U.width,ry:U.height,x:c.nodeModel.x,y:c.nodeModel.y},T={point:{},beforeNode:z,afterNode:W},M;se.sourceEdges.forEach(function(D){T.point=D.startPoint,M=km(T),D.updateStartPoint(M)}),se.targetEdges.forEach(function(D){T.point=D.endPoint,M=km(T),D.updateEndPoint(M)}),c.eventEmit({beforeNode:ao(ao({},z),{rx:P,ry:N}),afterNode:W})},c.updateDiamond=function(f){var g=f.deltaX,b=f.deltaY,x=c.nodeModel,S=x.id,P=x.rx,N=x.ry,A=x.x,R=x.y,I=c.index,L=P,G=N,U=c.getResize({index:I,deltaX:g,deltaY:b,width:L,height:G,pct:1/2}),Y=c.nodeModel,ue=Y.minWidth,ae=Y.minHeight,ee=Y.maxWidth,q=Y.maxHeight;if(U.width<ue/2||U.width>ee/2||U.height<ae/2||U.height>q/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:g,deltaY:b}),c.nodeModel.rx=c.nodeModel.rx+g/2,c.nodeModel.ry=c.nodeModel.ry+b/2,c.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var se={x:A,y:R,rx:P,ry:N},z={rx:U.width,ry:U.height,x:c.nodeModel.x,y:c.nodeModel.y},W={point:{},beforeNode:se,afterNode:z},T,M=c.getNodeEdges(S);M.sourceEdges.forEach(function(D){W.point=D.startPoint,T=$m(W),D.updateStartPoint(T)}),M.targetEdges.forEach(function(D){W.point=D.endPoint,T=$m(W),D.updateEndPoint(T)}),c.eventEmit({beforeNode:se,afterNode:z})},c.eventEmit=function(f){var g=f.beforeNode,b=f.afterNode,x=c.nodeModel,S=x.id,P=x.modelType,N=x.type,A=ao({id:S,modelType:P,type:N},g),R=ao({id:S,modelType:P,type:N},b);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:A,newNodeSize:R})},c.onDraging=function(f){var g=f.deltaX,b=f.deltaY,x=c.nodeModel.modelType;x===Ko.RECT_NODE||x===Ko.HTML_NODE?c.updateRect({deltaX:g,deltaY:b}):x===Ko.ELLIPSE_NODE?c.updateEllipse({deltaX:g,deltaY:b}):x===Ko.DIAMOND_NODE&&c.updateDiamond({deltaX:g,deltaY:b})},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel;var i=c.graphModel.gridSize,s=2;return i>1&&(s=2*i),c.nodeModel.gridSize&&(s=2*c.nodeModel.gridSize),c.state={},c.dragHandler=new w2({onDraging:c.onDraging,step:s}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,s=[],f=[],g=0;g<i.length;g++){var b=i[g];b.sourceNodeId===u?s.push(b):i[g].targetNodeId===u&&f.push(b)}return{sourceEdges:s,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,s=u.index,f=u.model,g=f.getControlPointStyle();return Ii("g",{className:"lf-resize-control-"+s},Ii(dd,ao({className:"lf-node-control"},{x:c,y:i},g,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Zo),N2=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Kl=globalThis&&globalThis.__assign||function(){return Kl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Kl.apply(this,arguments)},Ql=function(m){N2(v,m);function v(){var u=m.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,s=c.x,f=c.y,g=c.width,b=c.height,x={minX:s-g/2,minY:f-b/2,maxX:s+g/2,maxY:f+b/2},S=x.minX,P=x.minY,N=x.maxX,A=x.maxY,R=[{x:S,y:P},{x:N,y:P},{x:N,y:A},{x:S,y:A}];return R.map(function(I,L){return Ii(A2,Kl({index:L},I,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,f=u.height,g=u.getResizeOutlineStyle();return Ii(dd,Kl({fill:"none"},g,{x:c,y:i,width:s,height:f}))},v.prototype.render=function(){return Ii("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Zo),xb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),D2=function(m){xb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){console.log(u,c)},v}(Ke.exports.RectNodeModel),j2=function(m){xb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),u?this.getControlGroup():"")},v}(Ke.exports.RectNode),Sb={type:"rect",view:j2,model:D2},Pb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Pb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(Ke.exports.EllipseNodeModel);(function(m){Pb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props.model;return Ke.exports.h("g",null,this.getResizeShape(),u.isSelected?this.getControlGroup():"")},v})(Ke.exports.EllipseNode);var id=globalThis&&globalThis.__assign||function(){return id=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},id.apply(this,arguments)};function C2(m){var v=m.fillOpacity,u=v===void 0?1:v,c=m.strokeWidth,i=c===void 0?1:c,s=m.strokeOpacity,f=s===void 0?1:s,g=m.fill,b=g===void 0?"transparent":g,x=m.stroke,S=x===void 0?"#000":x,P=m.points,N=m.className,A=N===void 0?"lf-basic-shape":N,R={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:f,points:"",className:A};return R.points=P.map(function(I){return I.join(",")}).join(" "),Ke.exports.h("polygon",id({},R))}var Tb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ad.apply(this,arguments)};(function(m){Tb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(Ke.exports.DiamondNodeModel);(function(m){Tb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return Ke.exports.h("g",null,Ke.exports.h(C2,ad({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),u?this.getControlGroup():"")},v})(Ke.exports.DiamondNode);var Mb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Mb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this);return u.stroke="none",u.hover&&(u.hover.stroke="none"),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(Ke.exports.HtmlNodeModel);(function(m){Mb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props.model.isSelected;return Ke.exports.h("g",null,this.getResizeShape(),u?this.getControlGroup():"")},v})(Ke.exports.HtmlNode);var wb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zl=globalThis&&globalThis.__assign||function(){return Zl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zl.apply(this,arguments)},R2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s},Um=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(R2(arguments[v]));return m},Xm=500,Ym=300;(function(m){wb(v,m);function v(){var u=m!==null&&m.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Xm,u.unfoldedHight=Ym,u}return v.prototype.initNodeData=function(u){var c=this;m.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Xm,this.height=Ym,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=m.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(s){var f=c.graphModel.getElement(s);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=m.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(s,f){var g=s.id,b=s.sourceNodeId,x=s.targetNodeId,S=s.startPoint,P=s.endPoint,N=s.type,A=s.properties,R=s.text,I={id:g+"__"+f,sourceNodeId:b,targetNodeId:x,startPoint:S,endPoint:P,type:N,properties:A,text:R==null?void 0:R.value};s.virtual&&i.graphModel.deleteEdgeById(s.id);var L=i.graphModel.group.getNodeGroup(x);L||(L=i.graphModel.getNodeModelById(x));var G=i.graphModel.group.getNodeGroup(b);G||(G=i.graphModel.getNodeModelById(b)),u&&s.visible!==!1&&(i.children.has(b)||i.id===b?(I.startPoint=void 0,I.sourceNodeId=i.id):(I.endPoint=void 0,I.targetNodeId=i.id),(L.id!==i.id||G.id!==i.id)&&i.createVirtualEdge(I),s.visible=!1),!u&&s.visible===!1&&(L&&L.isGroup&&L.isFolded?(I.targetNodeId=L.id,I.endPoint=void 0,i.createVirtualEdge(I)):G&&G.isGroup&&G.isFolded?(I.sourceNodeId=G.id,I.startPoint=void 0,i.createVirtualEdge(I)):s.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return c>=this.x-this.width/2&&s<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,s=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&s<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=m.prototype.getData.call(this);u.children=Um(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=m.prototype.getData.call(this);u.children=Um(this.children);var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v})(Sb.model);(function(m){wb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?m.prototype.getControlGroup.call(this):null},v.prototype.getAddedableShape=function(){var u=this.props.model,c=u.width,i=u.height,s=u.x,f=u.y,g=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),P=c+x+8,N=i+x+8;return Ke.exports.h("rect",Zl(Zl({},S),{width:P,height:N,x:s-P/2,y:f-N/2,rx:g,ry:g}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var s=Ke.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return Ke.exports.h("g",{},[Ke.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),s])},v.prototype.getResizeShape=function(){return Ke.exports.h("g",{},[this.getAddedableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Sb.view);var I2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;var Wm=globalThis&&globalThis.__assign||function(){return Wm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Wm.apply(this,arguments)},Vm=globalThis&&globalThis.__assign||function(){return Vm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Vm.apply(this,arguments)},_2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(g){f={error:g}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return s};globalThis&&globalThis.__spread;const B2={class:"control-container"},L2=["title","onMouseenter"],z2=["disabled","onClick"],F2=Bi({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(m,{emit:v}){const u=m,c=Em("controlButton3",null),i=Em("controlButton4",null);let s=uo(-1),f=uo([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"\u4E0A\u4E00\u6B65",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"\u4E0B\u4E00\u6B65",size:"17",disabled:!0},{icon:"icon-download-hs",text:"\u4E0B\u8F7D\u56FE\u7247",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",size:"17",disabled:!1}]);const g=(x,S)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((P,N)=>{let A=u.lf;S===1&&A.zoom(!0),S===6&&v("catData"),S===N&&A[P]()})},b=x=>{s.value=x};return Zm(()=>{u.lf.on("history:change",({data:{undoAble:x,redoAble:S}})=>{zt(f)[3].disabled=zt(c).disabled=!x,zt(f)[4].disabled=zt(i).disabled=!S})}),(x,S)=>{const P=ji("el-tooltip");return on(),lo("div",B2,[gn("ul",null,[(on(!0),lo(Jm,null,Qm(zt(f),(N,A)=>(on(),lo("li",{key:A,title:N.text,class:"dark:color-bg_color",onMouseenter:xm(R=>b(A),["prevent"]),onMouseleave:S[0]||(S[0]=xm(R=>qm(s)?s.value=-1:s=-1,["prevent"]))},[Wo(P,{content:N.text,visible:zt(s)===A,placement:"right"},{default:Vo(()=>[gn("button",{ref_for:!0,ref:"controlButton"+A,disabled:N.disabled,style:Sm({cursor:N.disabled===!1?"pointer":"not-allowed",color:N.disabled===!1?"":"#00000040"}),onClick:R=>g(N,A)},[gn("span",{class:eb("iconfont "+N.icon),style:Sm({fontSize:`${N.size}px`})},null,6)],12,z2)]),_:2},1032,["content","visible"])],40,L2))),128))])])}}});const H2=ud(F2,[["__scopeId","data-v-e792450b"]]),G2={class:"node-panel"},k2=["onMousedown"],$2={key:0,class:"shape"},U2={class:"node-label"},X2=Bi({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(m){const v=m;let u=uo({a:"efrwe",b:"wewe"});const c=i=>{v.lf.dnd.startDrag({type:i.type,properties:zt(u)})};return(i,s)=>(on(),lo("div",G2,[(on(!0),lo(Jm,null,Qm(v.nodeList,f=>(on(),lo("div",{class:"node-item dark:color-bg_color",key:f.text,onMousedown:g=>c(f)},[gn("div",{class:eb(["node-item-icon",f.class])},[f.type==="user"||f.type==="time"?(on(),lo("div",$2)):tb("",!0)],2),gn("span",U2,jC(f.text),1)],40,k2))),128))]))}});const Y2=ud(X2,[["__scopeId","data-v-04c78c7c"]]);var Ab={exports:{}};(function(m,v){(function(u,c){m.exports=c(BC)})(CC,function(u){return function(){var c={789:function(g){g.exports=u}},i={};function s(g){var b=i[g];if(b!==void 0)return b.exports;var x=i[g]={exports:{}};return c[g](x,x.exports,s),x.exports}s.d=function(g,b){for(var x in b)s.o(b,x)&&!s.o(g,x)&&Object.defineProperty(g,x,{enumerable:!0,get:b[x]})},s.o=function(g,b){return Object.prototype.hasOwnProperty.call(g,b)},s.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var f={};return function(){function g(T,M){(M==null||M>T.length)&&(M=T.length);for(var D=0,X=new Array(M);D<M;D++)X[D]=T[D];return X}function b(T,M){if(T){if(typeof T=="string")return g(T,M);var D=Object.prototype.toString.call(T).slice(8,-1);return D==="Object"&&T.constructor&&(D=T.constructor.name),D==="Map"||D==="Set"?Array.from(T):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?g(T,M):void 0}}function x(T){return function(M){if(Array.isArray(M))return g(M)}(T)||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(T)||b(T)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(T,M,D){return M in T?Object.defineProperty(T,M,{value:D,enumerable:!0,configurable:!0,writable:!0}):T[M]=D,T}s.r(f),s.d(f,{default:function(){return W}});var P=s(789),N=(0,P.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var T=this.data,M=this.onClick;return(0,P.createVNode)("span",{class:"vjs-tree-brackets",onClick:M},[T])}}),A=(0,P.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(T,M){var D=M.emit;return{uiType:(0,P.computed)(function(){return T.isMultiple?"checkbox":"radio"}),model:(0,P.computed)({get:function(){return T.checked},set:function(X){return D("update:modelValue",X)}})}},render:function(){var T=this.uiType,M=this.model,D=this.$emit;return(0,P.createVNode)("label",{class:["vjs-check-controller",M?"is-checked":""],onClick:function(X){return X.stopPropagation()}},[(0,P.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(T)},null),(0,P.createVNode)("input",{checked:M,class:"vjs-check-controller-original is-".concat(T),type:T,onChange:function(){return D("change",M)}},null)])}}),R=(0,P.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var T=this.nodeType,M=this.onClick,D=T==="objectStart"||T==="arrayStart";return D||T==="objectCollapsed"||T==="arrayCollapsed"?(0,P.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(D?"open":"close"),onClick:M},[(0,P.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,P.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function I(T){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},I(T)}function L(T){return Object.prototype.toString.call(T).slice(8,-1).toLowerCase()}function G(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,X=arguments.length>3?arguments[3]:void 0,Z=X||{},le=Z.key,be=Z.index,me=Z.type,ge=me===void 0?"content":me,Ee=Z.showComma,Oe=Ee!==void 0&&Ee,Ae=Z.length,ze=Ae===void 0?1:Ae,Ye=L(T);if(Ye==="array"){var Re=U(T.map(function(_e,_,F){return G(_e,"".concat(M,"[").concat(_,"]"),D+1,{index:_,showComma:_!==F.length-1,length:ze,type:ge})}));return[G("[",M,D,{showComma:!1,key:le,length:T.length,type:"arrayStart"})[0]].concat(Re,G("]",M,D,{showComma:Oe,length:T.length,type:"arrayEnd"})[0])}if(Ye==="object"){var Se=Object.keys(T),Ie=U(Se.map(function(_e,_,F){return G(T[_e],/^[a-zA-Z_]\w*$/.test(_e)?"".concat(M,".").concat(_e):"".concat(M,'["').concat(_e,'"]'),D+1,{key:_e,showComma:_!==F.length-1,length:ze,type:ge})}));return[G("{",M,D,{showComma:!1,key:le,index:be,length:Se.length,type:"objectStart"})[0]].concat(Ie,G("}",M,D,{showComma:Oe,length:Se.length,type:"objectEnd"})[0])}return[{content:T,level:D,key:le,index:be,path:M,showComma:Oe,length:ze,type:ge}]}function U(T){if(typeof Array.prototype.flat=="function")return T.flat();for(var M=x(T),D=[];M.length;){var X=M.shift();Array.isArray(X)?M.unshift.apply(M,x(X)):D.push(X)}return D}function Y(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(T===null)return T;if(T instanceof Date)return new Date(T);if(T instanceof RegExp)return new RegExp(T);if(I(T)!=="object")return T;if(M.get(T))return M.get(T);if(Array.isArray(T)){var D=T.map(function(le){return Y(le,M)});return M.set(T,D),D}var X={};for(var Z in T)X[Z]=Y(T[Z],M);return M.set(T,X),X}function ue(T,M){var D=Object.keys(T);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(T);M&&(X=X.filter(function(Z){return Object.getOwnPropertyDescriptor(T,Z).enumerable})),D.push.apply(D,X)}return D}function ae(T){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?ue(Object(D),!0).forEach(function(X){S(T,X,D[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(D)):ue(Object(D)).forEach(function(X){Object.defineProperty(T,X,Object.getOwnPropertyDescriptor(D,X))})}return T}var ee={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},q=(0,P.defineComponent)({name:"TreeNode",props:ae(ae({},ee),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(T,M){var D=M.emit,X=(0,P.computed)(function(){return L(T.node.content)}),Z=(0,P.computed)(function(){return"vjs-value vjs-value-".concat(X.value)}),le=(0,P.computed)(function(){return T.showDoubleQuotes?'"'.concat(T.node.key,'"'):T.node.key}),be=(0,P.computed)(function(){return T.selectableType==="multiple"}),me=(0,P.computed)(function(){return T.selectableType==="single"}),ge=(0,P.computed)(function(){return T.nodeSelectable(T.node)&&(be.value||me.value)}),Ee=(0,P.reactive)({editing:!1}),Oe=function(_){var F,V,fe=(V=(F=_.target)===null||F===void 0?void 0:F.value)==="null"?null:V==="undefined"?void 0:V==="true"||V!=="false"&&(V[0]+V[V.length-1]==='""'||V[0]+V[V.length-1]==="''"?V.slice(1,-1):typeof Number(V)=="number"&&!isNaN(Number(V))||V==="NaN"?Number(V):V);D("valueChange",fe,T.node.path)},Ae=(0,P.computed)(function(){var _,F,V=((_=(F=T.node)===null||F===void 0?void 0:F.content)!==null&&_!==void 0?_:"")+"";return X.value==="string"?'"'.concat(V,'"'):V}),ze=function(){var _=T.renderNodeValue;return _?_({node:T.node,defaultValue:Ae.value}):Ae.value},Ye=function(){D("bracketsClick",!T.collapsed,T.node.path)},Re=function(){D("iconClick",!T.collapsed,T.node.path)},Se=function(){D("selectedChange",T.node)},Ie=function(){D("nodeClick",T.node),ge.value&&T.selectOnClickNode&&D("selectedChange",T.node)},_e=function(_){if(T.editable&&!Ee.editing){Ee.editing=!0;var F=function V(fe){var ve;fe.target!==_.target&&((ve=fe.target)===null||ve===void 0?void 0:ve.parentElement)!==_.target&&(Ee.editing=!1,document.removeEventListener("click",V))};document.removeEventListener("click",F),document.addEventListener("click",F)}};return function(){var _,F=T.node;return(0,P.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":T.showSelectController,"has-carets":T.showIcon,"is-highlight":T.highlightSelectedNode&&T.checked},onClick:Ie,style:T.style},[T.showLineNumber&&(0,P.createVNode)("span",{class:"vjs-node-index"},[F.id+1]),T.showSelectController&&ge.value&&F.type!=="objectEnd"&&F.type!=="arrayEnd"&&(0,P.createVNode)(A,{isMultiple:be.value,checked:T.checked,onChange:Se},null),(0,P.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(F.level)).map(function(V,fe){return(0,P.createVNode)("div",{key:fe,class:{"vjs-indent-unit":!0,"has-line":T.showLine}},null)}),T.showIcon&&(0,P.createVNode)(R,{nodeType:F.type,onClick:Re},null)]),F.key&&(0,P.createVNode)("span",{class:"vjs-key"},[(_=T.renderNodeKey,_?_({node:T.node,defaultKey:le.value||""}):le.value),(0,P.createVNode)("span",null,[(0,P.createTextVNode)(":")])]),(0,P.createVNode)("span",null,[F.type!=="content"&&F.content?(0,P.createVNode)(N,{data:F.content.toString(),onClick:Ye},null):(0,P.createVNode)("span",{class:Z.value,onClick:!T.editable||T.editableTrigger&&T.editableTrigger!=="click"?void 0:_e,onDblclick:T.editable&&T.editableTrigger==="dblclick"?_e:void 0},[T.editable&&Ee.editing?(0,P.createVNode)("input",{value:Ae.value,onChange:Oe,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):ze()]),F.showComma&&(0,P.createVNode)("span",null,[","]),T.showLength&&T.collapsed&&(0,P.createVNode)("span",{class:"vjs-comment"},[(0,P.createTextVNode)(" // "),F.length,(0,P.createTextVNode)(" items ")])])])}}});function se(T,M){var D=Object.keys(T);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(T);M&&(X=X.filter(function(Z){return Object.getOwnPropertyDescriptor(T,Z).enumerable})),D.push.apply(D,X)}return D}function z(T){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?se(Object(D),!0).forEach(function(X){S(T,X,D[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(D)):se(Object(D)).forEach(function(X){Object.defineProperty(T,X,Object.getOwnPropertyDescriptor(D,X))})}return T}var W=(0,P.defineComponent)({name:"Tree",props:z(z({},ee),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(T,M){var D=M.emit,X=M.slots,Z=(0,P.ref)(),le=(0,P.computed)(function(){return G(T.data,T.rootPath)}),be=(0,P.reactive)({translateY:0,visibleData:null,hiddenPaths:le.value.reduce(function(_,F){var V,fe=F.level>=T.deep,ve=(V=T.pathCollapsible)===null||V===void 0?void 0:V.call(T,F);return F.type!=="objectStart"&&F.type!=="arrayStart"||!fe&&!ve?_:z(z({},_),{},S({},F.path,1))},{})}),me=(0,P.computed)(function(){for(var _=null,F=[],V=le.value.length,fe=0;fe<V;fe++){var ve=z(z({},le.value[fe]),{},{id:fe}),de=be.hiddenPaths[ve.path];if(_&&_.path===ve.path){var Be=_.type==="objectStart",Je=z(z(z({},ve),_),{},{showComma:ve.showComma,content:Be?"{...}":"[...]",type:Be?"objectCollapsed":"arrayCollapsed"});_=null,F.push(Je)}else{if(de&&!_){_=ve;continue}if(_)continue;F.push(ve)}}return F}),ge=(0,P.computed)(function(){var _=T.selectedValue;return _&&T.selectableType==="multiple"&&Array.isArray(_)?_:[_]}),Ee=(0,P.computed)(function(){return!T.selectableType||T.selectOnClickNode||T.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),Oe=function(){var _=me.value;if(T.virtual){var F,V=T.height/T.itemHeight,fe=((F=Z.value)===null||F===void 0?void 0:F.scrollTop)||0,ve=Math.floor(fe/T.itemHeight),de=ve<0?0:ve+V>_.length?_.length-V:ve;de<0&&(de=0);var Be=de+V;be.translateY=de*T.itemHeight,be.visibleData=_.filter(function(Je,Xe){return Xe>=de&&Xe<Be})}else be.visibleData=_},Ae=function(){Oe()},ze=function(_){var F,V,fe=_.path,ve=T.selectableType;if(ve==="multiple"){var de=ge.value.findIndex(function(We){return We===fe}),Be=x(ge.value);de!==-1?Be.splice(de,1):Be.push(fe),D("update:selectedValue",Be),D("selectedChange",Be,x(ge.value))}else if(ve==="single"&&ge.value[0]!==fe){var Je=(F=ge.value,V=1,function(We){if(Array.isArray(We))return We}(F)||function(We,ye){var it=We==null?null:typeof Symbol<"u"&&We[Symbol.iterator]||We["@@iterator"];if(it!=null){var qe,Fe,Qe=[],xt=!0,lt=!1;try{for(it=it.call(We);!(xt=(qe=it.next()).done)&&(Qe.push(qe.value),!ye||Qe.length!==ye);xt=!0);}catch(mt){lt=!0,Fe=mt}finally{try{xt||it.return==null||it.return()}finally{if(lt)throw Fe}}return Qe}}(F,V)||b(F,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],Xe=fe;D("update:selectedValue",Xe),D("selectedChange",Xe,Je)}},Ye=function(_){D("nodeClick",_)},Re=function(_,F){if(_)be.hiddenPaths=z(z({},be.hiddenPaths),{},S({},F,1));else{var V=z({},be.hiddenPaths);delete V[F],be.hiddenPaths=V}},Se=function(_,F){T.collapsedOnClickBrackets&&Re(_,F),D("bracketsClick",_)},Ie=function(_,F){Re(_,F),D("iconClick",_)},_e=function(_,F){var V=Y(T.data),fe=T.rootPath;new Function("data","val","data".concat(F.slice(fe.length),"=val"))(V,_),D("update:data",V)};return(0,P.watchEffect)(function(){Ee.value&&function(_){throw new Error("[VueJSONPretty] ".concat(_))}(Ee.value)}),(0,P.watchEffect)(function(){me.value&&Oe()}),function(){var _,F,V=(_=T.renderNodeKey)!==null&&_!==void 0?_:X.renderNodeKey,fe=(F=T.renderNodeValue)!==null&&F!==void 0?F:X.renderNodeValue,ve=be.visibleData&&be.visibleData.map(function(de){return(0,P.createVNode)(q,{key:de.id,node:de,collapsed:!!be.hiddenPaths[de.path],showDoubleQuotes:T.showDoubleQuotes,showLength:T.showLength,checked:ge.value.includes(de.path),selectableType:T.selectableType,showLine:T.showLine,showLineNumber:T.showLineNumber,showSelectController:T.showSelectController,selectOnClickNode:T.selectOnClickNode,nodeSelectable:T.nodeSelectable,highlightSelectedNode:T.highlightSelectedNode,editable:T.editable,editableTrigger:T.editableTrigger,showIcon:T.showIcon,renderNodeKey:V,renderNodeValue:fe,onNodeClick:Ye,onBracketsClick:Se,onIconClick:Ie,onSelectedChange:ze,onValueChange:_e,style:T.itemHeight&&T.itemHeight!==20?{lineHeight:"".concat(T.itemHeight,"px")}:{}},null)});return(0,P.createVNode)("div",{ref:Z,class:{"vjs-tree":!0,"is-virtual":T.virtual},onScroll:T.virtual?Ae:void 0,style:T.showLineNumber?z({paddingLeft:"".concat(12*Number(me.value.length.toString().length),"px")},T.style):T.style},[T.virtual?(0,P.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(T.height,"px")}},[(0,P.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(me.value.length*T.itemHeight,"px")}},[(0,P.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(be.translateY,"px)")}},[ve])])]):ve])}}})}(),f}()})})(Ab);const W2=Km(Ab.exports);const V2=Bi({__name:"DataDialog",props:{graphData:Object},setup(m){const v=m;return(u,c)=>(on(),rd(zt(W2),{path:"res",deep:3,showLength:!0,data:v.graphData},null,8,["data"]))}}),K2=ld(H2),Z2=ld(Y2),J2=ld(V2),Q2={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function q2(m){const{incoming:v,outgoing:u,properties:c,key:i}=m,{text:s,startPoint:f,endPoint:g,pointsList:b,logicFlowType:x}=c,S={id:i,type:x,sourceNodeId:v[0],targetNodeId:u[0],text:s,startPoint:f,endPoint:g,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(N=>{P.indexOf(N)===-1&&(S.properties[N]=m.properties[N])}),S}function eR(m){const{properties:v,key:u}=m,{x:c,y:i,text:s,logicFlowType:f}=v,g={id:u,type:f,x:c,y:i,text:s,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(x=>{b.indexOf(x)===-1&&(g.properties[x]=m.properties[x])}),g}function tR(m){const v={nodes:[],edges:[]},u=m.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===Q2.SEQUENCE_FLOW){const i=q2(c);v.edges.push(i)}else{const i=eR(c);v.nodes.push(i)}}),v}const rR=m=>(RC("data-v-d0ad9326"),m=m(),IC(),m),nR={class:"card-header"},oR={class:"font-medium"},iR=rb(" \u6D41\u7A0B\u56FE\u7EC4\u4EF6\uFF0C\u91C7\u7528\u5F00\u6E90\u7684 "),aR=rb(" LogicFlow "),uR={class:"logic-flow-view"},lR=rR(()=>gn("div",{id:"LF-Turbo"},null,-1)),sR=Bi({name:"FlowChart"}),fR=Bi({...sR,setup(m){let v=uo(null),u=uo(null),c=uo(!1),i=uo({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),s=FC;function f(){kl.use(s2),kl.use(l2),kl.use(O2);const x=new kl({...zt(i),container:document.querySelector("#LF-Turbo")});v.value=x,zt(v).setDefaultEdgeType("bpmn:sequenceFlow"),g()}function g(){const x=tR(zC);v.value.render(x)}function b(){u.value=zt(v).getGraphData(),c.value=!0}return Zm(()=>{f()}),(x,S)=>{const P=ji("el-link"),N=ji("el-scrollbar"),A=ji("el-dialog"),R=ji("el-card");return on(),rd(R,null,{header:Vo(()=>[gn("div",nR,[gn("span",oR,[iR,Wo(P,{href:"http://logic-flow.org/",target:"_blank",icon:zt(_C)("set-up"),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Vo(()=>[aR]),_:1},8,["icon"])])])]),default:Vo(()=>[gn("div",uR,[zt(v)?(on(),rd(zt(K2),{key:0,class:"demo-control",lf:zt(v),catTurboData:!1,onCatData:b},null,8,["lf"])):tb("",!0),Wo(zt(Z2),{lf:zt(v),nodeList:zt(s)},null,8,["lf","nodeList"]),lR,Wo(A,{customClass:"flow-dialog",title:"\u6570\u636E",modelValue:zt(c),"onUpdate:modelValue":S[0]||(S[0]=I=>qm(c)?c.value=I:c=I),width:"50%"},{default:Vo(()=>[Wo(N,null,{default:Vo(()=>[Wo(zt(J2),{graphData:zt(u)},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});const hR=ud(fR,[["__scopeId","data-v-d0ad9326"]]);export{hR as default};
